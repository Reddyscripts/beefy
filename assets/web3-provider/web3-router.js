(function(a,b){typeof exports=="object"&&typeof module<"u"?b(exports):typeof define=="function"&&define.amd?define(["exports"],b):(a=typeof globalThis<"u"?globalThis:a||self,b(a["@walletconnect/ethereum-provider"]={}))})(this,function(ba){"use strict";var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I,bJ,lR,dY,lv,lu,ek,dQ,m,kS,kR,Y,L,fd,abg,iU,aJ,iS,ck,fn,ao,aaO,aaJ,iB,iy,iw,aaz,aay,bN,dq,dp,dl,aaq,aap,aal,dj,fH,zW,zS,zt,zp,zk,zf,yY,yy,ys,yj,x$,xH,xC,hk,xB,xx,xw,xs,xr,gE,xn,xl,xj,xi,xf,xd,xb,xa,wZ,wY,wW,g_,wH,wE,hy,wz,wy,wx,wv,wr,wm,wl,hX,wi,hY,k,fF,fC,vC,dJ,jE,cw,j_,bc,kf,bz,kj,lT,kT,kY,lk,hK,bA,lL,lB,cI,lr,li,t,kH,er,kl,ez,ke,cx,uL,jW,jQ,jO,uH,uD,uA,ue,iP,ud,ub,iJ,iH,tM,hM,tI,tH,hH,tG,cU,gv,gt,sj,hz,bU,c$,hE,hG,bX,hI,bY,hL,hN,rX,b_,fT,fQ,rq,dn,ci,ix,cj,rp,rn,iC,iE,iG,aX,iI,iK,iM,q,fo,fm,qy,qx,eX,jo,eW,jr,bD,ju,M,jx,eH,jP,kv,es,eq,nX,nV,aw,kX,av,k_,ed,nk,ni,lE,ng,nf,lH,S,nd,mT,l_,ma,mc,me,mh,mr,mu,mx,mC,mJ,mK,lP,mM,mN,mO,mQ,mR,lN,mU,mV,mW,mX,mY,mZ,m_,m$,na,nb,nc,lK,nn,nr,ot,ou,ov,kN,ox,oy,kM,cL,en,oD,kG,oF,oG,kF,oI,oK,kE,oM,oN,kD,kC,oV,kA,oX,oY,kz,kx,pp,pq,pr,ka,pt,pu,j$,ad,eE,eF,jV,cr,eM,pR,pS,pT,jG,pV,pW,jF,dH,pZ,qr,qs,qt,jp,qv,qw,jm,dA,e$,qK,qL,qM,jg,qO,qP,jf,ff,jd,iN,d$,aj,aa,ro,fx,bp,rr,fD,rR,hZ,rT,rU,iX,rW,sc,hC,se,sf,hB,sh,sn,hu,sp,sq,ht,ss,su,gm,gx,gd,gc,fR,fe,cG,vs,lF,X,dV,vz,vB,jC,jt,jk,dE,jh,dy,vR,iO,aK,fu,ai,iq,h_,wj,wn,wo,ws,ww,hS,hf,gr,gZ,xe,gP,xg,xh,gQ,cR,xp,xq,cT,xu,xv,bM,xz,xA,go,xE,xF,xG,xK,xL,hs,xP,xQ,xR,xU,xV,xW,xZ,x_,bW,yg,yh,f$,yl,ym,hA,yq,yr,bV,yv,yw,hD,yG,yH,bH,yL,yM,hJ,yQ,yR,yS,yV,yW,fX,y_,y$,hO,zd,ze,aL,zi,zj,dd,zm,zn,zo,zq,zr,hR,zu,zv,hV,zy,zz,zA,zC,zD,zE,id,zK,zL,fM,zP,zQ,fL,zU,zV,ce,z_,z$,aaa,aad,aae,cK,aai,aaj,fA,aan,aao,dk,aas,aat,bO,aaw,aax,bK,aaB,aaC,aaD,aaG,aaH,aaI,aaL,aaM,aaN,aaQ,aaR,fq,aaV,aaW,ds,aa_,aa$,dt,abd,abe,bd,abi,abj,abk,abn,abo,dz,abs,abt,abu,abw,abx,aby,abB,abC,jw,abG,abH,abI,abL,abM,abN,abQ,abR,jD,abV,abW,abX,ab_,ab$,jI,acd,ace,acf,ach,aci,acj,kb,acn,aco,acp,kK,acr,acs,kL,acu,acv,el,acz,acA,kW,acE,acF,cF,acK,acL,lI,acO;function acN(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function aT(b){var c=b.default,a;return typeof c=="function"?(a=function(){return c.apply(this,arguments)},a.prototype=c.prototype):a={},Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(b).forEach(function(c){var d=Object.getOwnPropertyDescriptor(b,c);Object.defineProperty(a,c,d.get?d:{enumerable:!0,get:function(){return b[c]}})}),a}I={exports:{}},bJ=typeof Reflect=="object"?Reflect:null,lR=bJ&&typeof bJ.apply=="function"?bJ.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c)},bJ&&typeof bJ.ownKeys=="function"?dY=bJ.ownKeys:Object.getOwnPropertySymbols?dY=function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:dY=function(a){return Object.getOwnPropertyNames(a)};function acM(a){console&&console.warn&&console.warn(a)}lv=Number.isNaN||function(a){return a!==a};function s(){s.init.call(this)}I.exports=s,I.exports.once=acC,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0,lu=10;function dX(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return lu},set:function(a){if(typeof a!="number"||a<0||lv(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");lu=a}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(a){if(typeof a!="number"||a<0||lv(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this};function lt(a){return a._maxListeners===void 0?s.defaultMaxListeners:a._maxListeners}s.prototype.getMaxListeners=function(){return lt(this)},s.prototype.emit=function(g){for(var c=[],a=1,e,f,b,h,d,i,j;a<arguments.length;a++)c.push(arguments[a]);if(e=g==="error",f=this._events,f!==void 0)e=e&&f.error===void 0;else if(!e)return!1;if(e)throw c.length>0&&(b=c[0]),b instanceof Error?b:(h=new Error("Unhandled error."+(b?" ("+b.message+")":"")),h.context=b,h);if(d=f[g],d===void 0)return!1;if(typeof d=="function")lR(d,this,c);else for(i=d.length,j=kZ(d,i),a=0;a<i;++a)lR(j[a],this,c);return!0};function ls(c,e,b,h){var g,d,a,f;return dX(b),d=c._events,d===void 0?(d=c._events=Object.create(null),c._eventsCount=0):(d.newListener!==void 0&&(c.emit("newListener",e,b.listener?b.listener:b),d=c._events),a=d[e]),a===void 0?(a=d[e]=b,++c._eventsCount):(typeof a=="function"?a=d[e]=h?[b,a]:[a,b]:h?a.unshift(b):a.push(b),g=lt(c),g>0&&a.length>g&&!a.warned)&&(a.warned=!0,f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit"),f.name="MaxListenersExceededWarning",f.emitter=c,f.type=e,f.count=a.length,acM(f)),c}s.prototype.addListener=function(a,b){return ls(this,a,b,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(a,b){return ls(this,a,b,!0)};function acI(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function lh(d,e,b){var c={fired:!1,wrapFn:void 0,target:d,type:e,listener:b},a=acI.bind(c);return a.listener=b,c.wrapFn=a,a}s.prototype.once=function(a,b){return dX(b),this.on(a,lh(this,a,b)),this},s.prototype.prependOnceListener=function(a,b){return dX(b),this.prependListener(a,lh(this,a,b)),this},s.prototype.removeListener=function(e,b){var a,c,f,d,g;if(dX(b),c=this._events,c===void 0)return this;if(a=c[e],a===void 0)return this;if(a===b||a.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete c[e],c.removeListener&&this.emit("removeListener",e,a.listener||b));else if(typeof a!="function"){for(f=-1,d=a.length-1;d>=0;d--)if(a[d]===b||a[d].listener===b){g=a[d].listener,f=d;break}if(f<0)return this;f===0?a.shift():acH(a,f),a.length===1&&(c[e]=a[0]),c.removeListener!==void 0&&this.emit("removeListener",e,g||b)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(d){var c,b,a,f,e;if(b=this._events,b===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete b[d]),this;if(arguments.length===0){f=Object.keys(b);for(a=0;a<f.length;++a)e=f[a],e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(c=b[d],typeof c=="function")this.removeListener(d,c);else if(c!==void 0)for(a=c.length-1;a>=0;a--)this.removeListener(d,c[a]);return this};function le(d,e,b){var c=d._events,a;return c===void 0?[]:(a=c[e],a===void 0?[]:typeof a=="function"?b?[a.listener||a]:[a]:b?acG(a):kZ(a,a.length))}s.prototype.listeners=function(a){return le(this,a,!0)},s.prototype.rawListeners=function(a){return le(this,a,!1)},s.listenerCount=function(a,b){return typeof a.listenerCount=="function"?a.listenerCount(b):lc.call(a,b)},s.prototype.listenerCount=lc;function lc(c){var b=this._events,a;if(b!==void 0){if(a=b[c],typeof a=="function")return 1;if(a!==void 0)return a.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?dY(this._events):[]};function kZ(d,b){for(var c=new Array(b),a=0;a<b;++a)c[a]=d[a];return c}function acH(a,b){for(;b+1<a.length;b++)a[b]=a[b+1];a.pop()}function acG(b){for(var c=new Array(b.length),a=0;a<c.length;++a)c[a]=b[a].listener||b[a];return c}function acC(a,b){return new Promise(function(e,f){function c(c){a.removeListener(b,d),f(c)}function d(){typeof a.removeListener=="function"&&a.removeListener("error",c),e([].slice.call(arguments))}kV(a,b,d,{once:!0}),b!=="error"&&acB(a,c,{once:!0})})}function acB(a,b,c){typeof a.on=="function"&&kV(a,"error",b,c)}function kV(a,b,c,d){if(typeof a.on=="function")d.once?a.once(b,c):a.on(b,c);else if(typeof a.addEventListener=="function")a.addEventListener(b,function e(f){d.once&&a.removeEventListener(b,e),c(f)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}ek={},dQ={},m={},kS={},function(a){Object.defineProperty(a,"__esModule",{value:!0});function b(a,b){var e=a>>>16&65535,c=a&65535,f=b>>>16&65535,d=b&65535;return c*d+(e*d+c*f<<16>>>0)|0}a.mul=Math.imul||b;function c(a,b){return a+b|0}a.add=c;function d(a,b){return a-b|0}a.sub=d;function e(a,b){return a<<b|a>>>32-b}a.rotl=e;function f(a,b){return a<<32-b|a>>>b}a.rotr=f;function g(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}a.isInteger=Number.isInteger||g,a.MAX_SAFE_INTEGER=9007199254740991,a.isSafeInteger=function(b){return a.isInteger(b)&&b>=-a.MAX_SAFE_INTEGER&&b<=a.MAX_SAFE_INTEGER}}(kS),Object.defineProperty(m,"__esModule",{value:!0}),kR=kS;function acx(b,a){return a===void 0&&(a=0),(b[a+0]<<8|b[a+1])<<16>>16}m.readInt16BE=acx;function acw(b,a){return a===void 0&&(a=0),(b[a+0]<<8|b[a+1])>>>0}m.readUint16BE=acw;function act(b,a){return a===void 0&&(a=0),(b[a+1]<<8|b[a])<<16>>16}m.readInt16LE=act;function acq(b,a){return a===void 0&&(a=0),(b[a+1]<<8|b[a])>>>0}m.readUint16LE=acq;function kB(c,a,b){return a===void 0&&(a=new Uint8Array(2)),b===void 0&&(b=0),a[b+0]=c>>>8,a[b+1]=c>>>0,a}m.writeUint16BE=kB,m.writeInt16BE=kB;function kp(c,a,b){return a===void 0&&(a=new Uint8Array(2)),b===void 0&&(b=0),a[b+0]=c>>>0,a[b+1]=c>>>8,a}m.writeUint16LE=kp,m.writeInt16LE=kp;function et(b,a){return a===void 0&&(a=0),b[a]<<24|b[a+1]<<16|b[a+2]<<8|b[a+3]}m.readInt32BE=et;function eu(b,a){return a===void 0&&(a=0),(b[a]<<24|b[a+1]<<16|b[a+2]<<8|b[a+3])>>>0}m.readUint32BE=eu;function ey(b,a){return a===void 0&&(a=0),b[a+3]<<24|b[a+2]<<16|b[a+1]<<8|b[a]}m.readInt32LE=ey;function eA(b,a){return a===void 0&&(a=0),(b[a+3]<<24|b[a+2]<<16|b[a+1]<<8|b[a])>>>0}m.readUint32LE=eA;function dN(c,a,b){return a===void 0&&(a=new Uint8Array(4)),b===void 0&&(b=0),a[b+0]=c>>>24,a[b+1]=c>>>16,a[b+2]=c>>>8,a[b+3]=c>>>0,a}m.writeUint32BE=dN,m.writeInt32BE=dN;function dM(c,a,b){return a===void 0&&(a=new Uint8Array(4)),b===void 0&&(b=0),a[b+0]=c>>>0,a[b+1]=c>>>8,a[b+2]=c>>>16,a[b+3]=c>>>24,a}m.writeUint32LE=dM,m.writeInt32LE=dM;function acm(b,a){a===void 0&&(a=0);var d=et(b,a),c=et(b,a+4);return d*4294967296+c-(c>>31)*4294967296}m.readInt64BE=acm;function ack(b,a){a===void 0&&(a=0);var c=eu(b,a),d=eu(b,a+4);return c*4294967296+d}m.readUint64BE=ack;function acg(b,a){a===void 0&&(a=0);var c=ey(b,a),d=ey(b,a+4);return d*4294967296+c-(c>>31)*4294967296}m.readInt64LE=acg;function acb(b,a){a===void 0&&(a=0);var c=eA(b,a),d=eA(b,a+4);return d*4294967296+c}m.readUint64LE=acb;function jN(c,a,b){return a===void 0&&(a=new Uint8Array(8)),b===void 0&&(b=0),dN(c/4294967296>>>0,a,b),dN(c>>>0,a,b+4),a}m.writeUint64BE=jN,m.writeInt64BE=jN;function jJ(c,a,b){return a===void 0&&(a=new Uint8Array(8)),b===void 0&&(b=0),dM(c>>>0,a,b),dM(c/4294967296>>>0,a,b+4),a}m.writeUint64LE=jJ,m.writeInt64LE=jJ;function aca(b,d,a){if(a===void 0&&(a=0),b%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(b/8>d.length-a)throw new Error("readUintBE: array is too short for the given bitLength");for(var e=0,f=1,c=b/8+a-1;c>=a;c--)e+=d[c]*f,f*=256;return e}m.readUintBE=aca;function abY(b,d,a){if(a===void 0&&(a=0),b%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(b/8>d.length-a)throw new Error("readUintLE: array is too short for the given bitLength");for(var e=0,f=1,c=a;c<a+b/8;c++)e+=d[c]*f,f*=256;return e}m.readUintLE=abY;function abT(c,e,a,b){if(a===void 0&&(a=new Uint8Array(c/8)),b===void 0&&(b=0),c%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!kR.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var f=1,d=c/8+b-1;d>=b;d--)a[d]=e/f&255,f*=256;return a}m.writeUintBE=abT;function abS(c,e,a,b){if(a===void 0&&(a=new Uint8Array(c/8)),b===void 0&&(b=0),c%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!kR.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var f=1,d=b;d<b+c/8;d++)a[d]=e/f&255,f*=256;return a}m.writeUintLE=abS;function abO(a,b){b===void 0&&(b=0);var c=new DataView(a.buffer,a.byteOffset,a.byteLength);return c.getFloat32(b)}m.readFloat32BE=abO;function abJ(a,b){b===void 0&&(b=0);var c=new DataView(a.buffer,a.byteOffset,a.byteLength);return c.getFloat32(b,!0)}m.readFloat32LE=abJ;function abE(a,b){b===void 0&&(b=0);var c=new DataView(a.buffer,a.byteOffset,a.byteLength);return c.getFloat64(b)}m.readFloat64BE=abE;function abD(a,b){b===void 0&&(b=0);var c=new DataView(a.buffer,a.byteOffset,a.byteLength);return c.getFloat64(b,!0)}m.readFloat64LE=abD;function abz(c,a,b){a===void 0&&(a=new Uint8Array(4)),b===void 0&&(b=0);var d=new DataView(a.buffer,a.byteOffset,a.byteLength);return d.setFloat32(b,c),a}m.writeFloat32BE=abz;function abv(c,a,b){a===void 0&&(a=new Uint8Array(4)),b===void 0&&(b=0);var d=new DataView(a.buffer,a.byteOffset,a.byteLength);return d.setFloat32(b,c,!0),a}m.writeFloat32LE=abv;function abq(c,a,b){a===void 0&&(a=new Uint8Array(8)),b===void 0&&(b=0);var d=new DataView(a.buffer,a.byteOffset,a.byteLength);return d.setFloat64(b,c),a}m.writeFloat64BE=abq;function abp(c,a,b){a===void 0&&(a=new Uint8Array(8)),b===void 0&&(b=0);var d=new DataView(a.buffer,a.byteOffset,a.byteLength);return d.setFloat64(b,c,!0),a}m.writeFloat64LE=abp,Y={},Object.defineProperty(Y,"__esModule",{value:!0});function abl(a){for(var b=0;b<a.length;b++)a[b]=0;return a}Y.wipe=abl,Object.defineProperty(dQ,"__esModule",{value:!0}),L=m,fd=Y,abg=20;function abf(k,j,a){for(var I=1634760805,H=857760878,G=2036477234,F=1797285236,E=a[3]<<24|a[2]<<16|a[1]<<8|a[0],D=a[7]<<24|a[6]<<16|a[5]<<8|a[4],C=a[11]<<24|a[10]<<16|a[9]<<8|a[8],B=a[15]<<24|a[14]<<16|a[13]<<8|a[12],A=a[19]<<24|a[18]<<16|a[17]<<8|a[16],z=a[23]<<24|a[22]<<16|a[21]<<8|a[20],y=a[27]<<24|a[26]<<16|a[25]<<8|a[24],x=a[31]<<24|a[30]<<16|a[29]<<8|a[28],w=j[3]<<24|j[2]<<16|j[1]<<8|j[0],v=j[7]<<24|j[6]<<16|j[5]<<8|j[4],u=j[11]<<24|j[10]<<16|j[9]<<8|j[8],t=j[15]<<24|j[14]<<16|j[13]<<8|j[12],s=I,r=H,q=G,p=F,c=E,h=D,i=C,b=B,m=A,l=z,n=y,o=x,g=w,f=v,e=u,d=t,J=0;J<abg;J+=2)s=s+c|0,g^=s,g=g>>>32-16|g<<16,m=m+g|0,c^=m,c=c>>>32-12|c<<12,r=r+h|0,f^=r,f=f>>>32-16|f<<16,l=l+f|0,h^=l,h=h>>>32-12|h<<12,q=q+i|0,e^=q,e=e>>>32-16|e<<16,n=n+e|0,i^=n,i=i>>>32-12|i<<12,p=p+b|0,d^=p,d=d>>>32-16|d<<16,o=o+d|0,b^=o,b=b>>>32-12|b<<12,q=q+i|0,e^=q,e=e>>>32-8|e<<8,n=n+e|0,i^=n,i=i>>>32-7|i<<7,p=p+b|0,d^=p,d=d>>>32-8|d<<8,o=o+d|0,b^=o,b=b>>>32-7|b<<7,r=r+h|0,f^=r,f=f>>>32-8|f<<8,l=l+f|0,h^=l,h=h>>>32-7|h<<7,s=s+c|0,g^=s,g=g>>>32-8|g<<8,m=m+g|0,c^=m,c=c>>>32-7|c<<7,s=s+h|0,d^=s,d=d>>>32-16|d<<16,n=n+d|0,h^=n,h=h>>>32-12|h<<12,r=r+i|0,g^=r,g=g>>>32-16|g<<16,o=o+g|0,i^=o,i=i>>>32-12|i<<12,q=q+b|0,f^=q,f=f>>>32-16|f<<16,m=m+f|0,b^=m,b=b>>>32-12|b<<12,p=p+c|0,e^=p,e=e>>>32-16|e<<16,l=l+e|0,c^=l,c=c>>>32-12|c<<12,q=q+b|0,f^=q,f=f>>>32-8|f<<8,m=m+f|0,b^=m,b=b>>>32-7|b<<7,p=p+c|0,e^=p,e=e>>>32-8|e<<8,l=l+e|0,c^=l,c=c>>>32-7|c<<7,r=r+i|0,g^=r,g=g>>>32-8|g<<8,o=o+g|0,i^=o,i=i>>>32-7|i<<7,s=s+h|0,d^=s,d=d>>>32-8|d<<8,n=n+d|0,h^=n,h=h>>>32-7|h<<7;L.writeUint32LE(s+I|0,k,0),L.writeUint32LE(r+H|0,k,4),L.writeUint32LE(q+G|0,k,8),L.writeUint32LE(p+F|0,k,12),L.writeUint32LE(c+E|0,k,16),L.writeUint32LE(h+D|0,k,20),L.writeUint32LE(i+C|0,k,24),L.writeUint32LE(b+B|0,k,28),L.writeUint32LE(m+A|0,k,32),L.writeUint32LE(l+z|0,k,36),L.writeUint32LE(n+y|0,k,40),L.writeUint32LE(o+x|0,k,44),L.writeUint32LE(g+w|0,k,48),L.writeUint32LE(f+v|0,k,52),L.writeUint32LE(e+u|0,k,56),L.writeUint32LE(d+t|0,k,60)}function jc(j,c,h,i,f){var a,e,g,d,b;if(f===void 0&&(f=0),j.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<h.length)throw new Error("ChaCha: destination is shorter than source");if(f===0){if(c.length!==8&&c.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),e=a.length-c.length,a.set(c,e)}else{if(c.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=c,e=f}for(g=new Uint8Array(64),d=0;d<h.length;d+=64){abf(g,a,j);for(b=d;b<d+64&&b<h.length;b++)i[b]=h[b]^g[b-d];aba(a,0,e)}return fd.wipe(g),f===0&&fd.wipe(a),i}dQ.streamXOR=jc;function abb(c,d,a,b){return b===void 0&&(b=0),fd.wipe(a),jc(c,d,a,a,b)}dQ.stream=abb;function aba(c,b,d){for(var a=1;d--;)a=a+(c[b]&255)|0,c[b]=a&255,a>>>=8,b++;if(a>0)throw new Error("ChaCha: counter overflow")}iU={},aJ={},Object.defineProperty(aJ,"__esModule",{value:!0});function aaY(a,b,c){return~(a-1)&b|a-1&c}aJ.select=aaY;function aaX(a,b){return(a|0)-(b|0)-1>>>31&1}aJ.lessOrEqual=aaX;function iT(b,c){if(b.length!==c.length)return 0;for(var d=0,a=0;a<b.length;a++)d|=b[a]^c[a];return 1&d-1>>>8}aJ.compare=iT;function aaT(a,b){return!(a.length===0||b.length===0)&&iT(a,b)!==0}aJ.equal=aaT,function(a){var d,b,c;Object.defineProperty(a,"__esModule",{value:!0}),d=aJ,b=Y,a.DIGEST_LENGTH=16,c=function(){function c(b){var d,e,f,g,c,h,i,j;this.digestLength=a.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1,d=b[0]|b[1]<<8,this._r[0]=d&8191,e=b[2]|b[3]<<8,this._r[1]=(d>>>13|e<<3)&8191,f=b[4]|b[5]<<8,this._r[2]=(e>>>10|f<<6)&7939,g=b[6]|b[7]<<8,this._r[3]=(f>>>7|g<<9)&8191,c=b[8]|b[9]<<8,this._r[4]=(g>>>4|c<<12)&255,this._r[5]=c>>>1&8190,h=b[10]|b[11]<<8,this._r[6]=(c>>>14|h<<2)&8191,i=b[12]|b[13]<<8,this._r[7]=(h>>>11|i<<5)&8065,j=b[14]|b[15]<<8,this._r[8]=(i>>>8|j<<8)&8191,this._r[9]=j>>>5&127,this._pad[0]=b[16]|b[17]<<8,this._pad[1]=b[18]|b[19]<<8,this._pad[2]=b[20]|b[21]<<8,this._pad[3]=b[22]|b[23]<<8,this._pad[4]=b[24]|b[25]<<8,this._pad[5]=b[26]|b[27]<<8,this._pad[6]=b[28]|b[29]<<8,this._pad[7]=b[30]|b[31]<<8}return c.prototype._blocks=function(e,b,O){for(var Q=this._fin?0:2048,u=this._h[0],w=this._h[1],t=this._h[2],s=this._h[3],r=this._h[4],q=this._h[5],p=this._h[6],v=this._h[7],o=this._h[8],n=this._h[9],y=this._r[0],z=this._r[1],A=this._r[2],B=this._r[3],C=this._r[4],D=this._r[5],E=this._r[6],G=this._r[7],x=this._r[8],F=this._r[9],N,M,L,P,H,K,J,I,a,c,d,h,i,m,k,g,j,f,l;O>=16;)N=e[b+0]|e[b+1]<<8,u+=N&8191,M=e[b+2]|e[b+3]<<8,w+=(N>>>13|M<<3)&8191,L=e[b+4]|e[b+5]<<8,t+=(M>>>10|L<<6)&8191,P=e[b+6]|e[b+7]<<8,s+=(L>>>7|P<<9)&8191,H=e[b+8]|e[b+9]<<8,r+=(P>>>4|H<<12)&8191,q+=H>>>1&8191,K=e[b+10]|e[b+11]<<8,p+=(H>>>14|K<<2)&8191,J=e[b+12]|e[b+13]<<8,v+=(K>>>11|J<<5)&8191,I=e[b+14]|e[b+15]<<8,o+=(J>>>8|I<<8)&8191,n+=I>>>5|Q,a=0,c=a,c+=u*y,c+=w*(5*F),c+=t*(5*x),c+=s*(5*G),c+=r*(5*E),a=c>>>13,c&=8191,c+=q*(5*D),c+=p*(5*C),c+=v*(5*B),c+=o*(5*A),c+=n*(5*z),a+=c>>>13,c&=8191,d=a,d+=u*z,d+=w*y,d+=t*(5*F),d+=s*(5*x),d+=r*(5*G),a=d>>>13,d&=8191,d+=q*(5*E),d+=p*(5*D),d+=v*(5*C),d+=o*(5*B),d+=n*(5*A),a+=d>>>13,d&=8191,h=a,h+=u*A,h+=w*z,h+=t*y,h+=s*(5*F),h+=r*(5*x),a=h>>>13,h&=8191,h+=q*(5*G),h+=p*(5*E),h+=v*(5*D),h+=o*(5*C),h+=n*(5*B),a+=h>>>13,h&=8191,i=a,i+=u*B,i+=w*A,i+=t*z,i+=s*y,i+=r*(5*F),a=i>>>13,i&=8191,i+=q*(5*x),i+=p*(5*G),i+=v*(5*E),i+=o*(5*D),i+=n*(5*C),a+=i>>>13,i&=8191,m=a,m+=u*C,m+=w*B,m+=t*A,m+=s*z,m+=r*y,a=m>>>13,m&=8191,m+=q*(5*F),m+=p*(5*x),m+=v*(5*G),m+=o*(5*E),m+=n*(5*D),a+=m>>>13,m&=8191,k=a,k+=u*D,k+=w*C,k+=t*B,k+=s*A,k+=r*z,a=k>>>13,k&=8191,k+=q*y,k+=p*(5*F),k+=v*(5*x),k+=o*(5*G),k+=n*(5*E),a+=k>>>13,k&=8191,g=a,g+=u*E,g+=w*D,g+=t*C,g+=s*B,g+=r*A,a=g>>>13,g&=8191,g+=q*z,g+=p*y,g+=v*(5*F),g+=o*(5*x),g+=n*(5*G),a+=g>>>13,g&=8191,j=a,j+=u*G,j+=w*E,j+=t*D,j+=s*C,j+=r*B,a=j>>>13,j&=8191,j+=q*A,j+=p*z,j+=v*y,j+=o*(5*F),j+=n*(5*x),a+=j>>>13,j&=8191,f=a,f+=u*x,f+=w*G,f+=t*E,f+=s*D,f+=r*C,a=f>>>13,f&=8191,f+=q*B,f+=p*A,f+=v*z,f+=o*y,f+=n*(5*F),a+=f>>>13,f&=8191,l=a,l+=u*F,l+=w*x,l+=t*G,l+=s*E,l+=r*D,a=l>>>13,l&=8191,l+=q*C,l+=p*B,l+=v*A,l+=o*z,l+=n*y,a+=l>>>13,l&=8191,a=(a<<2)+a|0,a=a+c|0,c=a&8191,a=a>>>13,d+=a,u=c,w=d,t=h,s=i,r=m,q=k,p=g,v=j,o=f,n=l,b+=16,O-=16;this._h[0]=u,this._h[1]=w,this._h[2]=t,this._h[3]=s,this._h[4]=r,this._h[5]=q,this._h[6]=p,this._h[7]=v,this._h[8]=o,this._h[9]=n},c.prototype.finish=function(c,b){b===void 0&&(b=0);var e=new Uint16Array(10),d,f,g,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(d=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=d,d=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=d*5,d=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=d,d=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=d,e[0]=this._h[0]+5,d=e[0]>>>13,e[0]&=8191,a=1;a<10;a++)e[a]=this._h[a]+d,d=e[a]>>>13,e[a]&=8191;for(e[9]-=1<<13,f=(d^1)-1,a=0;a<10;a++)e[a]&=f;for(f=~f,a=0;a<10;a++)this._h[a]=this._h[a]&f|e[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,g=this._h[0]+this._pad[0],this._h[0]=g&65535,a=1;a<8;a++)g=(this._h[a]+this._pad[a]|0)+(g>>>16)|0,this._h[a]=g&65535;return c[b+0]=this._h[0]>>>0,c[b+1]=this._h[0]>>>8,c[b+2]=this._h[1]>>>0,c[b+3]=this._h[1]>>>8,c[b+4]=this._h[2]>>>0,c[b+5]=this._h[2]>>>8,c[b+6]=this._h[3]>>>0,c[b+7]=this._h[3]>>>8,c[b+8]=this._h[4]>>>0,c[b+9]=this._h[4]>>>8,c[b+10]=this._h[5]>>>0,c[b+11]=this._h[5]>>>8,c[b+12]=this._h[6]>>>0,c[b+13]=this._h[6]>>>8,c[b+14]=this._h[7]>>>0,c[b+15]=this._h[7]>>>8,this._finished=!0,this},c.prototype.update=function(e){var d=0,b=e.length,a,c;if(this._leftover){a=16-this._leftover,a>b&&(a=b);for(c=0;c<a;c++)this._buffer[this._leftover+c]=e[d+c];if(b-=a,d+=a,this._leftover+=a,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(b>=16&&(a=b-b%16,this._blocks(e,d,a),d+=a,b-=a),b){for(c=0;c<b;c++)this._buffer[this._leftover+c]=e[d+c];this._leftover+=b}return this},c.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},c.prototype.clean=function(){return b.wipe(this._buffer),b.wipe(this._r),b.wipe(this._h),b.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},c}(),a.Poly1305=c;function e(b,d){var a=new c(b),e;return a.update(d),e=a.digest(),a.clean(),e}a.oneTimeAuth=e;function f(b,c){return!(b.length!==a.DIGEST_LENGTH||c.length!==a.DIGEST_LENGTH)&&d.equal(b,c)}a.equal=f}(iU),function(a){var c,f,b,d,g,e,h;Object.defineProperty(a,"__esModule",{value:!0}),c=dQ,f=iU,b=Y,d=m,g=aJ,a.KEY_LENGTH=32,a.NONCE_LENGTH=12,a.TAG_LENGTH=16,e=new Uint8Array(16),h=function(){function h(b){if(this.nonceLength=a.NONCE_LENGTH,this.tagLength=a.TAG_LENGTH,b.length!==a.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(b)}return h.prototype.seal=function(e,i,j,f){var d,g,h,a;if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(d=new Uint8Array(16),d.set(e,d.length-e.length),g=new Uint8Array(32),c.stream(this._key,d,g,4),h=i.length+this.tagLength,f){if(f.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");a=f}else a=new Uint8Array(h);return c.streamXOR(this._key,d,i,a,4),this._authenticate(a.subarray(a.length-this.tagLength,a.length),g,a.subarray(0,a.length-this.tagLength),j),b.wipe(d),a},h.prototype.open=function(f,a,l,h){var d,i,j,k,e;if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(a.length<this.tagLength)return null;if(d=new Uint8Array(16),d.set(f,d.length-f.length),i=new Uint8Array(32),c.stream(this._key,d,i,4),j=new Uint8Array(this.tagLength),this._authenticate(j,i,a.subarray(0,a.length-this.tagLength),l),!g.equal(j,a.subarray(a.length-this.tagLength,a.length)))return null;if(k=a.length-this.tagLength,h){if(h.length!==k)throw new Error("ChaCha20Poly1305: incorrect destination length");e=h}else e=new Uint8Array(k);return c.streamXOR(this._key,d,a.subarray(0,a.length-this.tagLength),e,4),b.wipe(d),e},h.prototype.clean=function(){return b.wipe(this._key),this},h.prototype._authenticate=function(k,l,i,c){var a=new f.Poly1305(l),g,j,h;c&&(a.update(c),c.length%16>0&&a.update(e.subarray(c.length%16))),a.update(i),i.length%16>0&&a.update(e.subarray(i.length%16)),g=new Uint8Array(8),c&&d.writeUint64LE(c.length,g),a.update(g),d.writeUint64LE(i.length,g),a.update(g);for(j=a.digest(),h=0;h<j.length;h++)k[h]=j[h];a.clean(),b.wipe(j),b.wipe(g)},h}(),a.ChaCha20Poly1305=h}(ek),iS={},ck={},fn={},Object.defineProperty(fn,"__esModule",{value:!0});function aaS(a){return typeof a.saveState<"u"&&typeof a.restoreState<"u"&&typeof a.cleanSavedState<"u"}fn.isSerializableHash=aaS,Object.defineProperty(ck,"__esModule",{value:!0}),ao=fn,aaO=aJ,aaJ=Y,iB=function(){function a(d,c){var a,b;this._finished=!1,this._inner=new d,this._outer=new d,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength,a=new Uint8Array(this.blockSize),c.length>this.blockSize?this._inner.update(c).finish(a).clean():a.set(c);for(b=0;b<a.length;b++)a[b]^=54;this._inner.update(a);for(b=0;b<a.length;b++)a[b]^=106;this._outer.update(a),ao.isSerializableHash(this._inner)&&ao.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),aaJ.wipe(a)}return a.prototype.reset=function(){if(!ao.isSerializableHash(this._inner)||!ao.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.clean=function(){ao.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),ao.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},a.prototype.update=function(a){return this._inner.update(a),this},a.prototype.finish=function(a){return this._finished?(this._outer.finish(a),this):(this._inner.finish(a),this._outer.update(a.subarray(0,this.digestLength)).finish(a),this._finished=!0,this)},a.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},a.prototype.saveState=function(){if(!ao.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},a.prototype.restoreState=function(a){if(!ao.isSerializableHash(this._inner)||!ao.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(a),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.cleanSavedState=function(a){if(!ao.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(a)},a}(),ck.HMAC=iB;function aaE(b,c,d){var a=new iB(b,c),e;return a.update(d),e=a.digest(),a.clean(),e}ck.hmac=aaE,ck.equal=aaO.equal,Object.defineProperty(iS,"__esModule",{value:!0}),iy=ck,iw=Y,aaz=function(){function a(b,c,a,d){a===void 0&&(a=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=b,this._info=d;var e=iy.hmac(this._hash,a,c);this._hmac=new iy.HMAC(b,e),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return a.prototype._fillBuffer=function(){this._counter[0]++;var a=this._counter[0];if(a===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),a>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},a.prototype.expand=function(c){for(var a=new Uint8Array(c),b=0;b<a.length;b++)this._bufpos===this._buffer.length&&this._fillBuffer(),a[b]=this._buffer[this._bufpos++];return a},a.prototype.clean=function(){this._hmac.clean(),iw.wipe(this._buffer),iw.wipe(this._counter),this._bufpos=0},a}(),aay=iS.HKDF=aaz,bN={},dq={},dp={},Object.defineProperty(dp,"__esModule",{value:!0}),dp.BrowserRandomSource=void 0;const iv=65536;class aav{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const a=typeof self<"u"?self.crypto||self.msCrypto:null;a&&a.getRandomValues!==void 0&&(this._crypto=a,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(b){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const a=new Uint8Array(b);for(let b=0;b<a.length;b+=iv)this._crypto.getRandomValues(a.subarray(b,b+Math.min(a.length-b,iv)));return a}}dp.BrowserRandomSource=aav;function aau(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}dl={},aaq={},aap=Object.freeze({__proto__:null,default:aaq}),aal=aT(aap),Object.defineProperty(dl,"__esModule",{value:!0}),dl.NodeRandomSource=void 0;const aak=Y;class aag{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof aau<"u"){const a=aal;a&&a.randomBytes&&(this._crypto=a,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(a){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let b=this._crypto.randomBytes(a);if(b.length!==a)throw new Error("NodeRandomSource: got fewer bytes than requested");const c=new Uint8Array(a);for(let a=0;a<c.length;a++)c[a]=b[a];return(0,aak.wipe)(b),c}}dl.NodeRandomSource=aag,Object.defineProperty(dq,"__esModule",{value:!0}),dq.SystemRandomSource=void 0;const aaf=dp,aab=dl;class zY{constructor(){if(this.isAvailable=!1,this.name="",this._source=new aaf.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new aab.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(a){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(a)}}dq.SystemRandomSource=zY,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.randomStringForEntropy=a.randomString=a.randomUint32=a.randomBytes=a.defaultRandomSource=void 0;const h=dq,f=m,d=Y;a.defaultRandomSource=new h.SystemRandomSource;function b(b,c=a.defaultRandomSource){return c.randomBytes(b)}a.randomBytes=b;function g(e=a.defaultRandomSource){const c=b(4,e),g=(0,f.readUint32LE)(c);return(0,d.wipe)(c),g}a.randomUint32=g;const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(c,f=e,j=a.defaultRandomSource){if(f.length<2)throw new Error("randomString charset is too short");if(f.length>256)throw new Error("randomString charset is too long");let g="";const h=f.length,i=256-256%h;for(;c>0;){const a=b(Math.ceil(c*256/i),j);for(let b=0;b<a.length&&c>0;b++){const d=a[b];d<i&&(g+=f.charAt(d%h),c--)}(0,d.wipe)(a)}return g}a.randomString=c;function i(d,b=e,f=a.defaultRandomSource){const g=Math.ceil(d/(Math.log(b.length)/Math.LN2));return c(g,b,f)}a.randomStringForEntropy=i}(bN),dj={},function(a){var b,c,d,f;Object.defineProperty(a,"__esModule",{value:!0}),b=m,c=Y,a.DIGEST_LENGTH=32,a.BLOCK_SIZE=64,d=function(){function d(){this.digestLength=a.DIGEST_LENGTH,this.blockSize=a.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return d.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},d.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},d.prototype.clean=function(){c.wipe(this._buffer),c.wipe(this._temp),this.reset()},d.prototype.update=function(b,a){if(a===void 0&&(a=b.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var c=0;if(this._bytesHashed+=a,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&a>0;)this._buffer[this._bufferLength++]=b[c++],a--;this._bufferLength===this.blockSize&&(e(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(a>=this.blockSize&&(c=e(this._temp,this._state,b,c,a),a%=this.blockSize);a>0;)this._buffer[this._bufferLength++]=b[c++],a--;return this},d.prototype.finish=function(i){var d,f,g,h,c,a;if(!this._finished){d=this._bytesHashed,f=this._bufferLength,g=d/536870912|0,h=d<<3,c=d%64<56?64:128,this._buffer[f]=128;for(a=f+1;a<c-8;a++)this._buffer[a]=0;b.writeUint32BE(g,this._buffer,c-8),b.writeUint32BE(h,this._buffer,c-4),e(this._temp,this._state,this._buffer,0,c),this._finished=!0}for(a=0;a<this.digestLength/4;a++)b.writeUint32BE(this._state[a],i,a*4);return this},d.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},d.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},d.prototype.restoreState=function(a){return this._state.set(a.state),this._bufferLength=a.bufferLength,a.buffer&&this._buffer.set(a.buffer),this._bytesHashed=a.bytesHashed,this._finished=!1,this},d.prototype.cleanSavedState=function(a){c.wipe(a.state),a.buffer&&c.wipe(a.buffer),a.bufferLength=0,a.bytesHashed=0},d}(),a.SHA256=d,f=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function e(h,c,t,p,r){for(var d,i,j,n,g,k,l,o,a,s,e,m,q;r>=64;){for(d=c[0],i=c[1],j=c[2],n=c[3],g=c[4],k=c[5],l=c[6],o=c[7],a=0;a<16;a++)s=p+a*4,h[a]=b.readUint32BE(t,s);for(a=16;a<64;a++)e=h[a-2],m=(e>>>17|e<<32-17)^(e>>>19|e<<32-19)^e>>>10,e=h[a-15],q=(e>>>7|e<<32-7)^(e>>>18|e<<32-18)^e>>>3,h[a]=(m+h[a-7]|0)+(q+h[a-16]|0);for(a=0;a<64;a++)m=(((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&k^~g&l)|0)+(o+(f[a]+h[a]|0)|0)|0,q=((d>>>2|d<<32-2)^(d>>>13|d<<32-13)^(d>>>22|d<<32-22))+(d&i^d&j^i&j)|0,o=l,l=k,k=g,g=n+m|0,n=j,j=i,i=d,d=m+q|0;c[0]+=d,c[1]+=i,c[2]+=j,c[3]+=n,c[4]+=g,c[5]+=k,c[6]+=l,c[7]+=o,p+=64,r-=64}return p}function g(b){var a=new d,c;return a.update(b),c=a.digest(),a.clean(),c}a.hash=g}(dj),fH={},function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.sharedKey=a.generateKeyPair=a.generateKeyPairFromSeed=a.scalarMultBase=a.scalarMult=a.SHARED_KEY_LENGTH=a.SECRET_KEY_LENGTH=a.PUBLIC_KEY_LENGTH=void 0;const m=bN,n=Y;a.PUBLIC_KEY_LENGTH=32,a.SECRET_KEY_LENGTH=32,a.SHARED_KEY_LENGTH=32;function b(a){const b=new Float64Array(16);if(a)for(let c=0;c<a.length;c++)b[c]=a[c];return b}const l=new Uint8Array(32);l[0]=9;const p=b([56129,1]);function h(b){let a=1;for(let c=0;c<16;c++){let d=b[c]+a+65535;a=Math.floor(d/65536),b[c]=d-a*65536}b[0]+=a-1+37*(a-1)}function d(a,b,c){const d=~(c-1);for(let c=0;c<16;c++){const e=d&(a[c]^b[c]);a[c]^=e,b[c]^=e}}function r(e,f){const c=b(),a=b();for(let b=0;b<16;b++)a[b]=f[b];h(a),h(a),h(a);for(let b=0;b<2;b++){c[0]=a[0]-65517;for(let b=1;b<15;b++)c[b]=a[b]-65535-(c[b-1]>>16&1),c[b-1]&=65535;c[15]=a[15]-32767-(c[14]>>16&1);const e=c[15]>>16&1;c[14]&=65535,d(a,c,1-e)}for(let b=0;b<16;b++)e[2*b]=a[b]&255,e[2*b+1]=a[b]>>8}function q(a,b){for(let c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function g(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]+c[d]}function f(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]-c[d]}function c(r,u,t){let a,b,Q=0,S=0,R=0,N=0,L=0,K=0,H=0,G=0,E=0,o=0,h=0,g=0,f=0,e=0,d=0,c=0,v=0,D=0,F=0,I=0,J=0,M=0,O=0,P=0,T=0,U=0,V=0,W=0,X=0,Y=0,Z=0,i=t[0],C=t[1],n=t[2],w=t[3],x=t[4],B=t[5],z=t[6],y=t[7],m=t[8],l=t[9],k=t[10],j=t[11],p=t[12],q=t[13],s=t[14],A=t[15];a=u[0],Q+=a*i,S+=a*C,R+=a*n,N+=a*w,L+=a*x,K+=a*B,H+=a*z,G+=a*y,E+=a*m,o+=a*l,h+=a*k,g+=a*j,f+=a*p,e+=a*q,d+=a*s,c+=a*A,a=u[1],S+=a*i,R+=a*C,N+=a*n,L+=a*w,K+=a*x,H+=a*B,G+=a*z,E+=a*y,o+=a*m,h+=a*l,g+=a*k,f+=a*j,e+=a*p,d+=a*q,c+=a*s,v+=a*A,a=u[2],R+=a*i,N+=a*C,L+=a*n,K+=a*w,H+=a*x,G+=a*B,E+=a*z,o+=a*y,h+=a*m,g+=a*l,f+=a*k,e+=a*j,d+=a*p,c+=a*q,v+=a*s,D+=a*A,a=u[3],N+=a*i,L+=a*C,K+=a*n,H+=a*w,G+=a*x,E+=a*B,o+=a*z,h+=a*y,g+=a*m,f+=a*l,e+=a*k,d+=a*j,c+=a*p,v+=a*q,D+=a*s,F+=a*A,a=u[4],L+=a*i,K+=a*C,H+=a*n,G+=a*w,E+=a*x,o+=a*B,h+=a*z,g+=a*y,f+=a*m,e+=a*l,d+=a*k,c+=a*j,v+=a*p,D+=a*q,F+=a*s,I+=a*A,a=u[5],K+=a*i,H+=a*C,G+=a*n,E+=a*w,o+=a*x,h+=a*B,g+=a*z,f+=a*y,e+=a*m,d+=a*l,c+=a*k,v+=a*j,D+=a*p,F+=a*q,I+=a*s,J+=a*A,a=u[6],H+=a*i,G+=a*C,E+=a*n,o+=a*w,h+=a*x,g+=a*B,f+=a*z,e+=a*y,d+=a*m,c+=a*l,v+=a*k,D+=a*j,F+=a*p,I+=a*q,J+=a*s,M+=a*A,a=u[7],G+=a*i,E+=a*C,o+=a*n,h+=a*w,g+=a*x,f+=a*B,e+=a*z,d+=a*y,c+=a*m,v+=a*l,D+=a*k,F+=a*j,I+=a*p,J+=a*q,M+=a*s,O+=a*A,a=u[8],E+=a*i,o+=a*C,h+=a*n,g+=a*w,f+=a*x,e+=a*B,d+=a*z,c+=a*y,v+=a*m,D+=a*l,F+=a*k,I+=a*j,J+=a*p,M+=a*q,O+=a*s,P+=a*A,a=u[9],o+=a*i,h+=a*C,g+=a*n,f+=a*w,e+=a*x,d+=a*B,c+=a*z,v+=a*y,D+=a*m,F+=a*l,I+=a*k,J+=a*j,M+=a*p,O+=a*q,P+=a*s,T+=a*A,a=u[10],h+=a*i,g+=a*C,f+=a*n,e+=a*w,d+=a*x,c+=a*B,v+=a*z,D+=a*y,F+=a*m,I+=a*l,J+=a*k,M+=a*j,O+=a*p,P+=a*q,T+=a*s,U+=a*A,a=u[11],g+=a*i,f+=a*C,e+=a*n,d+=a*w,c+=a*x,v+=a*B,D+=a*z,F+=a*y,I+=a*m,J+=a*l,M+=a*k,O+=a*j,P+=a*p,T+=a*q,U+=a*s,V+=a*A,a=u[12],f+=a*i,e+=a*C,d+=a*n,c+=a*w,v+=a*x,D+=a*B,F+=a*z,I+=a*y,J+=a*m,M+=a*l,O+=a*k,P+=a*j,T+=a*p,U+=a*q,V+=a*s,W+=a*A,a=u[13],e+=a*i,d+=a*C,c+=a*n,v+=a*w,D+=a*x,F+=a*B,I+=a*z,J+=a*y,M+=a*m,O+=a*l,P+=a*k,T+=a*j,U+=a*p,V+=a*q,W+=a*s,X+=a*A,a=u[14],d+=a*i,c+=a*C,v+=a*n,D+=a*w,F+=a*x,I+=a*B,J+=a*z,M+=a*y,O+=a*m,P+=a*l,T+=a*k,U+=a*j,V+=a*p,W+=a*q,X+=a*s,Y+=a*A,a=u[15],c+=a*i,v+=a*C,D+=a*n,F+=a*w,I+=a*x,J+=a*B,M+=a*z,O+=a*y,P+=a*m,T+=a*l,U+=a*k,V+=a*j,W+=a*p,X+=a*q,Y+=a*s,Z+=a*A,Q+=38*v,S+=38*D,R+=38*F,N+=38*I,L+=38*J,K+=38*M,H+=38*O,G+=38*P,E+=38*T,o+=38*U,h+=38*V,g+=38*W,f+=38*X,e+=38*Y,d+=38*Z,b=1,a=Q+b+65535,b=Math.floor(a/65536),Q=a-b*65536,a=S+b+65535,b=Math.floor(a/65536),S=a-b*65536,a=R+b+65535,b=Math.floor(a/65536),R=a-b*65536,a=N+b+65535,b=Math.floor(a/65536),N=a-b*65536,a=L+b+65535,b=Math.floor(a/65536),L=a-b*65536,a=K+b+65535,b=Math.floor(a/65536),K=a-b*65536,a=H+b+65535,b=Math.floor(a/65536),H=a-b*65536,a=G+b+65535,b=Math.floor(a/65536),G=a-b*65536,a=E+b+65535,b=Math.floor(a/65536),E=a-b*65536,a=o+b+65535,b=Math.floor(a/65536),o=a-b*65536,a=h+b+65535,b=Math.floor(a/65536),h=a-b*65536,a=g+b+65535,b=Math.floor(a/65536),g=a-b*65536,a=f+b+65535,b=Math.floor(a/65536),f=a-b*65536,a=e+b+65535,b=Math.floor(a/65536),e=a-b*65536,a=d+b+65535,b=Math.floor(a/65536),d=a-b*65536,a=c+b+65535,b=Math.floor(a/65536),c=a-b*65536,Q+=b-1+37*(b-1),b=1,a=Q+b+65535,b=Math.floor(a/65536),Q=a-b*65536,a=S+b+65535,b=Math.floor(a/65536),S=a-b*65536,a=R+b+65535,b=Math.floor(a/65536),R=a-b*65536,a=N+b+65535,b=Math.floor(a/65536),N=a-b*65536,a=L+b+65535,b=Math.floor(a/65536),L=a-b*65536,a=K+b+65535,b=Math.floor(a/65536),K=a-b*65536,a=H+b+65535,b=Math.floor(a/65536),H=a-b*65536,a=G+b+65535,b=Math.floor(a/65536),G=a-b*65536,a=E+b+65535,b=Math.floor(a/65536),E=a-b*65536,a=o+b+65535,b=Math.floor(a/65536),o=a-b*65536,a=h+b+65535,b=Math.floor(a/65536),h=a-b*65536,a=g+b+65535,b=Math.floor(a/65536),g=a-b*65536,a=f+b+65535,b=Math.floor(a/65536),f=a-b*65536,a=e+b+65535,b=Math.floor(a/65536),e=a-b*65536,a=d+b+65535,b=Math.floor(a/65536),d=a-b*65536,a=c+b+65535,b=Math.floor(a/65536),c=a-b*65536,Q+=b-1+37*(b-1),r[0]=Q,r[1]=S,r[2]=R,r[3]=N,r[4]=L,r[5]=K,r[6]=H,r[7]=G,r[8]=E,r[9]=o,r[10]=h,r[11]=g,r[12]=f,r[13]=e,r[14]=d,r[15]=c}function e(b,a){c(b,a,a)}function o(f,d){const a=b();for(let b=0;b<16;b++)a[b]=d[b];for(let b=253;b>=0;b--)e(a,a),b!==2&&b!==4&&c(a,a,d);for(let b=0;b<16;b++)f[b]=a[b]}function i(u,w){const m=new Uint8Array(32),k=new Float64Array(80),a=b(),j=b(),h=b(),i=b(),l=b(),t=b();for(let a=0;a<31;a++)m[a]=u[a];m[31]=u[31]&127|64,m[0]&=248,q(k,w);for(let a=0;a<16;a++)j[a]=k[a];a[0]=i[0]=1;for(let b=254;b>=0;--b){const n=m[b>>>3]>>>(b&7)&1;d(a,j,n),d(h,i,n),g(l,a,h),f(a,a,h),g(h,j,i),f(j,j,i),e(i,l),e(t,a),c(a,h,a),c(h,j,l),g(l,a,h),f(a,a,h),e(j,a),f(h,i,t),c(a,h,p),g(a,a,i),c(h,h,a),c(a,i,t),c(i,j,k),e(j,l),d(a,j,n),d(h,i,n)}for(let b=0;b<16;b++)k[b+16]=a[b],k[b+32]=h[b],k[b+48]=j[b],k[b+64]=i[b];const n=k.subarray(32),s=k.subarray(16);o(n,n),c(s,s,n);const v=new Uint8Array(32);return r(v,s),v}a.scalarMult=i;function k(a){return i(a,l)}a.scalarMultBase=k;function j(b){if(b.length!==a.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${a.SECRET_KEY_LENGTH} bytes`);const c=new Uint8Array(b);return{publicKey:k(c),secretKey:c}}a.generateKeyPairFromSeed=j;function s(b){const a=(0,m.randomBytes)(32,b),c=j(a);return(0,n.wipe)(a),c}a.generateKeyPair=s;function t(c,d,e=!1){if(c.length!==a.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(d.length!==a.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const b=i(c,d);if(e){let a=0;for(let c=0;c<b.length;c++)a|=b[c];if(a===0)throw new Error("X25519: invalid shared key")}return b}a.sharedKey=t}(fH);function fI(a){return globalThis.Buffer!=null?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function im(a=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?fI(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function fK(b,a){a||(a=b.reduce((a,b)=>a+b.length,0));const c=im(a);let d=0;for(const a of b)c.set(a,d),d+=a.length;return fI(c)}function zX(c,l){var a,e,d,f,g,b,h,i,j;if(c.length>=255)throw new TypeError("Alphabet too long");for(a=new Uint8Array(256),e=0;e<a.length;e++)a[e]=255;for(d=0;d<c.length;d++){if(f=c.charAt(d),g=f.charCodeAt(0),a[g]!==255)throw new TypeError(f+" is ambiguous");a[g]=d}b=c.length,h=c.charAt(0),i=Math.log(b)/Math.log(256),j=Math.log(256)/Math.log(b);function m(a){var o,l,d,n,g,i,e,m,k,f,p;if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";for(o=0,l=0,d=0,n=a.length;d!==n&&a[d]===0;)d++,o++;for(g=(n-d)*j+1>>>0,i=new Uint8Array(g);d!==n;){for(e=a[d],m=0,k=g-1;(e!==0||m<l)&&k!==-1;k--,m++)e+=256*i[k]>>>0,i[k]=e%b>>>0,e=e/b>>>0;if(e!==0)throw new Error("Non-zero carry");l=m,d++}for(f=g-l;f!==g&&i[f]===0;)f++;for(p=h.repeat(o);f<g;++f)p+=c.charAt(i[f]);return p}function k(d){var c,m,n,g,k,e,l,j,f,o,p;if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;if(c=0,d[c]!==" "){for(m=0,n=0;d[c]===h;)m++,c++;for(g=(d.length-c)*i+1>>>0,k=new Uint8Array(g);d[c];){if(e=a[d.charCodeAt(c)],e===255)return;for(l=0,j=g-1;(e!==0||l<n)&&j!==-1;j--,l++)e+=b*k[j]>>>0,k[j]=e%256>>>0,e=e/256>>>0;if(e!==0)throw new Error("Non-zero carry");n=l,c++}if(d[c]!==" "){for(f=g-n;f!==g&&k[f]===0;)f++;for(o=new Uint8Array(m+(g-f)),p=m;f!==g;)o[p++]=k[f++];return o}}}function n(b){var a=k(b);if(a)return a;throw new Error(`Non-${l} character`)}return{encode:m,decodeUnsafe:k,decode:n}}zW=zX,zS=zW;const ik=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")},zR=a=>(new TextEncoder).encode(a),zN=a=>(new TextDecoder).decode(a);class zM{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}class zI{constructor(b,a,c){if(this.name=b,this.prefix=a,a.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=a.codePointAt(0),this.baseDecode=c}decode(a){if(typeof a=="string"){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return ic(this,a)}}class zH{constructor(a){this.decoders=a}or(a){return ic(this,a)}decode(a){const c=a[0],b=this.decoders[c];if(b)return b.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ic=(a,b)=>new zH({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class zG{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new zM(a,b,c),this.decoder=new zI(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}const dh=({name:a,prefix:b,encode:c,decode:d})=>new zG(a,b,c,d),b$=({prefix:b,name:a,alphabet:c})=>{const{encode:d,decode:e}=zS(c,a);return dh({prefix:b,name:a,encode:d,decode:a=>ik(e(a))})},zB=(e,h,b,i)=>{const f={};for(let a=0;a<h.length;++a)f[h[a]]=a;let c=e.length;for(;e[c-1]==="=";)--c;const g=new Uint8Array(c*b/8|0);let a=0,d=0,j=0;for(let h=0;h<c;++h){const k=f[e[h]];if(k===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<b|k,a+=b,a>=8&&(a-=8,g[j++]=255&d>>a)}if(a>=b||255&d<<8-a)throw new SyntaxError("Unexpected end of data");return g},zx=(g,d,b)=>{const h=d[d.length-1]==="=",f=(1<<b)-1;let c="",a=0,e=0;for(let h=0;h<g.length;++h)for(e=e<<8|g[h],a+=8;a>b;)a-=b,c+=d[f&e>>a];if(a&&(c+=d[f&e<<b-a]),h)for(;c.length*b&7;)c+="=";return c},J=({name:a,prefix:d,bitsPerChar:b,alphabet:c})=>dh({prefix:d,name:a,encode(a){return zx(a,c,b)},decode(d){return zB(d,c,b,a)}}),zw=dh({prefix:"\0",name:"identity",encode:a=>zN(a),decode:a=>zR(a)});zt=Object.freeze({__proto__:null,identity:zw});const zs=J({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});zp=Object.freeze({__proto__:null,base2:zs});const zl=J({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});zk=Object.freeze({__proto__:null,base8:zl});const zg=b$({prefix:"9",name:"base10",alphabet:"0123456789"});zf=Object.freeze({__proto__:null,base10:zg});const zb=J({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),za=J({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});yY=Object.freeze({__proto__:null,base16:zb,base16upper:za});const yX=J({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),yT=J({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yO=J({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yN=J({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yJ=J({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yI=J({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),yC=J({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),yB=J({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),yA=J({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});yy=Object.freeze({__proto__:null,base32:yX,base32upper:yT,base32pad:yO,base32padupper:yN,base32hex:yJ,base32hexupper:yI,base32hexpad:yC,base32hexpadupper:yB,base32z:yA});const yx=b$({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yt=b$({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});ys=Object.freeze({__proto__:null,base36:yx,base36upper:yt});const yo=b$({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yn=b$({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});yj=Object.freeze({__proto__:null,base58btc:yo,base58flickr:yn});const yi=J({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ye=J({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yd=J({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ya=J({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});x$=Object.freeze({__proto__:null,base64:yi,base64pad:ye,base64url:yd,base64urlpad:ya});const hx=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),xX=hx.reduce((a,b,c)=>(a[c]=b,a),[]),xS=hx.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]);function xN(a){return a.reduce((a,b)=>(a+=xX[b],a),"")}function xM(b){const a=[];for(const c of b){const d=xS[c.codePointAt(0)];if(d===void 0)throw new Error(`Non-base256emoji character: ${c}`);a.push(d)}return new Uint8Array(a)}const xI=dh({prefix:"\u{1F680}",name:"base256emoji",encode:xN,decode:xM});xH=Object.freeze({__proto__:null,base256emoji:xI}),xC=g$,hk=128,xB=127,xx=~xB,xw=Math.pow(2,31);function g$(a,c,b){c=c||[],b=b||0;for(var d=b;a>=xw;)c[b++]=a&255|hk,a/=128;for(;a&xx;)c[b++]=a&255|hk,a>>>=7;return c[b]=a|0,g$.bytes=b-d+1,c}xs=gz,xr=128,gE=127;function gz(e,a){var f=0,a=a||0,b=0,d=a,c,g=e.length;do{if(d>=g)throw gz.bytes=0,new RangeError("Could not decode varint");c=e[d++],f+=b<28?(c&gE)<<b:(c&gE)*Math.pow(2,b),b+=7}while(c>=xr)return gz.bytes=d-a,f}xn=Math.pow(2,7),xl=Math.pow(2,14),xj=Math.pow(2,21),xi=Math.pow(2,28),xf=Math.pow(2,35),xd=Math.pow(2,42),xb=Math.pow(2,49),xa=Math.pow(2,56),wZ=Math.pow(2,63),wY=function(a){return a<xn?1:a<xl?2:a<xj?3:a<xi?4:a<xf?5:a<xd?6:a<xb?7:a<xa?8:a<wZ?9:10},wW={encode:xC,decode:xs,encodingLength:wY},g_=wW;const ha=(b,a,c=0)=>(g_.encode(b,a,c),a),hc=a=>g_.encodingLength(a),gs=(c,d)=>{const a=d.byteLength,e=hc(c),f=e+hc(a),b=new Uint8Array(f+a);return ha(c,b,0),ha(a,b,e),b.set(d,f),new wV(c,a,d,b)};class wV{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}const hd=({name:a,code:b,encode:c})=>new wU(a,b,c);class wU{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){const b=this.encode(a);return b instanceof Uint8Array?gs(this.code,b):b.then(a=>gs(this.code,a))}throw Error("Unknown type, must be binary type")}}const hh=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b)),wP=hd({name:"sha2-256",code:18,encode:hh("SHA-256")}),wK=hd({name:"sha2-512",code:19,encode:hh("SHA-512")});wH=Object.freeze({__proto__:null,sha256:wP,sha512:wK});const hp=0,wF="identity",hq=ik;wE=Object.freeze({__proto__:null,identity:{code:hp,name:wF,encode:hq,digest:a=>gs(hp,hq(a))}}),new TextEncoder,new TextDecoder;const hr={...zt,...zp,...zk,...zf,...yY,...yy,...ys,...yj,...x$,...xH};({...wH,...wE});function kU(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}const hv=kU("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>(new TextEncoder).encode(a.substring(1))),gb=kU("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);const b=im(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),hw={utf8:hv,"utf-8":hv,hex:hr.base16,latin1:gb,ascii:gb,binary:gb,...hr};function U(c,a="utf8"){const b=hw[a];if(!b)throw new Error(`Unsupported encoding "${a}"`);return(a==="utf8"||a==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?fI(globalThis.Buffer.from(c,"utf-8")):b.decoder.decode(`${b.prefix}${c}`)}function Q(a,b="utf8"){const c=hw[b];if(!c)throw new Error(`Unsupported encoding "${b}"`);return(b==="utf8"||b==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8"):c.encoder.encode(a).substring(1)}hy=function(d,b,e){if(e||arguments.length===2)for(var a=0,f=b.length,c;a<f;a++)(c||!(a in b))&&(c||(c=Array.prototype.slice.call(b,0,a)),c[a]=b[a]);return d.concat(c||Array.prototype.slice.call(b))},wz=function(){function a(a,b,c){this.name=a,this.version=b,this.os=c,this.type="browser"}return a}(),wy=function(){function a(a){this.version=a,this.type="node",this.name="node",this.os=process.platform}return a}(),wx=function(){function a(a,b,c,d){this.name=a,this.version=b,this.os=c,this.bot=d,this.type="bot-device"}return a}(),wv=function(){function a(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return a}(),wr=function(){function a(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return a}(),wm=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wl=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,hX=3,wi=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",wm]],hY=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function wg(a){return a?ii(a):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new wr:typeof navigator<"u"?ii(navigator.userAgent):wc()}function wf(a){return a!==""&&wi.reduce(function(b,c){var e=c[0],f=c[1],d;return b||(d=f.exec(a),!!d&&[e,d])},!1)}function ii(b){var c=wf(b),d,f,a,g,h,e;return c?(d=c[0],f=c[1],d==="searchbot")?new wv:(a=f[1]&&f[1].split(".").join("_").split("_").slice(0,3),a?a.length<hX&&(a=hy(hy([],a,!0),wb(hX-a.length),!0)):a=[],g=a.join("."),h=wd(b),e=wl.exec(b),e&&e[1]?new wx(d,g,h,e[1]):new wz(d,g,h)):null}function wd(c){for(var a=0,d=hY.length,b,e,f,g;a<d;a++)if(b=hY[a],e=b[0],f=b[1],g=f.exec(c),g)return e;return null}function wc(){var a=typeof process<"u"&&process.version;return a?new wy(process.version.slice(1)):null}function wb(c){for(var a=[],b=0;b<c;b++)a.push("0");return a}k={},fF=function(a,b){return fF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])},fF(a,b)};function vY(b,a){fF(b,a);function c(){this.constructor=b}b.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}fC=function(){return fC=Object.assign||function(d){for(var a,b=1,e=arguments.length,c;b<e;b++){a=arguments[b];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])}return d},fC.apply(this,arguments)};function vW(b,e){var d={},a,c;for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&e.indexOf(a)<0&&(d[a]=b[a]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}function vV(g,b,c,e){var f=arguments.length,a=f<3?b:e===null?e=Object.getOwnPropertyDescriptor(b,c):e,d,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(g,b,c,e);else for(h=g.length-1;h>=0;h--)(d=g[h])&&(a=(f<3?d(a):f>3?d(b,c,a):d(b,c))||a);return f>3&&a&&Object.defineProperty(b,c,a),a}function vU(a,b){return function(c,d){b(c,d,a)}}function vT(a,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,b)}function vS(c,d,a,b){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new(a||(a=Promise))(function(g,f){function h(c){try{a(b.next(c))}catch(a){f(a)}}function i(c){try{a(b.throw(c))}catch(a){f(a)}}function a(a){a.done?g(a.value):e(a.value).then(h,i)}a((b=b.apply(c,d||[])).next())})}function vQ(g,h){var b={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},f,c,a,d;return d={next:e(0),throw:e(1),return:e(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function e(a){return function(b){return i([a,b])}}function i(d){if(f)throw new TypeError("Generator is already executing.");for(;b;)try{if(f=1,c&&(a=d[0]&2?c.return:d[0]?c.throw||((a=c.return)&&a.call(c),0):c.next)&&!(a=a.call(c,d[1])).done)return a;switch(c=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return b.label++,{value:d[1],done:!1};case 5:b.label++,c=d[1],d=[0];continue;case 7:d=b.ops.pop(),b.trys.pop();continue;default:if(a=b.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){b=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){b.label=d[1];break}if(d[0]===6&&b.label<a[1]){b.label=a[1],a=d;break}if(a&&b.label<a[2]){b.label=a[2],b.ops.push(d);break}a[2]&&b.ops.pop(),b.trys.pop();continue}d=h.call(g,b)}catch(a){d=[6,a],c=0}finally{f=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function vP(c,d,b,a){a===void 0&&(a=b),c[a]=d[b]}function vO(b,c){for(var a in b)a!=="default"&&!c.hasOwnProperty(a)&&(c[a]=b[a])}function fj(a){var b=typeof Symbol=="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(c,f){var a=typeof Symbol=="function"&&c[Symbol.iterator],d,b,g,e;if(!a)return c;d=a.call(c),g=[];try{for(;(f===void 0||f-- >0)&&!(b=d.next()).done;)g.push(b.value)}catch(a){e={error:a}}finally{try{b&&!b.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}return g}function vN(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(je(arguments[b]));return a}function vM(){for(var g=0,a=0,c=arguments.length,d,e,f,b,h;a<c;a++)g+=arguments[a].length;for(d=Array(g),e=0,a=0;a<c;a++)for(f=arguments[a],b=0,h=f.length;b<h;b++,e++)d[e]=f[b];return d}function cp(a){return this instanceof cp?(this.v=a,this):new cp(a)}function vL(h,i,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=g.apply(h,i||[]),c,a=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(d){e[d]&&(c[d]=function(c){return new Promise(function(e,f){a.push([d,c,e,f])>1||b(d,c)})})}function b(b,c){try{j(e[b](c))}catch(b){f(a[0][3],b)}}function j(b){b.value instanceof cp?Promise.resolve(b.value.v).then(k,l):f(a[0][2],b)}function k(a){b("next",a)}function l(a){b("throw",a)}function f(c,d){c(d),a.shift(),a.length&&b(a[0][0],a[0][1])}}function vK(c){var a,d;return a={},b("next"),b("throw",function(a){throw a}),b("return"),a[Symbol.iterator]=function(){return this},a;function b(b,e){a[b]=c[b]?function(a){return(d=!d)?{value:cp(c[b](a)),done:b==="return"}:e?e(a):a}:e}}function vJ(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a[Symbol.asyncIterator],b;return d?d.call(a):(a=typeof fj=="function"?fj(a):a[Symbol.iterator](),b={},c("next"),c("throw"),c("return"),b[Symbol.asyncIterator]=function(){return this},b);function c(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){b=a[c](b),e(d,f,b.done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function vI(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function vH(a){var b,c;if(a&&a.__esModule)return a;if(b={},a!=null)for(c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function vG(a){return a&&a.__esModule?a:{default:a}}function vF(a,b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)}function vD(a,b,c){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");return b.set(a,c),c}vC=Object.freeze({__proto__:null,__extends:vY,get __assign(){return fC},__rest:vW,__decorate:vV,__param:vU,__metadata:vT,__awaiter:vS,__generator:vQ,__createBinding:vP,__exportStar:vO,__values:fj,__read:je,__spread:vN,__spreadArrays:vM,__await:cp,__asyncGenerator:vL,__asyncDelegator:vK,__asyncValues:vJ,__makeTemplateObject:vI,__importStar:vH,__importDefault:vG,__classPrivateFieldGet:vF,__classPrivateFieldSet:vD}),dJ=aT(vC),jE={},cw={};function vA(){if(j_)return cw;j_=1,Object.defineProperty(cw,"__esModule",{value:!0}),cw.delay=void 0;function a(a){return new Promise(b=>{setTimeout(()=>{b(!0)},a)})}return cw.delay=a,cw}bc={},kf={},bz={};function vy(){return kj||(kj=1,Object.defineProperty(bz,"__esModule",{value:!0}),bz.ONE_THOUSAND=bz.ONE_HUNDRED=void 0,bz.ONE_HUNDRED=100,bz.ONE_THOUSAND=1e3),bz}lT={};function vx(){return kT||(kT=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ONE_YEAR=a.FOUR_WEEKS=a.THREE_WEEKS=a.TWO_WEEKS=a.ONE_WEEK=a.THIRTY_DAYS=a.SEVEN_DAYS=a.FIVE_DAYS=a.THREE_DAYS=a.ONE_DAY=a.TWENTY_FOUR_HOURS=a.TWELVE_HOURS=a.SIX_HOURS=a.THREE_HOURS=a.ONE_HOUR=a.SIXTY_MINUTES=a.THIRTY_MINUTES=a.TEN_MINUTES=a.FIVE_MINUTES=a.ONE_MINUTE=a.SIXTY_SECONDS=a.THIRTY_SECONDS=a.TEN_SECONDS=a.FIVE_SECONDS=a.ONE_SECOND=void 0,a.ONE_SECOND=1,a.FIVE_SECONDS=5,a.TEN_SECONDS=10,a.THIRTY_SECONDS=30,a.SIXTY_SECONDS=60,a.ONE_MINUTE=a.SIXTY_SECONDS,a.FIVE_MINUTES=a.ONE_MINUTE*5,a.TEN_MINUTES=a.ONE_MINUTE*10,a.THIRTY_MINUTES=a.ONE_MINUTE*30,a.SIXTY_MINUTES=a.ONE_MINUTE*60,a.ONE_HOUR=a.SIXTY_MINUTES,a.THREE_HOURS=a.ONE_HOUR*3,a.SIX_HOURS=a.ONE_HOUR*6,a.TWELVE_HOURS=a.ONE_HOUR*12,a.TWENTY_FOUR_HOURS=a.ONE_HOUR*24,a.ONE_DAY=a.TWENTY_FOUR_HOURS,a.THREE_DAYS=a.ONE_DAY*3,a.FIVE_DAYS=a.ONE_DAY*5,a.SEVEN_DAYS=a.ONE_DAY*7,a.THIRTY_DAYS=a.ONE_DAY*30,a.ONE_WEEK=a.SEVEN_DAYS,a.TWO_WEEKS=a.ONE_WEEK*2,a.THREE_WEEKS=a.ONE_WEEK*3,a.FOUR_WEEKS=a.ONE_WEEK*4,a.ONE_YEAR=a.ONE_DAY*365}(lT)),lT}function ld(){return kY||(kY=1,function(a){Object.defineProperty(a,"__esModule",{value:!0});const b=dJ;b.__exportStar(vy(),a),b.__exportStar(vx(),a)}(kf)),kf}function vv(){if(lk)return bc;lk=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.fromMiliseconds=bc.toMiliseconds=void 0;const a=ld();function b(b){return b*a.ONE_THOUSAND}bc.toMiliseconds=b;function c(b){return Math.floor(b/a.ONE_THOUSAND)}return bc.fromMiliseconds=c,bc}function vu(){return hK||(hK=1,function(a){Object.defineProperty(a,"__esModule",{value:!0});const b=dJ;b.__exportStar(vA(),a),b.__exportStar(vv(),a)}(jE)),jE}bA={};function vt(){if(lL)return bA;lL=1,Object.defineProperty(bA,"__esModule",{value:!0}),bA.Watch=void 0;class a{constructor(){this.timestamps=new Map}start(a){if(this.timestamps.has(a))throw new Error(`Watch already started for label: ${a}`);this.timestamps.set(a,{started:Date.now()})}stop(a){const b=this.get(a);if(typeof b.elapsed<"u")throw new Error(`Watch already stopped for label: ${a}`);const c=Date.now()-b.started;this.timestamps.set(a,{started:b.started,elapsed:c})}get(a){const b=this.timestamps.get(a);if(typeof b>"u")throw new Error(`No timestamp found for label: ${a}`);return b}elapsed(b){const a=this.get(b);return a.elapsed||Date.now()-a.started}}return bA.Watch=a,bA.default=a,bA}lB={},cI={};function vr(){if(lr)return cI;lr=1,Object.defineProperty(cI,"__esModule",{value:!0}),cI.IWatch=void 0;class a{}return cI.IWatch=a,cI}function vq(){return li||(li=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),dJ.__exportStar(vr(),a)}(lB)),lB}(function(a){Object.defineProperty(a,"__esModule",{value:!0});const b=dJ;b.__exportStar(vu(),a),b.__exportStar(vt(),a),b.__exportStar(vq(),a),b.__exportStar(ld(),a)})(k),t={},Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=kl=t.getLocation=t.getLocationOrThrow=er=t.getNavigator=t.getNavigatorOrThrow=kH=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0;function a_(a){let b;return typeof window<"u"&&typeof window[a]<"u"&&(b=window[a]),b}t.getFromWindow=a_;function bC(a){const b=a_(a);if(!b)throw new Error(`${a} is not defined in Window`);return b}t.getFromWindowOrThrow=bC;function vo(){return bC("document")}t.getDocumentOrThrow=vo;function vm(){return a_("document")}kH=t.getDocument=vm;function vl(){return bC("navigator")}t.getNavigatorOrThrow=vl;function vb(){return a_("navigator")}er=t.getNavigator=vb;function u$(){return bC("location")}t.getLocationOrThrow=u$;function uW(){return a_("location")}kl=t.getLocation=uW;function uV(){return bC("crypto")}t.getCryptoOrThrow=uV;function uU(){return a_("crypto")}t.getCrypto=uU;function uQ(){return bC("localStorage")}t.getLocalStorageOrThrow=uQ;function uN(){return a_("localStorage")}t.getLocalStorage=uN,ez={},Object.defineProperty(ez,"__esModule",{value:!0}),ke=ez.getWindowMetadata=void 0;const kd=t;function uM(){let b,a;try{b=kd.getDocumentOrThrow(),a=kd.getLocationOrThrow()}catch{return null}function d(){const d=b.getElementsByTagName("link"),c=[];for(let b=0;b<d.length;b++){const e=d[b],f=e.getAttribute("rel");if(f&&f.toLowerCase().indexOf("icon")>-1){const b=e.getAttribute("href");if(b)if(b.toLowerCase().indexOf("https:")===-1&&b.toLowerCase().indexOf("http:")===-1&&b.indexOf("//")!==0){let d=a.protocol+"//"+a.host;if(b.indexOf("/")===0)d+=b;else{const c=a.pathname.split("/");c.pop();const e=c.join("/");d+=e+"/"+b}c.push(d)}else if(b.indexOf("//")===0){const d=a.protocol+b;c.push(d)}else c.push(b)}}return c}function c(...c){const a=b.getElementsByTagName("meta");for(let b=0;b<a.length;b++){const d=a[b],e=["itemprop","property","name"].map(a=>d.getAttribute(a)).filter(a=>!!a&&c.includes(a));if(e.length&&e){const a=d.getAttribute("content");if(a)return a}}return""}function e(){let a=c("name","og:site_name","og:title","twitter:title");return a||(a=b.title),a}function f(){return c("description","og:description","twitter:description","keywords")}const g=e(),h=f(),i=a.origin,j=d();return{description:h,url:i,icons:j,name:g}}ke=ez.getWindowMetadata=uM,cx={},uL=a=>encodeURIComponent(a).replace(/[!'()*]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`),jW="%[a-f0-9]{2}",jQ=new RegExp("("+jW+")|([^%]+?)","gi"),jO=new RegExp("("+jW+")+","gi");function eI(a,b){try{return[decodeURIComponent(a.join(""))]}catch{}if(a.length===1)return a;b=b||1;var c=a.slice(0,b),d=a.slice(b);return Array.prototype.concat.call([],eI(c),eI(d))}function uK(a){try{return decodeURIComponent(a)}catch{for(var b=a.match(jQ)||[],c=1;c<b.length;c++)a=eI(b,c).join(""),b=a.match(jQ)||[];return a}}function uI(b){for(var c={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},a=jO.exec(b),e,f,d,g;a;){try{c[a[0]]=decodeURIComponent(a[0])}catch{e=uK(a[0]),e!==a[0]&&(c[a[0]]=e)}a=jO.exec(b)}c["%C2"]="\uFFFD";for(f=Object.keys(c),d=0;d<f.length;d++)g=f[d],b=b.replace(new RegExp(g,"g"),c[g]);return b}uH=function(a){if(typeof a!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch{return uI(a)}},uD=(a,b)=>{if(!(typeof a=="string"&&typeof b=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(b==="")return[a];const c=a.indexOf(b);return c===-1?[a]:[a.slice(0,c),a.slice(c+b.length)]},uA=function(d,b){for(var e={},f=Object.keys(d),h=Array.isArray(b),c=0,a,g;c<f.length;c++)a=f[c],g=d[a],(h?b.indexOf(a)!==-1:b(a,g,d))&&(e[a]=g);return e},function(b){const q=uL,p=uH,e=uD,n=uA,m=a=>a==null,d=Symbol("encodeFragmentIdentifier");function r(b){switch(b.arrayFormat){case"index":return c=>(e,d)=>{const f=e.length;return d===void 0||b.skipNull&&d===null||b.skipEmptyString&&d===""?e:d===null?[...e,[a(c,b),"[",f,"]"].join("")]:[...e,[a(c,b),"[",a(f,b),"]=",a(d,b)].join("")]};case"bracket":return c=>(e,d)=>d===void 0||b.skipNull&&d===null||b.skipEmptyString&&d===""?e:d===null?[...e,[a(c,b),"[]"].join("")]:[...e,[a(c,b),"[]=",a(d,b)].join("")];case"colon-list-separator":return c=>(e,d)=>d===void 0||b.skipNull&&d===null||b.skipEmptyString&&d===""?e:d===null?[...e,[a(c,b),":list="].join("")]:[...e,[a(c,b),":list=",a(d,b)].join("")];case"comma":case"separator":case"bracket-separator":{const c=b.arrayFormat==="bracket-separator"?"[]=":"=";return d=>(f,e)=>e===void 0||b.skipNull&&e===null||b.skipEmptyString&&e===""?f:(e=e===null?"":e,f.length===0?[[a(d,b),c,a(e,b)].join("")]:[[f,a(e,b)].join(b.arrayFormatSeparator)])}default:return c=>(e,d)=>d===void 0||b.skipNull&&d===null||b.skipEmptyString&&d===""?e:d===null?[...e,a(c,b)]:[...e,[a(c,b),"=",a(d,b)].join("")]}}function l(a){let b;switch(a.arrayFormat){case"index":return(a,d,c)=>{if(b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),!b){c[a]=d;return}c[a]===void 0&&(c[a]={}),c[a][b[1]]=d};case"bracket":return(a,d,c)=>{if(b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),!b){c[a]=d;return}if(c[a]===void 0){c[a]=[d];return}c[a]=[].concat(c[a],d)};case"colon-list-separator":return(a,d,c)=>{if(b=/(:list)$/.exec(a),a=a.replace(/:list$/,""),!b){c[a]=d;return}if(c[a]===void 0){c[a]=[d];return}c[a]=[].concat(c[a],d)};case"comma":case"separator":return(f,b,g)=>{const d=typeof b=="string"&&b.includes(a.arrayFormatSeparator),e=typeof b=="string"&&!d&&c(b,a).includes(a.arrayFormatSeparator);b=e?c(b,a):b;const h=d||e?b.split(a.arrayFormatSeparator).map(b=>c(b,a)):b===null?b:c(b,a);g[f]=h};case"bracket-separator":return(b,e,d)=>{const g=/(\[\])$/.test(b);if(b=b.replace(/\[\]$/,""),!g){d[b]=e&&c(e,a);return}const f=e===null?[]:e.split(a.arrayFormatSeparator).map(b=>c(b,a));if(d[b]===void 0){d[b]=f;return}d[b]=[].concat(d[b],f)};default:return(a,c,b)=>{if(b[a]===void 0){b[a]=c;return}b[a]=[].concat(b[a],c)}}}function j(a){if(typeof a!="string"||a.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function a(a,b){return b.encode?b.strict?q(a):encodeURIComponent(a):a}function c(a,b){return b.decode?p(a):a}function g(a){return Array.isArray(a)?a.sort():typeof a=="object"?g(Object.keys(a)).sort((a,b)=>Number(a)-Number(b)).map(b=>a[b]):a}function f(a){const b=a.indexOf("#");return b!==-1&&(a=a.slice(0,b)),a}function o(a){let b="";const c=a.indexOf("#");return c!==-1&&(b=a.slice(c)),b}function i(a){a=f(a);const b=a.indexOf("?");return b===-1?"":a.slice(b+1)}function h(a,b){return b.parseNumbers&&!Number.isNaN(Number(a))&&typeof a=="string"&&a.trim()!==""?a=Number(a):b.parseBooleans&&a!==null&&(a.toLowerCase()==="true"||a.toLowerCase()==="false")&&(a=a.toLowerCase()==="true"),a}function k(d,a){a=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},a),j(a.arrayFormatSeparator);const f=l(a),b=Object.create(null);if(typeof d!="string"||(d=d.trim().replace(/^[?#&]/,""),!d))return b;for(const h of d.split("&")){if(h==="")continue;let[i,g]=e(a.decode?h.replace(/\+/g," "):h,"=");g=g===void 0?null:["comma","separator","bracket-separator"].includes(a.arrayFormat)?g:c(g,a),f(c(i,a),g,b)}for(const d of Object.keys(b)){const c=b[d];if(typeof c=="object"&&c!==null)for(const b of Object.keys(c))c[b]=h(c[b],a);else b[d]=h(c,a)}return a.sort===!1?b:(a.sort===!0?Object.keys(b).sort():Object.keys(b).sort(a.sort)).reduce((c,d)=>{const a=b[d];return Boolean(a)&&typeof a=="object"&&!Array.isArray(a)?c[d]=g(a):c[d]=a,c},Object.create(null))}b.extract=i,b.parse=k,b.stringify=(c,b)=>{if(!c)return"";b=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},b),j(b.arrayFormatSeparator);const f=a=>b.skipNull&&m(c[a])||b.skipEmptyString&&c[a]==="",g=r(b),d={};for(const a of Object.keys(c))f(a)||(d[a]=c[a]);const e=Object.keys(d);return b.sort!==!1&&e.sort(b.sort),e.map(e=>{const d=c[e];return d===void 0?"":d===null?a(e,b):Array.isArray(d)?d.length===0&&b.arrayFormat==="bracket-separator"?a(e,b)+"[]":d.reduce(g(e),[]).join("&"):a(e,b)+"="+a(d,b)}).filter(a=>a.length>0).join("&")},b.parseUrl=(b,a)=>{a=Object.assign({decode:!0},a);const[f,d]=e(b,"#");return Object.assign({url:f.split("?")[0]||"",query:k(i(b),a)},a&&a.parseFragmentIdentifier&&d?{fragmentIdentifier:c(d,a)}:{})},b.stringifyUrl=(c,e)=>{e=Object.assign({encode:!0,strict:!0,[d]:!0},e);const i=f(c.url).split("?")[0]||"",j=b.extract(c.url),k=b.parse(j,{sort:!1}),l=Object.assign(k,c.query);let g=b.stringify(l,e);g&&(g=`?${g}`);let h=o(c.url);return c.fragmentIdentifier&&(h=`#${e[d]?a(c.fragmentIdentifier,e):c.fragmentIdentifier}`),`${i}${g}${h}`},b.pick=(c,e,a)=>{a=Object.assign({parseFragmentIdentifier:!0,[d]:!1},a);const{url:f,query:g,fragmentIdentifier:h}=b.parseUrl(c,a);return b.stringifyUrl({url:f,query:n(g,e),fragmentIdentifier:h},a)},b.exclude=(c,a,d)=>{const e=Array.isArray(a)?b=>!a.includes(b):(b,c)=>!a(b,c);return b.pick(c,e,d)}}(cx);const uz={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function uy(a,b=[]){const c=[];return Object.keys(a).forEach(d=>{if(b.length&&!b.includes(d))return;const e=a[d];c.push(...e.accounts)}),c}function jA(a,b){return a.includes(":")?[a]:b.chains||[]}const jy="base10",P="base16",eT="base64pad",eU="utf8",js=0,bk=1,uw=0,jl=1,eZ=12,e_=32;function uv(){const a=fH.generateKeyPair();return{privateKey:Q(a.secretKey,P),publicKey:Q(a.publicKey,P)}}function fa(){const a=bN.randomBytes(e_);return Q(a,P)}function ur(a,b){const c=fH.sharedKey(U(a,P),U(b,P)),d=new aay(dj.SHA256,c).expand(e_);return Q(d,P)}function uq(a){const b=dj.hash(U(a,P));return Q(b,P)}function bm(a){const b=dj.hash(U(a,eU));return Q(b,P)}function uo(a){return U(`${a}`,jy)}function cn(a){return Number(Q(a,jy))}function un(a){const b=uo(typeof a.type<"u"?a.type:js);if(cn(b)===bk&&typeof a.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const d=typeof a.senderPublicKey<"u"?U(a.senderPublicKey,P):void 0,c=typeof a.iv<"u"?U(a.iv,P):bN.randomBytes(eZ),e=new ek.ChaCha20Poly1305(U(a.symKey,P)).seal(c,U(a.message,eU));return uk({type:b,sealed:e,iv:c,senderPublicKey:d})}function um(a){const c=new ek.ChaCha20Poly1305(U(a.symKey,P)),{sealed:d,iv:e}=dv(a.encoded),b=c.open(e,d);if(b===null)throw new Error("Failed to decrypt");return Q(b,eU)}function uk(a){if(cn(a.type)===bk){if(typeof a.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Q(fK([a.type,a.senderPublicKey,a.iv,a.sealed]),eT)}return Q(fK([a.type,a.iv,a.sealed]),eT)}function dv(e){const a=U(e,eT),c=a.slice(uw,jl),b=jl;if(cn(c)===bk){const d=b+e_,e=d+eZ,f=a.slice(b,d),g=a.slice(d,e),h=a.slice(e);return{type:c,sealed:h,iv:g,senderPublicKey:f}}const d=b+eZ,f=a.slice(b,d),g=a.slice(d);return{type:c,sealed:g,iv:f}}function ui(b,c){const a=dv(b);return iV({type:cn(a.type),senderPublicKey:typeof a.senderPublicKey<"u"?Q(a.senderPublicKey,P):void 0,receiverPublicKey:c?.receiverPublicKey})}function iV(a){const b=a?.type||js;if(b===bk){if(typeof a?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof a?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:b,senderPublicKey:a?.senderPublicKey,receiverPublicKey:a?.receiverPublicKey}}function iR(a){return a.type===bk&&typeof a.senderPublicKey=="string"&&typeof a.receiverPublicKey=="string"}ue=Object.defineProperty,iP=Object.getOwnPropertySymbols,ud=Object.prototype.hasOwnProperty,ub=Object.prototype.propertyIsEnumerable,iJ=(a,b,c)=>b in a?ue(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,iH=(c,b)=>{var a;for(a in b||(b={}))ud.call(b,a)&&iJ(c,a,b[a]);if(iP)for(a of iP(b))ub.call(b,a)&&iJ(c,a,b[a]);return c};const ua="ReactNative",aP={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},t$="js";function fw(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function hb(){return!kH()&&!!er()&&navigator.product===ua}function fy(){return!fw()&&!!er()}function iz(){return hb()?aP.reactNative:fw()?aP.node:fy()?aP.browser:aP.unknown}function tY(a,c){let b=cx.parse(a);return b=iH(iH({},b),c),a=cx.stringify(b),a}function tX(){return ke()||{name:"",description:"",url:"",icons:[""]}}function tW(){const a=wg();if(a===null)return"unknown";const b=a.os?a.os.replace(" ","").toLowerCase():"unknown";return a.type==="browser"?[b,a.name,a.version].join("-"):[b,a.version].join("-")}function tV(){var b;const a=iz();return a===aP.browser?[a,((b=kl())==null?void 0:b.host)||"unknown"].join(":"):a}function tU(a,b,c){const d=tW(),e=tV();return[[a,b].join("-"),[t$,c].join("-"),d,e].join("/")}function tR({protocol:b,version:h,relayUrl:c,sdkVersion:d,auth:e,projectId:f,useOnCloseEvent:g}){const a=c.split("?"),i=tU(b,h,d),j={auth:e,ua:i,projectId:f,useOnCloseEvent:g||void 0},k=tY(a[1]||"",j);return a[0]+"?"+k}function bi(a,b){return a.filter(a=>b.includes(a)).length===a.length}function ip(a){return Object.fromEntries(a.entries())}function io(a){return new Map(Object.entries(a))}function bo(d=k.FIVE_MINUTES,e){const f=k.toMiliseconds(d||k.FIVE_MINUTES);let b,c,a;return{resolve:c=>{a&&b&&(clearTimeout(a),b(c))},reject:b=>{a&&c&&(clearTimeout(a),c(b))},done:()=>new Promise((g,d)=>{a=setTimeout(()=>{d(new Error(e))},f),b=g,c=d})}}function df(a,b,c){return new Promise(async(e,d)=>{const f=setTimeout(()=>d(new Error(c)),b);try{const b=await a;e(b)}catch(a){d(a)}clearTimeout(f)})}function ij(b,a){if(typeof a=="string"&&a.startsWith(`${b}:`))return a;if(b.toLowerCase()==="topic"){if(typeof a!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${a}`}if(b.toLowerCase()==="id"){if(typeof a!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${a}`}throw new Error(`Unknown expirer target type: ${b}`)}function tQ(a){return ij("topic",a)}function tP(a){return ij("id",a)}function ia(d){const[b,a]=d.split(":"),c={id:void 0,topic:void 0};if(b==="topic"&&typeof a=="string")c.topic=a;else if(b==="id"&&Number.isInteger(Number(a)))c.id=Number(a);else throw new Error(`Invalid target, expected id:number or topic:string, got ${b}:${a}`);return c}function af(a,b){return k.fromMiliseconds((b||Date.now())+k.toMiliseconds(a))}function aC(a){return Date.now()>=k.toMiliseconds(a)}function z(b,a){return`${b}${a?`:${a}`:""}`}function fS(a=[],b=[]){return[...new Set([...a,...b])]}const tO="irn";function fU(a){return a?.relay||{protocol:tO}}function c_(a){const b=uz[a];if(typeof b>"u")throw new Error(`Relay Protocol not supported: ${a}`);return b}tM=Object.defineProperty,hM=Object.getOwnPropertySymbols,tI=Object.prototype.hasOwnProperty,tH=Object.prototype.propertyIsEnumerable,hH=(a,b,c)=>b in a?tM(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,tG=(c,b)=>{var a;for(a in b||(b={}))tI.call(b,a)&&hH(c,a,b[a]);if(hM)for(a of hM(b))tH.call(b,a)&&hH(c,a,b[a]);return c};function tE(a,d="-"){const b={},c="relay"+d;return Object.keys(a).forEach(d=>{if(d.startsWith(c)){const e=d.replace(c,""),f=a[d];b[e]=f}}),b}function tC(a){const c=a.indexOf(":"),b=a.indexOf("?")!==-1?a.indexOf("?"):void 0,f=a.substring(0,c),d=a.substring(c+1,b).split("@"),g=typeof b<"u"?a.substring(b):"",e=cx.parse(g);return{protocol:f,topic:tB(d[0]),version:parseInt(d[1],10),symKey:e.symKey,relay:tE(e)}}function tB(a){return a.startsWith("//")?a.substring(2):a}function tA(a,c="-"){const d="relay",b={};return Object.keys(a).forEach(e=>{const f=d+c+e;a[e]&&(b[f]=a[e])}),b}function ts(a){return`${a.protocol}:${a.topic}@${a.version}?`+cx.stringify(tG({symKey:a.symKey},tA(a.relay)))}function bQ(b){const a=[];return b.forEach(b=>{const[c,d]=b.split(":");a.push(`${c}:${d}`)}),a}function tr(b){const a=[];return Object.values(b).forEach(b=>{a.push(...bQ(b.accounts))}),a}function tp(b,c){const a=[];return Object.values(b).forEach(b=>{bQ(b.accounts).includes(c)&&a.push(...b.methods)}),a}function to(b,c){const a=[];return Object.values(b).forEach(b=>{bQ(b.accounts).includes(c)&&a.push(...b.events)}),a}function tm(a,d){const b=cQ(a,d);if(b)throw new Error(b.message);const c={};for(const[d,b]of Object.entries(a))c[d]={methods:b.methods,events:b.events,chains:b.accounts.map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`)};return c}function hl(a){return a.includes(":")}function cP(a){return hl(a)?a.split(":")[0]:a}const tl={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tk={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function b(c,a){const{message:b,code:d}=tk[c];return{message:a?`${b} ${a}`:b,code:d}}function x(c,a){const{message:b,code:d}=tl[c];return{message:a?`${b} ${a}`:b,code:d}}function ax(a,b){return!!Array.isArray(a)&&(!(typeof b<"u"&&a.length)||a.every(b))}function bx(a){return Object.getPrototypeOf(a)===Object.prototype&&Object.keys(a).length}function R(a){return typeof a>"u"}function D(a,b){return!!(b&&R(a))||typeof a=="string"&&Boolean(a.trim().length)}function gu(a,b){return!!(b&&R(a))||typeof a=="number"&&!isNaN(a)}function tj(a,e){const{requiredNamespaces:b}=e,c=Object.keys(a.namespaces),f=Object.keys(b);let d=!0;return!!bi(f,c)&&(c.forEach(c=>{const{accounts:f,methods:g,events:h}=a.namespaces[c],i=bQ(f),e=b[c];(!bi(jA(c,e),i)||!bi(e.methods,g)||!bi(e.events,h))&&(d=!1)}),d)}function gw(a){return!!(D(a,!1)&&a.includes(":"))&&a.split(":").length===2}function ti(a){if(D(a,!1)&&a.includes(":")){const b=a.split(":");if(b.length===3){const a=b[0]+":"+b[1];return!!b[2]&&gw(a)}}return!1}function th(a){if(D(a,!1))try{return typeof new URL(a)<"u"}catch{return!1}return!1}function tg(b){var a;return(a=b?.proposer)==null?void 0:a.publicKey}function tf(a){return a?.topic}function te(c,d){let a=null;return D(c?.publicKey,!1)||(a=b("MISSING_OR_INVALID",`${d} controller public key should be a string`)),a}function gK(a){let b=!0;return ax(a)?a.length&&(b=a.every(a=>D(a,!1))):b=!1,b}function td(d,b,c){let a=null;return ax(b)?b.forEach(b=>{a||(!gw(b)||!b.includes(d))&&(a=x("UNSUPPORTED_CHAINS",`${c}, chain ${b} should be a string and conform to "namespace:chainId" format`))}):a=x("UNSUPPORTED_CHAINS",`${c}, chains ${b} should be an array of strings conforming to "namespace:chainId" format`),a}function tc(b,c){let a=null;return Object.entries(b).forEach(([b,e])=>{if(a)return;const d=td(b,jA(b,e),`${c} requiredNamespace`);d&&(a=d)}),a}function tb(b,c){let a=null;return ax(b)?b.forEach(b=>{a||ti(b)||(a=x("UNSUPPORTED_ACCOUNTS",`${c}, account ${b} should be a string and conform to "namespace:chainId:address" format`))}):a=x("UNSUPPORTED_ACCOUNTS",`${c}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),a}function ta(b,c){let a=null;return Object.values(b).forEach(d=>{if(a)return;const b=tb(d?.accounts,`${c} namespace`);b&&(a=b)}),a}function s$(b,c){let a=null;return gK(b?.methods)?gK(b?.events)||(a=x("UNSUPPORTED_EVENTS",`${c}, events should be an array of strings or empty array for no events`)):a=x("UNSUPPORTED_METHODS",`${c}, methods should be an array of strings or empty array for no methods`),a}function gI(b,c){let a=null;return Object.values(b).forEach(d=>{if(a)return;const b=s$(d,`${c}, namespace`);b&&(a=b)}),a}function s_(a,d,e){let c=null;if(a&&bx(a)){const b=gI(a,d);b&&(c=b);const e=tc(a,d);e&&(c=e)}else c=b("MISSING_OR_INVALID",`${d}, ${e} should be an object with data`);return c}function cQ(a,d){let c=null;if(a&&bx(a)){const b=gI(a,d);b&&(c=b);const e=ta(a,d);e&&(c=e)}else c=b("MISSING_OR_INVALID",`${d}, namespaces should be an object with data`);return c}function gL(a){return D(a.protocol,!0)}function sY(a,c){let b=!1;return c&&!a?b=!0:a&&ax(a)&&a.length&&a.forEach(a=>{b=gL(a)}),b}function sX(a){return typeof a=="number"}function V(a){return typeof a<"u"&&typeof a!==null}function sW(a){return!(!a||typeof a!="object"||!a.code||!gu(a.code,!1)||!a.message||!D(a.message,!1))}function sV(a){return!(R(a)||!D(a.method,!1))}function sT(a){return!(R(a)||R(a.result)&&R(a.error)||!gu(a.id,!1)||!D(a.jsonrpc,!1))}function sS(a){return!(R(a)||!D(a.name,!1))}function gT(b,a){return!(!gw(a)||!tr(b).includes(a))}function sR(b,c,a){return!!D(a,!1)&&tp(b,c).includes(a)}function sQ(b,c,a){return!!D(a,!1)&&to(b,c).includes(a)}function gW(h,c,d){let a=null;const f=sP(h),g=sO(c),e=Object.keys(f),i=Object.keys(g),k=gY(Object.keys(h)),l=gY(Object.keys(c)),j=k.filter(a=>!l.includes(a));return j.length&&(a=b("NON_CONFORMING_NAMESPACES",`${d} namespaces keys don't satisfy requiredNamespaces.
      Required: ${j.toString()}
      Received: ${Object.keys(c).toString()}`)),bi(e,i)||(a=b("NON_CONFORMING_NAMESPACES",`${d} namespaces chains don't satisfy required namespaces.
      Required: ${e.toString()}
      Approved: ${i.toString()}`)),Object.keys(c).forEach(e=>{if(!e.includes(":")||a)return;const f=bQ(c[e].accounts);f.includes(e)||(a=b("NON_CONFORMING_NAMESPACES",`${d} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${f.toString()}`))}),e.forEach(c=>{a||(bi(f[c].methods,g[c].methods)?bi(f[c].events,g[c].events)||(a=b("NON_CONFORMING_NAMESPACES",`${d} namespaces events don't satisfy namespace events for ${c}`)):a=b("NON_CONFORMING_NAMESPACES",`${d} namespaces methods don't satisfy namespace methods for ${c}`))}),a}function sP(a){const b={};return Object.keys(a).forEach(c=>{var d;c.includes(":")?b[c]=a[c]:(d=a[c].chains)==null||d.forEach(d=>{b[d]={methods:a[c].methods,events:a[c].events}})}),b}function gY(a){return[...new Set(a.map(a=>a.includes(":")?a.split(":")[0]:a))]}function sO(a){const b={};return Object.keys(a).forEach(c=>{if(c.includes(":"))b[c]=a[c];else{const d=bQ(a[c].accounts);d?.forEach(d=>{b[d]={accounts:a[c].accounts.filter(a=>a.includes(`${d}:`)),methods:a[c].methods,events:a[c].events}})}}),b}function sN(a,b){return gu(a,!1)&&a<=b.max&&a>=b.min}cU={},gv=function(a,b){return gv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])},gv(a,b)};function sM(b,a){gv(b,a);function c(){this.constructor=b}b.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}gt=function(){return gt=Object.assign||function(d){for(var a,b=1,e=arguments.length,c;b<e;b++){a=arguments[b];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])}return d},gt.apply(this,arguments)};function sL(b,e){var d={},a,c;for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&e.indexOf(a)<0&&(d[a]=b[a]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}function sK(g,b,c,e){var f=arguments.length,a=f<3?b:e===null?e=Object.getOwnPropertyDescriptor(b,c):e,d,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(g,b,c,e);else for(h=g.length-1;h>=0;h--)(d=g[h])&&(a=(f<3?d(a):f>3?d(b,c,a):d(b,c))||a);return f>3&&a&&Object.defineProperty(b,c,a),a}function sJ(a,b){return function(c,d){b(c,d,a)}}function sG(a,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,b)}function sF(c,d,a,b){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new(a||(a=Promise))(function(g,f){function h(c){try{a(b.next(c))}catch(a){f(a)}}function i(c){try{a(b.throw(c))}catch(a){f(a)}}function a(a){a.done?g(a.value):e(a.value).then(h,i)}a((b=b.apply(c,d||[])).next())})}function sE(g,h){var b={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},f,c,a,d;return d={next:e(0),throw:e(1),return:e(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function e(a){return function(b){return i([a,b])}}function i(d){if(f)throw new TypeError("Generator is already executing.");for(;b;)try{if(f=1,c&&(a=d[0]&2?c.return:d[0]?c.throw||((a=c.return)&&a.call(c),0):c.next)&&!(a=a.call(c,d[1])).done)return a;switch(c=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return b.label++,{value:d[1],done:!1};case 5:b.label++,c=d[1],d=[0];continue;case 7:d=b.ops.pop(),b.trys.pop();continue;default:if(a=b.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){b=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){b.label=d[1];break}if(d[0]===6&&b.label<a[1]){b.label=a[1],a=d;break}if(a&&b.label<a[2]){b.label=a[2],b.ops.push(d);break}a[2]&&b.ops.pop(),b.trys.pop();continue}d=h.call(g,b)}catch(a){d=[6,a],c=0}finally{f=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function sD(c,d,b,a){a===void 0&&(a=b),c[a]=d[b]}function sB(b,c){for(var a in b)a!=="default"&&!c.hasOwnProperty(a)&&(c[a]=b[a])}function gk(a){var b=typeof Symbol=="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function hm(c,f){var a=typeof Symbol=="function"&&c[Symbol.iterator],d,b,g,e;if(!a)return c;d=a.call(c),g=[];try{for(;(f===void 0||f-- >0)&&!(b=d.next()).done;)g.push(b.value)}catch(a){e={error:a}}finally{try{b&&!b.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}return g}function sz(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(hm(arguments[b]));return a}function sy(){for(var g=0,a=0,c=arguments.length,d,e,f,b,h;a<c;a++)g+=arguments[a].length;for(d=Array(g),e=0,a=0;a<c;a++)for(f=arguments[a],b=0,h=f.length;b<h;b++,e++)d[e]=f[b];return d}function cb(a){return this instanceof cb?(this.v=a,this):new cb(a)}function sx(h,i,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=g.apply(h,i||[]),c,a=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(d){e[d]&&(c[d]=function(c){return new Promise(function(e,f){a.push([d,c,e,f])>1||b(d,c)})})}function b(b,c){try{j(e[b](c))}catch(b){f(a[0][3],b)}}function j(b){b.value instanceof cb?Promise.resolve(b.value.v).then(k,l):f(a[0][2],b)}function k(a){b("next",a)}function l(a){b("throw",a)}function f(c,d){c(d),a.shift(),a.length&&b(a[0][0],a[0][1])}}function sw(c){var a,d;return a={},b("next"),b("throw",function(a){throw a}),b("return"),a[Symbol.iterator]=function(){return this},a;function b(b,e){a[b]=c[b]?function(a){return(d=!d)?{value:cb(c[b](a)),done:b==="return"}:e?e(a):a}:e}}function sv(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a[Symbol.asyncIterator],b;return d?d.call(a):(a=typeof gk=="function"?gk(a):a[Symbol.iterator](),b={},c("next"),c("throw"),c("return"),b[Symbol.asyncIterator]=function(){return this},b);function c(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){b=a[c](b),e(d,f,b.done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function sr(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function so(a){var b,c;if(a&&a.__esModule)return a;if(b={},a!=null)for(c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function sm(a){return a&&a.__esModule?a:{default:a}}function sl(a,b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)}function sk(a,b,c){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");return b.set(a,c),c}sj=Object.freeze({__proto__:null,__extends:sM,get __assign(){return gt},__rest:sL,__decorate:sK,__param:sJ,__metadata:sG,__awaiter:sF,__generator:sE,__createBinding:sD,__exportStar:sB,__values:gk,__read:hm,__spread:sz,__spreadArrays:sy,__await:cb,__asyncGenerator:sx,__asyncDelegator:sw,__asyncValues:sv,__makeTemplateObject:sr,__importStar:so,__importDefault:sm,__classPrivateFieldGet:sl,__classPrivateFieldSet:sk}),hz=aT(sj),bU={},Object.defineProperty(bU,"__esModule",{value:!0});function sg(a){if(typeof a!="string")throw new Error(`Cannot safe json parse value of type ${typeof a}`);try{return JSON.parse(a)}catch{return a}}bU.safeJsonParse=sg;function sd(a){return typeof a=="string"?a:JSON.stringify(a,(b,a)=>typeof a>"u"?null:a)}bU.safeJsonStringify=sd,c$={exports:{}};function sb(){return hE||(hE=1,function(){let a;function b(){}a=b,a.prototype.getItem=function(a){return this.hasOwnProperty(a)?String(this[a]):null},a.prototype.setItem=function(a,b){this[a]=String(b)},a.prototype.removeItem=function(a){delete this[a]},a.prototype.clear=function(){const a=this;Object.keys(a).forEach(function(b){a[b]=void 0,delete a[b]})},a.prototype.key=function(a){return a=a||0,Object.keys(this)[a]},a.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof am<"u"&&am.localStorage?c$.exports=am.localStorage:typeof window<"u"&&window.localStorage?c$.exports=window.localStorage:c$.exports=new b}()),c$.exports}hG={},bX={};function sa(){if(hI)return bX;hI=1,Object.defineProperty(bX,"__esModule",{value:!0}),bX.IKeyValueStorage=void 0;class a{}return bX.IKeyValueStorage=a,bX}bY={};function r$(){if(hL)return bY;hL=1,Object.defineProperty(bY,"__esModule",{value:!0}),bY.parseEntry=void 0;const a=bU;function b(c){var b;return[c[0],a.safeJsonParse((b=c[1])!==null&&b!==void 0?b:"")]}return bY.parseEntry=b,bY}function r_(){return hN||(hN=1,function(a){Object.defineProperty(a,"__esModule",{value:!0});const b=hz;b.__exportStar(sa(),a),b.__exportStar(r$(),a)}(hG)),hG}Object.defineProperty(cU,"__esModule",{value:!0}),cU.KeyValueStorage=void 0;const bu=hz,hQ=bU,rZ=bu.__importDefault(sb()),rY=r_();class hT{constructor(){this.localStorage=rZ.default}getKeys(){return bu.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return bu.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(rY.parseEntry)})}getItem(a){return bu.__awaiter(this,void 0,void 0,function*(){const b=this.localStorage.getItem(a);if(b!==null)return hQ.safeJsonParse(b)})}setItem(a,b){return bu.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(a,hQ.safeJsonStringify(b))})}removeItem(a){return bu.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(a)})}}cU.KeyValueStorage=hT,rX=cU.default=hT,b_={},fT=function(a,b){return fT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])},fT(a,b)};function rV(b,a){fT(b,a);function c(){this.constructor=b}b.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}fQ=function(){return fQ=Object.assign||function(d){for(var a,b=1,e=arguments.length,c;b<e;b++){a=arguments[b];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])}return d},fQ.apply(this,arguments)};function rS(b,e){var d={},a,c;for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&e.indexOf(a)<0&&(d[a]=b[a]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}function rQ(g,b,c,e){var f=arguments.length,a=f<3?b:e===null?e=Object.getOwnPropertyDescriptor(b,c):e,d,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(g,b,c,e);else for(h=g.length-1;h>=0;h--)(d=g[h])&&(a=(f<3?d(a):f>3?d(b,c,a):d(b,c))||a);return f>3&&a&&Object.defineProperty(b,c,a),a}function rP(a,b){return function(c,d){b(c,d,a)}}function rO(a,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,b)}function rN(c,d,a,b){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new(a||(a=Promise))(function(g,f){function h(c){try{a(b.next(c))}catch(a){f(a)}}function i(c){try{a(b.throw(c))}catch(a){f(a)}}function a(a){a.done?g(a.value):e(a.value).then(h,i)}a((b=b.apply(c,d||[])).next())})}function rM(g,h){var b={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},f,c,a,d;return d={next:e(0),throw:e(1),return:e(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function e(a){return function(b){return i([a,b])}}function i(d){if(f)throw new TypeError("Generator is already executing.");for(;b;)try{if(f=1,c&&(a=d[0]&2?c.return:d[0]?c.throw||((a=c.return)&&a.call(c),0):c.next)&&!(a=a.call(c,d[1])).done)return a;switch(c=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return b.label++,{value:d[1],done:!1};case 5:b.label++,c=d[1],d=[0];continue;case 7:d=b.ops.pop(),b.trys.pop();continue;default:if(a=b.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){b=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){b.label=d[1];break}if(d[0]===6&&b.label<a[1]){b.label=a[1],a=d;break}if(a&&b.label<a[2]){b.label=a[2],b.ops.push(d);break}a[2]&&b.ops.pop(),b.trys.pop();continue}d=h.call(g,b)}catch(a){d=[6,a],c=0}finally{f=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function rL(c,d,b,a){a===void 0&&(a=b),c[a]=d[b]}function rK(b,c){for(var a in b)a!=="default"&&!c.hasOwnProperty(a)&&(c[a]=b[a])}function fN(a){var b=typeof Symbol=="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function ih(c,f){var a=typeof Symbol=="function"&&c[Symbol.iterator],d,b,g,e;if(!a)return c;d=a.call(c),g=[];try{for(;(f===void 0||f-- >0)&&!(b=d.next()).done;)g.push(b.value)}catch(a){e={error:a}}finally{try{b&&!b.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}return g}function rJ(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(ih(arguments[b]));return a}function rH(){for(var g=0,a=0,c=arguments.length,d,e,f,b,h;a<c;a++)g+=arguments[a].length;for(d=Array(g),e=0,a=0;a<c;a++)for(f=arguments[a],b=0,h=f.length;b<h;b++,e++)d[e]=f[b];return d}function ca(a){return this instanceof ca?(this.v=a,this):new ca(a)}function rG(h,i,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=g.apply(h,i||[]),c,a=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(d){e[d]&&(c[d]=function(c){return new Promise(function(e,f){a.push([d,c,e,f])>1||b(d,c)})})}function b(b,c){try{j(e[b](c))}catch(b){f(a[0][3],b)}}function j(b){b.value instanceof ca?Promise.resolve(b.value.v).then(k,l):f(a[0][2],b)}function k(a){b("next",a)}function l(a){b("throw",a)}function f(c,d){c(d),a.shift(),a.length&&b(a[0][0],a[0][1])}}function rE(c){var a,d;return a={},b("next"),b("throw",function(a){throw a}),b("return"),a[Symbol.iterator]=function(){return this},a;function b(b,e){a[b]=c[b]?function(a){return(d=!d)?{value:ca(c[b](a)),done:b==="return"}:e?e(a):a}:e}}function rD(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a[Symbol.asyncIterator],b;return d?d.call(a):(a=typeof fN=="function"?fN(a):a[Symbol.iterator](),b={},c("next"),c("throw"),c("return"),b[Symbol.asyncIterator]=function(){return this},b);function c(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){b=a[c](b),e(d,f,b.done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function rC(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function rB(a){var b,c;if(a&&a.__esModule)return a;if(b={},a!=null)for(c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function rA(a){return a&&a.__esModule?a:{default:a}}function rz(a,b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)}function rs(a,b,c){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");return b.set(a,c),c}rq=Object.freeze({__proto__:null,__extends:rV,get __assign(){return fQ},__rest:rS,__decorate:rQ,__param:rP,__metadata:rO,__awaiter:rN,__generator:rM,__createBinding:rL,__exportStar:rK,__values:fN,__read:ih,__spread:rJ,__spreadArrays:rH,__await:ca,__asyncGenerator:rG,__asyncDelegator:rE,__asyncValues:rD,__makeTemplateObject:rC,__importStar:rB,__importDefault:rA,__classPrivateFieldGet:rz,__classPrivateFieldSet:rs}),dn=aT(rq),ci={},ix={},cj={};class aW{}rp=Object.freeze({__proto__:null,IEvents:aW}),rn=aT(rp);function rm(){if(iC)return cj;iC=1,Object.defineProperty(cj,"__esModule",{value:!0}),cj.IHeartBeat=void 0;const a=rn;class b extends a.IEvents{constructor(a){super()}}return cj.IHeartBeat=b,cj}function iF(){return iE||(iE=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),dn.__exportStar(rm(),a)}(ix)),ix}iG={},aX={};function rl(){if(iI)return aX;iI=1,Object.defineProperty(aX,"__esModule",{value:!0}),aX.HEARTBEAT_EVENTS=aX.HEARTBEAT_INTERVAL=void 0;const a=k;return aX.HEARTBEAT_INTERVAL=a.FIVE_SECONDS,aX.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},aX}function iL(){return iK||(iK=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),dn.__exportStar(rl(),a)}(iG)),iG}function rk(){if(iM)return ci;iM=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.HeartBeat=void 0;const a=dn,d=I.exports,e=k,f=iF(),b=iL();class c extends f.IHeartBeat{constructor(a){super(a),this.events=new d.EventEmitter,this.interval=b.HEARTBEAT_INTERVAL,this.interval=a?.interval||b.HEARTBEAT_INTERVAL}static init(b){return a.__awaiter(this,void 0,void 0,function*(){const a=new c(b);return yield a.init(),a})}init(){return a.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}initialize(){return a.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),e.toMiliseconds(this.interval))})}pulse(){this.events.emit(b.HEARTBEAT_EVENTS.pulse)}}return ci.HeartBeat=c,ci}(function(a){Object.defineProperty(a,"__esModule",{value:!0});const b=dn;b.__exportStar(rk(),a),b.__exportStar(iF(),a),b.__exportStar(iL(),a)})(b_),q={},fo=function(a,b){return fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])},fo(a,b)};function ri(b,a){fo(b,a);function c(){this.constructor=b}b.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}fm=function(){return fm=Object.assign||function(d){for(var a,b=1,e=arguments.length,c;b<e;b++){a=arguments[b];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])}return d},fm.apply(this,arguments)};function rh(b,e){var d={},a,c;for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&e.indexOf(a)<0&&(d[a]=b[a]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}function re(g,b,c,e){var f=arguments.length,a=f<3?b:e===null?e=Object.getOwnPropertyDescriptor(b,c):e,d,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(g,b,c,e);else for(h=g.length-1;h>=0;h--)(d=g[h])&&(a=(f<3?d(a):f>3?d(b,c,a):d(b,c))||a);return f>3&&a&&Object.defineProperty(b,c,a),a}function rd(a,b){return function(c,d){b(c,d,a)}}function rc(a,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,b)}function rb(c,d,a,b){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new(a||(a=Promise))(function(g,f){function h(c){try{a(b.next(c))}catch(a){f(a)}}function i(c){try{a(b.throw(c))}catch(a){f(a)}}function a(a){a.done?g(a.value):e(a.value).then(h,i)}a((b=b.apply(c,d||[])).next())})}function q_(g,h){var b={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},f,c,a,d;return d={next:e(0),throw:e(1),return:e(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function e(a){return function(b){return i([a,b])}}function i(d){if(f)throw new TypeError("Generator is already executing.");for(;b;)try{if(f=1,c&&(a=d[0]&2?c.return:d[0]?c.throw||((a=c.return)&&a.call(c),0):c.next)&&!(a=a.call(c,d[1])).done)return a;switch(c=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return b.label++,{value:d[1],done:!1};case 5:b.label++,c=d[1],d=[0];continue;case 7:d=b.ops.pop(),b.trys.pop();continue;default:if(a=b.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){b=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){b.label=d[1];break}if(d[0]===6&&b.label<a[1]){b.label=a[1],a=d;break}if(a&&b.label<a[2]){b.label=a[2],b.ops.push(d);break}a[2]&&b.ops.pop(),b.trys.pop();continue}d=h.call(g,b)}catch(a){d=[6,a],c=0}finally{f=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function qZ(c,d,b,a){a===void 0&&(a=b),c[a]=d[b]}function qW(b,c){for(var a in b)a!=="default"&&!c.hasOwnProperty(a)&&(c[a]=b[a])}function fi(a){var b=typeof Symbol=="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function i$(c,f){var a=typeof Symbol=="function"&&c[Symbol.iterator],d,b,g,e;if(!a)return c;d=a.call(c),g=[];try{for(;(f===void 0||f-- >0)&&!(b=d.next()).done;)g.push(b.value)}catch(a){e={error:a}}finally{try{b&&!b.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}return g}function qU(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(i$(arguments[b]));return a}function qT(){for(var g=0,a=0,c=arguments.length,d,e,f,b,h;a<c;a++)g+=arguments[a].length;for(d=Array(g),e=0,a=0;a<c;a++)for(f=arguments[a],b=0,h=f.length;b<h;b++,e++)d[e]=f[b];return d}function cm(a){return this instanceof cm?(this.v=a,this):new cm(a)}function qS(h,i,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=g.apply(h,i||[]),c,a=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(d){e[d]&&(c[d]=function(c){return new Promise(function(e,f){a.push([d,c,e,f])>1||b(d,c)})})}function b(b,c){try{j(e[b](c))}catch(b){f(a[0][3],b)}}function j(b){b.value instanceof cm?Promise.resolve(b.value.v).then(k,l):f(a[0][2],b)}function k(a){b("next",a)}function l(a){b("throw",a)}function f(c,d){c(d),a.shift(),a.length&&b(a[0][0],a[0][1])}}function qR(c){var a,d;return a={},b("next"),b("throw",function(a){throw a}),b("return"),a[Symbol.iterator]=function(){return this},a;function b(b,e){a[b]=c[b]?function(a){return(d=!d)?{value:cm(c[b](a)),done:b==="return"}:e?e(a):a}:e}}function qQ(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a[Symbol.asyncIterator],b;return d?d.call(a):(a=typeof fi=="function"?fi(a):a[Symbol.iterator](),b={},c("next"),c("throw"),c("return"),b[Symbol.asyncIterator]=function(){return this},b);function c(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){b=a[c](b),e(d,f,b.done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function qN(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function qI(a){var b,c;if(a&&a.__esModule)return a;if(b={},a!=null)for(c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function qG(a){return a&&a.__esModule?a:{default:a}}function qA(a,b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)}function qz(a,b,c){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");return b.set(a,c),c}qy=Object.freeze({__proto__:null,__extends:ri,get __assign(){return fm},__rest:rh,__decorate:re,__param:rd,__metadata:rc,__awaiter:rb,__generator:q_,__createBinding:qZ,__exportStar:qW,__values:fi,__read:i$,__spread:qU,__spreadArrays:qT,__await:cm,__asyncGenerator:qS,__asyncDelegator:qR,__asyncValues:qQ,__makeTemplateObject:qN,__importStar:qI,__importDefault:qG,__classPrivateFieldGet:qA,__classPrivateFieldSet:qz}),qx=aT(qy);function qu(){if(jo)return eX;jo=1;function a(a){try{return JSON.stringify(a)}catch{return'"[Circular]"'}}eX=b;function b(d,g,o){var l=o&&o.stringify||a,n=1,k,j,i,h,f,e,c,m,b,p;if(typeof d=="object"&&d!==null){if(k=g.length+n,k===1)return d;j=new Array(k),j[0]=l(d);for(i=1;i<k;i++)j[i]=l(g[i]);return j.join(" ")}if(typeof d!="string")return d;if(h=g.length,h===0)return d;for(f="",e=1-n,c=-1,m=d&&d.length||0,b=0;b<m;){if(d.charCodeAt(b)===37&&b+1<m){switch(c=c>-1?c:0,d.charCodeAt(b+1)){case 100:case 102:if(e>=h||g[e]==null)break;c<b&&(f+=d.slice(c,b)),f+=Number(g[e]),c=b+2,b++;break;case 105:if(e>=h||g[e]==null)break;c<b&&(f+=d.slice(c,b)),f+=Math.floor(Number(g[e])),c=b+2,b++;break;case 79:case 111:case 106:if(e>=h||g[e]===void 0)break;if(c<b&&(f+=d.slice(c,b)),p=typeof g[e],p==="string"){f+="'"+g[e]+"'",c=b+2,b++;break}if(p==="function"){f+=g[e].name||"<anonymous>",c=b+2,b++;break}f+=l(g[e]),c=b+2,b++;break;case 115:if(e>=h)break;c<b&&(f+=d.slice(c,b)),f+=String(g[e]),c=b+2,b++;break;case 37:c<b&&(f+=d.slice(c,b)),f+="%",c=b+2,b++,e--;break}++e}++b}return c===-1?d:(c<m&&(f+=d.slice(c)),f)}return eX}function qj(){if(jr)return eW;jr=1;const l=qu();eW=a;const e=v().console||{},s={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:i,wrapResponseSerializer:i,wrapErrorSerializer:i,req:g,res:g,err:m};function r(a,b){return Array.isArray(a)?a.filter(function(a){return a!=="!stdSerializers.err"}):a===!0&&Object.keys(b)}function a(i){i=i||{},i.browser=i.browser||{};const m=i.browser.transmit;if(m&&typeof m.send!="function")throw Error("pino: transmit option must have a send function");const j=i.browser.write||e;i.browser.write&&(i.browser.asObject=!0);const o=i.serializers||{},l=r(i.browser.serialize,o);let p=i.browser.serialize;Array.isArray(i.browser.serialize)&&i.browser.serialize.indexOf("!stdSerializers.err")>-1&&(p=!1);const s=["error","fatal","warn","info","debug","trace"];typeof j=="function"&&(j.error=j.fatal=j.warn=j.info=j.debug=j.trace=j),i.enabled===!1&&(i.level="silent");const q=i.level||"info",g=Object.create(j);g.log||(g.log=d),Object.defineProperty(g,"levelVal",{get:t}),Object.defineProperty(g,"level",{get:u,set:v});const k={transmit:m,serialize:l,asObject:i.browser.asObject,levels:s,timestamp:n(i)};g.levels=a.levels,g.level=q,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=d,g.serializers=o,g._serialize=l,g._stdErrSerialize=p,g.child=w,m&&(g._logEvent=h());function t(){return this.level==="silent"?1/0:this.levels.values[this.level]}function u(){return this._level}function v(a){if(a!=="silent"&&!this.levels.values[a])throw Error("unknown level "+a);this._level=a,c(k,g,"error","log"),c(k,g,"fatal","error"),c(k,g,"warn","error"),c(k,g,"info","log"),c(k,g,"debug","log"),c(k,g,"trace","log")}function w(a,c){if(!a)throw new Error("missing bindings for child Pino");c=c||{},l&&a.serializers&&(c.serializers=a.serializers);const e=c.serializers;if(l&&e){var d=Object.assign({},o,e),g=i.browser.serialize===!0?Object.keys(d):l;delete a.serializers,f([a],g,d,this._stdErrSerialize)}function j(c){this._childLevel=(c._childLevel|0)+1,this.error=b(c,a,"error"),this.fatal=b(c,a,"fatal"),this.warn=b(c,a,"warn"),this.info=b(c,a,"info"),this.debug=b(c,a,"debug"),this.trace=b(c,a,"trace"),d&&(this.serializers=d,this._serialize=g),m&&(this._logEvent=h([].concat(c._logEvent.bindings,a)))}return j.prototype=this,new j(this)}return g}a.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},a.stdSerializers=s,a.stdTimeFunctions=Object.assign({},{nullTime:k,epochTime:j,unixTime:t,isoTime:u});function c(f,b,a,g){const c=Object.getPrototypeOf(b);b[a]=b.levelVal>b.levels.values[a]?d:c[a]?c[a]:e[a]||e[g]||d,q(f,b,a)}function q(b,c,g){!b.transmit&&c[g]===d||(c[g]=function(d){return function(){const j=b.timestamp(),h=new Array(arguments.length),k=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var i=0;i<h.length;i++)h[i]=arguments[i];if(b.serialize&&!b.asObject&&f(h,this._serialize,this.serializers,this._stdErrSerialize),b.asObject?d.call(k,p(this,g,h,j)):d.apply(k,h),b.transmit){const d=b.transmit.level||c.level,f=a.levels.values[d],e=a.levels.values[g];if(e<f)return;o(this,{ts:j,methodLevel:g,methodValue:e,transmitLevel:d,transmitValue:a.levels.values[b.transmit.level||c.level],send:b.transmit.send,val:c.levelVal},h)}}}(c[g]))}function p(d,j,h,i){d._serialize&&f(h,d._serialize,d.serializers,d._stdErrSerialize);const b=h.slice();let c=b[0];const e={};i&&(e.time=i),e.level=a.levels.values[j];let g=(d._childLevel|0)+1;if(g<1&&(g=1),c!==null&&typeof c=="object"){for(;g--&&typeof b[0]=="object";)Object.assign(e,b.shift());c=b.length?l(b.shift(),b):void 0}else typeof c=="string"&&(c=l(b.shift(),b));return c!==void 0&&(e.msg=c),e}function f(b,c,d,e){for(const f in b)if(e&&b[f]instanceof Error)b[f]=a.stdSerializers.err(b[f]);else if(typeof b[f]=="object"&&!Array.isArray(b[f]))for(const a in b[f])c&&c.indexOf(a)>-1&&a in d&&(b[f][a]=d[a](b[f][a]))}function b(a,b,c){return function(){const d=new Array(1+arguments.length);d[0]=b;for(var e=1;e<d.length;e++)d[e]=arguments[e-1];return a[c].apply(this,d)}}function o(a,b,c){const g=b.send,i=b.ts,d=b.methodLevel,j=b.methodValue,k=b.val,e=a._logEvent.bindings;f(c,a._serialize||Object.keys(a.serializers),a.serializers,a._stdErrSerialize===void 0||a._stdErrSerialize),a._logEvent.ts=i,a._logEvent.messages=c.filter(function(a){return e.indexOf(a)===-1}),a._logEvent.level.label=d,a._logEvent.level.value=j,g(d,a._logEvent,k),a._logEvent=h(e)}function h(a){return{ts:0,messages:[],bindings:a||[],level:{label:"",value:0}}}function m(a){const b={type:a.constructor.name,msg:a.message,stack:a.stack};for(const c in a)b[c]===void 0&&(b[c]=a[c]);return b}function n(a){return typeof a.timestamp=="function"?a.timestamp:a.timestamp===!1?k:j}function g(){return{}}function i(a){return a}function d(){}function k(){return!1}function j(){return Date.now()}function t(){return Math.round(Date.now()/1e3)}function u(){return new Date(Date.now()).toISOString()}function v(){function a(a){return typeof a<"u"&&a}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return a(self)||a(window)||a(this)||{}}}return eW}bD={};function jv(){return ju||(ju=1,Object.defineProperty(bD,"__esModule",{value:!0}),bD.PINO_CUSTOM_CONTEXT_KEY=bD.PINO_LOGGER_DEFAULTS=void 0,bD.PINO_LOGGER_DEFAULTS={level:"info"},bD.PINO_CUSTOM_CONTEXT_KEY="custom_context"),bD}M={};function qi(){if(jx)return M;jx=1,Object.defineProperty(M,"__esModule",{value:!0}),M.generateChildLogger=M.formatChildLoggerContext=M.getLoggerContext=M.setBrowserLoggerContext=M.getBrowserLoggerContext=M.getDefaultLoggerOptions=void 0;const a=jv();function f(b){return Object.assign(Object.assign({},b),{level:b?.level||a.PINO_LOGGER_DEFAULTS.level})}M.getDefaultLoggerOptions=f;function b(b,c=a.PINO_CUSTOM_CONTEXT_KEY){return b[c]||""}M.getBrowserLoggerContext=b;function c(b,c,d=a.PINO_CUSTOM_CONTEXT_KEY){return b[d]=c,b}M.setBrowserLoggerContext=c;function d(c,e=a.PINO_CUSTOM_CONTEXT_KEY){let d="";return typeof c.bindings>"u"?d=b(c,e):d=c.bindings().context||"",d}M.getLoggerContext=d;function e(e,b,f=a.PINO_CUSTOM_CONTEXT_KEY){const c=d(e,f);return c.trim()?`${c}/${b}`:b}M.formatChildLoggerContext=e;function g(b,g,d=a.PINO_CUSTOM_CONTEXT_KEY){const f=e(b,g,d),h=b.child({context:f});return c(h,f,d)}return M.generateChildLogger=g,M}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.pino=void 0;const b=qx,c=b.__importDefault(qj());Object.defineProperty(a,"pino",{enumerable:!0,get:function(){return c.default}}),b.__exportStar(jv(),a),b.__exportStar(qi(),a)})(q);class qh extends aW{constructor(a){super(),this.opts=a,this.protocol="wc",this.version=2}}class qf extends aW{constructor(a,b){super(),this.core=a,this.logger=b,this.records=new Map}}class qe{constructor(a,b){this.logger=a,this.core=b}}class p$ extends aW{constructor(a,b){super(),this.relayer=a,this.logger=b}}class p_ extends aW{constructor(a){super()}}class pY{constructor(a,b,c,d){this.core=a,this.logger=b,this.name=c}}class pX extends aW{constructor(a,b){super(),this.relayer=a,this.logger=b}}class pU extends aW{constructor(a,b){super(),this.core=a,this.logger=b}}class pQ{constructor(a,b){this.projectId=a,this.logger=b}}class pP{constructor(a){this.opts=a,this.protocol="wc",this.version=2}}class pO{constructor(a){this.client=a}}const pM=a=>JSON.stringify(a,(b,a)=>typeof a=="bigint"?a.toString()+"n":a),pI=a=>{const b=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,c=a.replace(b,'$1"$2n"$3');return JSON.parse(c,(b,a)=>typeof a=="string"&&a.match(/^\d+n$/)?BigInt(a.substring(0,a.length-1)):a)};function eK(a){if(typeof a!="string")throw new Error(`Cannot safe json parse value of type ${typeof a}`);try{return pI(a)}catch{return a}}function ct(a){return typeof a=="string"?a:pM(a)||""}eH={},jP={},function(a){var b,c,d,e;Object.defineProperty(a,"__esModule",{value:!0}),b=m,c=Y,a.DIGEST_LENGTH=64,a.BLOCK_SIZE=128,d=function(){function d(){this.digestLength=a.DIGEST_LENGTH,this.blockSize=a.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return d.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},d.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},d.prototype.clean=function(){c.wipe(this._buffer),c.wipe(this._tempHi),c.wipe(this._tempLo),this.reset()},d.prototype.update=function(c,b){if(b===void 0&&(b=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var d=0;if(this._bytesHashed+=b,this._bufferLength>0){for(;this._bufferLength<a.BLOCK_SIZE&&b>0;)this._buffer[this._bufferLength++]=c[d++],b--;this._bufferLength===this.blockSize&&(f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(b>=this.blockSize&&(d=f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,d,b),b%=this.blockSize);b>0;)this._buffer[this._bufferLength++]=c[d++],b--;return this},d.prototype.finish=function(i){var d,e,g,h,c,a;if(!this._finished){d=this._bytesHashed,e=this._bufferLength,g=d/536870912|0,h=d<<3,c=d%128<112?128:256,this._buffer[e]=128;for(a=e+1;a<c-8;a++)this._buffer[a]=0;b.writeUint32BE(g,this._buffer,c-8),b.writeUint32BE(h,this._buffer,c-4),f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,c),this._finished=!0}for(a=0;a<this.digestLength/8;a++)b.writeUint32BE(this._stateHi[a],i,a*8),b.writeUint32BE(this._stateLo[a],i,a*8+4);return this},d.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},d.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},d.prototype.restoreState=function(a){return this._stateHi.set(a.stateHi),this._stateLo.set(a.stateLo),this._bufferLength=a.bufferLength,a.buffer&&this._buffer.set(a.buffer),this._bytesHashed=a.bytesHashed,this._finished=!1,this},d.prototype.cleanSavedState=function(a){c.wipe(a.stateHi),c.wipe(a.stateLo),a.buffer&&c.wipe(a.buffer),a.bufferLength=0,a.bytesHashed=0},d}(),a.SHA512=d,e=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function f(s,t,i,j,J,H,K){for(var q=i[0],x=i[1],v=i[2],E=i[3],r=i[4],D=i[5],C=i[6],B=i[7],o=j[0],u=j[1],w=j[2],F=j[3],p=j[4],y=j[5],z=j[6],A=j[7],a,c,k,m,g,d,f,h,n,l,U,S,Q,G,N,Y,P,L,R,O,T,I,V,W,X,M;K>=128;){for(n=0;n<16;n++)l=8*n+H,s[n]=b.readUint32BE(J,l),t[n]=b.readUint32BE(J,l+4);for(n=0;n<80;n++)if(U=q,S=x,Q=v,G=E,N=r,Y=D,P=C,L=B,R=o,O=u,T=w,I=F,V=p,W=y,X=z,M=A,a=B,c=A,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=(r>>>14|p<<32-14)^(r>>>18|p<<32-18)^(p>>>41-32|r<<32-(41-32)),c=(p>>>14|r<<32-14)^(p>>>18|r<<32-18)^(r>>>41-32|p<<32-(41-32)),g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,a=r&D^~r&C,c=p&y^~p&z,g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,a=e[n*2],c=e[n*2+1],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,a=s[n%16],c=t[n%16],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,k=f&65535|h<<16,m=g&65535|d<<16,a=k,c=m,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=(q>>>28|o<<32-28)^(o>>>34-32|q<<32-(34-32))^(o>>>39-32|q<<32-(39-32)),c=(o>>>28|q<<32-28)^(q>>>34-32|o<<32-(34-32))^(q>>>39-32|o<<32-(39-32)),g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,a=q&x^q&v^x&v,c=o&u^o&w^u&w,g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,L=f&65535|h<<16,M=g&65535|d<<16,a=G,c=I,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=k,c=m,g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,G=f&65535|h<<16,I=g&65535|d<<16,x=U,v=S,E=Q,r=G,D=N,C=Y,B=P,q=L,u=R,w=O,F=T,p=I,y=V,z=W,A=X,o=M,n%16===15)for(l=0;l<16;l++)a=s[l],c=t[l],g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=s[(l+9)%16],c=t[(l+9)%16],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,k=s[(l+1)%16],m=t[(l+1)%16],a=(k>>>1|m<<32-1)^(k>>>8|m<<32-8)^k>>>7,c=(m>>>1|k<<32-1)^(m>>>8|k<<32-8)^(m>>>7|k<<32-7),g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,k=s[(l+14)%16],m=t[(l+14)%16],a=(k>>>19|m<<32-19)^(m>>>61-32|k<<32-(61-32))^k>>>6,c=(m>>>19|k<<32-19)^(k>>>61-32|m<<32-(61-32))^(m>>>6|k<<32-6),g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,s[l]=f&65535|h<<16,t[l]=g&65535|d<<16;a=q,c=o,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=i[0],c=j[0],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,i[0]=q=f&65535|h<<16,j[0]=o=g&65535|d<<16,a=x,c=u,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=i[1],c=j[1],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,i[1]=x=f&65535|h<<16,j[1]=u=g&65535|d<<16,a=v,c=w,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=i[2],c=j[2],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,i[2]=v=f&65535|h<<16,j[2]=w=g&65535|d<<16,a=E,c=F,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=i[3],c=j[3],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,i[3]=E=f&65535|h<<16,j[3]=F=g&65535|d<<16,a=r,c=p,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=i[4],c=j[4],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,i[4]=r=f&65535|h<<16,j[4]=p=g&65535|d<<16,a=D,c=y,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=i[5],c=j[5],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,i[5]=D=f&65535|h<<16,j[5]=y=g&65535|d<<16,a=C,c=z,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=i[6],c=j[6],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,i[6]=C=f&65535|h<<16,j[6]=z=g&65535|d<<16,a=B,c=A,g=c&65535,d=c>>>16,f=a&65535,h=a>>>16,a=i[7],c=j[7],g+=c&65535,d+=c>>>16,f+=a&65535,h+=a>>>16,d+=g>>>16,f+=d>>>16,h+=f>>>16,i[7]=B=f&65535|h<<16,j[7]=A=g&65535|d<<16,H+=128,K-=128}return H}function g(b){var a=new d,c;return a.update(b),c=a.digest(),a.clean(),c}a.hash=g}(jP),function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.convertSecretKeyToX25519=b.convertPublicKeyToX25519=b.verify=b.sign=b.extractPublicKeyFromSecretKey=b.generateKeyPair=b.generateKeyPairFromSeed=b.SEED_LENGTH=b.SECRET_KEY_LENGTH=b.PUBLIC_KEY_LENGTH=b.SIGNATURE_LENGTH=void 0;const N=bN,i=jP,y=Y;b.SIGNATURE_LENGTH=64,b.PUBLIC_KEY_LENGTH=32,b.SECRET_KEY_LENGTH=64,b.SEED_LENGTH=32;function a(a){const b=new Float64Array(16);if(a)for(let c=0;c<a.length;c++)b[c]=a[c];return b}const J=new Uint8Array(32);J[0]=9;const l=a(),h=a([1]),L=a([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),E=a([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),C=a([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),w=a([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),F=a([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(a,b){for(let c=0;c<16;c++)a[c]=b[c]|0}function o(b){let a=1;for(let c=0;c<16;c++){let d=b[c]+a+65535;a=Math.floor(d/65536),b[c]=d-a*65536}b[0]+=a-1+37*(a-1)}function v(a,b,c){const d=~(c-1);for(let c=0;c<16;c++){const e=d&(a[c]^b[c]);a[c]^=e,b[c]^=e}}function j(d,e){const c=a(),b=a();for(let a=0;a<16;a++)b[a]=e[a];o(b),o(b),o(b);for(let a=0;a<2;a++){c[0]=b[0]-65517;for(let a=1;a<15;a++)c[a]=b[a]-65535-(c[a-1]>>16&1),c[a-1]&=65535;c[15]=b[15]-32767-(c[14]>>16&1);const d=c[15]>>16&1;c[14]&=65535,v(b,c,1-d)}for(let a=0;a<16;a++)d[2*a]=b[a]&255,d[2*a+1]=b[a]>>8}function r(b,c){let a=0;for(let d=0;d<32;d++)a|=b[d]^c[d];return(1&a-1>>>8)-1}function s(c,d){const a=new Uint8Array(32),b=new Uint8Array(32);return j(a,c),j(b,d),r(a,b)}function t(b){const a=new Uint8Array(32);return j(a,b),a[0]&1}function K(a,b){for(let c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function e(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]+c[d]}function g(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]-c[d]}function c(r,u,t){let a,b,Q=0,S=0,R=0,N=0,L=0,K=0,H=0,G=0,E=0,o=0,h=0,g=0,f=0,e=0,d=0,c=0,v=0,D=0,F=0,I=0,J=0,M=0,O=0,P=0,T=0,U=0,V=0,W=0,X=0,Y=0,Z=0,i=t[0],C=t[1],n=t[2],w=t[3],x=t[4],B=t[5],z=t[6],y=t[7],m=t[8],l=t[9],k=t[10],j=t[11],p=t[12],q=t[13],s=t[14],A=t[15];a=u[0],Q+=a*i,S+=a*C,R+=a*n,N+=a*w,L+=a*x,K+=a*B,H+=a*z,G+=a*y,E+=a*m,o+=a*l,h+=a*k,g+=a*j,f+=a*p,e+=a*q,d+=a*s,c+=a*A,a=u[1],S+=a*i,R+=a*C,N+=a*n,L+=a*w,K+=a*x,H+=a*B,G+=a*z,E+=a*y,o+=a*m,h+=a*l,g+=a*k,f+=a*j,e+=a*p,d+=a*q,c+=a*s,v+=a*A,a=u[2],R+=a*i,N+=a*C,L+=a*n,K+=a*w,H+=a*x,G+=a*B,E+=a*z,o+=a*y,h+=a*m,g+=a*l,f+=a*k,e+=a*j,d+=a*p,c+=a*q,v+=a*s,D+=a*A,a=u[3],N+=a*i,L+=a*C,K+=a*n,H+=a*w,G+=a*x,E+=a*B,o+=a*z,h+=a*y,g+=a*m,f+=a*l,e+=a*k,d+=a*j,c+=a*p,v+=a*q,D+=a*s,F+=a*A,a=u[4],L+=a*i,K+=a*C,H+=a*n,G+=a*w,E+=a*x,o+=a*B,h+=a*z,g+=a*y,f+=a*m,e+=a*l,d+=a*k,c+=a*j,v+=a*p,D+=a*q,F+=a*s,I+=a*A,a=u[5],K+=a*i,H+=a*C,G+=a*n,E+=a*w,o+=a*x,h+=a*B,g+=a*z,f+=a*y,e+=a*m,d+=a*l,c+=a*k,v+=a*j,D+=a*p,F+=a*q,I+=a*s,J+=a*A,a=u[6],H+=a*i,G+=a*C,E+=a*n,o+=a*w,h+=a*x,g+=a*B,f+=a*z,e+=a*y,d+=a*m,c+=a*l,v+=a*k,D+=a*j,F+=a*p,I+=a*q,J+=a*s,M+=a*A,a=u[7],G+=a*i,E+=a*C,o+=a*n,h+=a*w,g+=a*x,f+=a*B,e+=a*z,d+=a*y,c+=a*m,v+=a*l,D+=a*k,F+=a*j,I+=a*p,J+=a*q,M+=a*s,O+=a*A,a=u[8],E+=a*i,o+=a*C,h+=a*n,g+=a*w,f+=a*x,e+=a*B,d+=a*z,c+=a*y,v+=a*m,D+=a*l,F+=a*k,I+=a*j,J+=a*p,M+=a*q,O+=a*s,P+=a*A,a=u[9],o+=a*i,h+=a*C,g+=a*n,f+=a*w,e+=a*x,d+=a*B,c+=a*z,v+=a*y,D+=a*m,F+=a*l,I+=a*k,J+=a*j,M+=a*p,O+=a*q,P+=a*s,T+=a*A,a=u[10],h+=a*i,g+=a*C,f+=a*n,e+=a*w,d+=a*x,c+=a*B,v+=a*z,D+=a*y,F+=a*m,I+=a*l,J+=a*k,M+=a*j,O+=a*p,P+=a*q,T+=a*s,U+=a*A,a=u[11],g+=a*i,f+=a*C,e+=a*n,d+=a*w,c+=a*x,v+=a*B,D+=a*z,F+=a*y,I+=a*m,J+=a*l,M+=a*k,O+=a*j,P+=a*p,T+=a*q,U+=a*s,V+=a*A,a=u[12],f+=a*i,e+=a*C,d+=a*n,c+=a*w,v+=a*x,D+=a*B,F+=a*z,I+=a*y,J+=a*m,M+=a*l,O+=a*k,P+=a*j,T+=a*p,U+=a*q,V+=a*s,W+=a*A,a=u[13],e+=a*i,d+=a*C,c+=a*n,v+=a*w,D+=a*x,F+=a*B,I+=a*z,J+=a*y,M+=a*m,O+=a*l,P+=a*k,T+=a*j,U+=a*p,V+=a*q,W+=a*s,X+=a*A,a=u[14],d+=a*i,c+=a*C,v+=a*n,D+=a*w,F+=a*x,I+=a*B,J+=a*z,M+=a*y,O+=a*m,P+=a*l,T+=a*k,U+=a*j,V+=a*p,W+=a*q,X+=a*s,Y+=a*A,a=u[15],c+=a*i,v+=a*C,D+=a*n,F+=a*w,I+=a*x,J+=a*B,M+=a*z,O+=a*y,P+=a*m,T+=a*l,U+=a*k,V+=a*j,W+=a*p,X+=a*q,Y+=a*s,Z+=a*A,Q+=38*v,S+=38*D,R+=38*F,N+=38*I,L+=38*J,K+=38*M,H+=38*O,G+=38*P,E+=38*T,o+=38*U,h+=38*V,g+=38*W,f+=38*X,e+=38*Y,d+=38*Z,b=1,a=Q+b+65535,b=Math.floor(a/65536),Q=a-b*65536,a=S+b+65535,b=Math.floor(a/65536),S=a-b*65536,a=R+b+65535,b=Math.floor(a/65536),R=a-b*65536,a=N+b+65535,b=Math.floor(a/65536),N=a-b*65536,a=L+b+65535,b=Math.floor(a/65536),L=a-b*65536,a=K+b+65535,b=Math.floor(a/65536),K=a-b*65536,a=H+b+65535,b=Math.floor(a/65536),H=a-b*65536,a=G+b+65535,b=Math.floor(a/65536),G=a-b*65536,a=E+b+65535,b=Math.floor(a/65536),E=a-b*65536,a=o+b+65535,b=Math.floor(a/65536),o=a-b*65536,a=h+b+65535,b=Math.floor(a/65536),h=a-b*65536,a=g+b+65535,b=Math.floor(a/65536),g=a-b*65536,a=f+b+65535,b=Math.floor(a/65536),f=a-b*65536,a=e+b+65535,b=Math.floor(a/65536),e=a-b*65536,a=d+b+65535,b=Math.floor(a/65536),d=a-b*65536,a=c+b+65535,b=Math.floor(a/65536),c=a-b*65536,Q+=b-1+37*(b-1),b=1,a=Q+b+65535,b=Math.floor(a/65536),Q=a-b*65536,a=S+b+65535,b=Math.floor(a/65536),S=a-b*65536,a=R+b+65535,b=Math.floor(a/65536),R=a-b*65536,a=N+b+65535,b=Math.floor(a/65536),N=a-b*65536,a=L+b+65535,b=Math.floor(a/65536),L=a-b*65536,a=K+b+65535,b=Math.floor(a/65536),K=a-b*65536,a=H+b+65535,b=Math.floor(a/65536),H=a-b*65536,a=G+b+65535,b=Math.floor(a/65536),G=a-b*65536,a=E+b+65535,b=Math.floor(a/65536),E=a-b*65536,a=o+b+65535,b=Math.floor(a/65536),o=a-b*65536,a=h+b+65535,b=Math.floor(a/65536),h=a-b*65536,a=g+b+65535,b=Math.floor(a/65536),g=a-b*65536,a=f+b+65535,b=Math.floor(a/65536),f=a-b*65536,a=e+b+65535,b=Math.floor(a/65536),e=a-b*65536,a=d+b+65535,b=Math.floor(a/65536),d=a-b*65536,a=c+b+65535,b=Math.floor(a/65536),c=a-b*65536,Q+=b-1+37*(b-1),r[0]=Q,r[1]=S,r[2]=R,r[3]=N,r[4]=L,r[5]=K,r[6]=H,r[7]=G,r[8]=E,r[9]=o,r[10]=h,r[11]=g,r[12]=f,r[13]=e,r[14]=d,r[15]=c}function f(b,a){c(b,a,a)}function z(g,e){const d=a();let b;for(b=0;b<16;b++)d[b]=e[b];for(b=253;b>=0;b--)f(d,d),b!==2&&b!==4&&c(d,d,e);for(b=0;b<16;b++)g[b]=d[b]}function Q(g,e){const d=a();let b;for(b=0;b<16;b++)d[b]=e[b];for(b=250;b>=0;b--)f(d,d),b!==1&&c(d,d,e);for(b=0;b<16;b++)g[b]=d[b]}function q(b,d){const h=a(),i=a(),j=a(),f=a(),l=a(),m=a(),n=a(),o=a(),k=a();g(h,b[1],b[0]),g(k,d[1],d[0]),c(h,h,k),e(i,b[0],b[1]),e(k,d[0],d[1]),c(i,i,k),c(j,b[3],d[3]),c(j,j,E),c(f,b[2],d[2]),e(f,f,f),g(l,i,h),g(m,f,j),e(n,f,j),e(o,i,h),c(b[0],l,m),c(b[1],o,n),c(b[2],n,m),c(b[3],l,o)}function B(a,b,c){for(let d=0;d<4;d++)v(a[d],b[d],c)}function n(e,b){const f=a(),g=a(),d=a();z(d,b[2]),c(f,b[0],d),c(g,b[1],d),j(e,g),e[31]^=t(f)<<7}function u(a,b,c){d(a[0],l),d(a[1],h),d(a[2],h),d(a[3],l);for(let d=255;d>=0;--d){const e=c[d/8|0]>>(d&7)&1;B(a,b,e),q(b,a),q(a,a),B(a,b,e)}}function m(e,f){const b=[a(),a(),a(),a()];d(b[0],C),d(b[1],w),d(b[2],h),c(b[3],C,w),u(e,b,f)}function D(d){if(d.length!==b.SEED_LENGTH)throw new Error(`ed25519: seed must be ${b.SEED_LENGTH} bytes`);const c=(0,i.hash)(d);c[0]&=248,c[31]&=127,c[31]|=64;const e=new Uint8Array(32),g=[a(),a(),a(),a()];m(g,c),n(e,g);const f=new Uint8Array(64);return f.set(d),f.set(e,32),{publicKey:e,secretKey:f}}b.generateKeyPairFromSeed=D;function H(b){const a=(0,N.randomBytes)(32,b),c=D(a);return(0,y.wipe)(a),c}b.generateKeyPair=H;function I(a){if(a.length!==b.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${b.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(a.subarray(32))}b.extractPublicKeyFromSecretKey=I;const k=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function x(f,c){let d,b,a,e;for(b=63;b>=32;--b){for(d=0,a=b-32,e=b-12;a<e;++a)c[a]+=d-16*c[b]*k[a-(b-32)],d=Math.floor((c[a]+128)/256),c[a]-=d*256;c[a]+=d,c[b]=0}for(d=0,a=0;a<32;a++)c[a]+=d-(c[31]>>4)*k[a],d=c[a]>>8,c[a]&=255;for(a=0;a<32;a++)c[a]-=d*k[a];for(b=0;b<32;b++)c[b+1]+=c[b]>>8,f[b]=c[b]&255}function p(a){const b=new Float64Array(64);for(let c=0;c<64;c++)b[c]=a[c];for(let b=0;b<64;b++)a[b]=0;x(a,b)}function M(h,j){const f=new Float64Array(64),g=[a(),a(),a(),a()],d=(0,i.hash)(h.subarray(0,32));d[0]&=248,d[31]&=127,d[31]|=64;const c=new Uint8Array(64);c.set(d.subarray(32),32);const b=new i.SHA512;b.update(c.subarray(32)),b.update(j);const e=b.digest();b.clean(),p(e),m(g,e),n(c,g),b.reset(),b.update(c.subarray(0,32)),b.update(h.subarray(32)),b.update(j);const k=b.digest();p(k);for(let a=0;a<32;a++)f[a]=e[a];for(let a=0;a<32;a++)for(let b=0;b<32;b++)f[a+b]+=k[a]*d[b];return x(c.subarray(32),f),c}b.sign=M;function A(b,o){const i=a(),k=a(),m=a(),j=a(),n=a(),p=a(),q=a();return d(b[2],h),K(b[1],o),f(m,b[1]),c(j,m,L),g(m,m,b[2]),e(j,b[2],j),f(n,j),f(p,n),c(q,p,n),c(i,q,m),c(i,i,j),Q(i,i),c(i,i,m),c(i,i,j),c(i,i,j),c(b[0],i,j),f(k,b[0]),c(k,k,j),s(k,m)&&c(b[0],b[0],F),f(k,b[0]),c(k,k,j),s(k,m)?-1:(t(b[0])===o[31]>>7&&g(b[0],l,b[0]),c(b[3],b[0],b[1]),0)}function O(j,k,d){const h=new Uint8Array(32),f=[a(),a(),a(),a()],e=[a(),a(),a(),a()];if(d.length!==b.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${b.SIGNATURE_LENGTH} bytes`);if(A(e,j))return!1;const c=new i.SHA512;c.update(d.subarray(0,32)),c.update(j),c.update(k);const g=c.digest();return p(g),u(f,e,g),m(e,d.subarray(32)),q(f,e),n(h,f),!r(d,h)}b.verify=O;function P(l){let f=[a(),a(),a(),a()];if(A(f,l))throw new Error("Ed25519: invalid public key");let b=a(),d=a(),i=f[1];e(b,h,i),g(d,h,i),z(d,d),c(b,b,d);let k=new Uint8Array(32);return j(k,b),k}b.convertPublicKeyToX25519=P;function G(b){const a=(0,i.hash)(b.subarray(0,32));a[0]&=248,a[31]&=127,a[31]|=64;const c=new Uint8Array(a.subarray(0,32));return(0,y.wipe)(a),c}b.convertSecretKeyToX25519=G}(eH);const pH="EdDSA",pG="JWT",jS=".",jT="base64url",pF="utf8",pE="utf8",pD=":",pC="did",px="key",jZ="base58btc",pw="z",pv="K36",ps=32;function dL(a){return Q(U(ct(a),pF),jT)}function kc(a){const b=U(pv,jZ),c=pw+Q(fK([b,a]),jZ);return[pC,px,c].join(pD)}function pm(a){return Q(a,jT)}function pl(a){return U([dL(a.header),dL(a.payload)].join(jS),pE)}function pj(a){return[dL(a.header),dL(a.payload),pm(a.signature)].join(jS)}function kg(a=bN.randomBytes(ps)){return eH.generateKeyPairFromSeed(a)}async function ph(e,f,i,b,c=k.fromMiliseconds(Date.now())){const d={alg:pH,typ:pG},g=kc(b.publicKey),h=c+i,a={iss:g,sub:e,aud:f,iat:c,exp:h},j=pl({header:d,payload:a}),l=eH.sign(b.secretKey,j);return pj({header:d,payload:a,signature:l})}const pf="PARSE_ERROR",pe="INVALID_REQUEST",pd="METHOD_NOT_FOUND",lU="INVALID_PARAMS",km="INTERNAL_ERROR",fr="SERVER_ERROR",pc=[-32700,-32600,-32601,-32602,-32603],cB={[pf]:{code:-32700,message:"Parse error"},[pe]:{code:-32600,message:"Invalid Request"},[pd]:{code:-32601,message:"Method not found"},[lU]:{code:-32602,message:"Invalid params"},[km]:{code:-32603,message:"Internal error"},[fr]:{code:-32e3,message:"Server error"}},kq=fr;function pb(a){return pc.includes(a)}function ks(a){return Object.keys(cB).includes(a)?cB[a]:cB[kq]}function o$(a){const b=Object.values(cB).find(b=>b.code===a);return b||cB[kq]}function ku(a,b,c){return a.message.includes("getaddrinfo ENOTFOUND")||a.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${c} RPC url at ${b}`):a}kv={},es=function(a,b){return es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])},es(a,b)};function o_(b,a){es(b,a);function c(){this.constructor=b}b.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}eq=function(){return eq=Object.assign||function(d){for(var a,b=1,e=arguments.length,c;b<e;b++){a=arguments[b];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])}return d},eq.apply(this,arguments)};function oZ(b,e){var d={},a,c;for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&e.indexOf(a)<0&&(d[a]=b[a]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}function oW(g,b,c,e){var f=arguments.length,a=f<3?b:e===null?e=Object.getOwnPropertyDescriptor(b,c):e,d,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(g,b,c,e);else for(h=g.length-1;h>=0;h--)(d=g[h])&&(a=(f<3?d(a):f>3?d(b,c,a):d(b,c))||a);return f>3&&a&&Object.defineProperty(b,c,a),a}function oQ(a,b){return function(c,d){b(c,d,a)}}function oP(a,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,b)}function oO(c,d,a,b){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new(a||(a=Promise))(function(g,f){function h(c){try{a(b.next(c))}catch(a){f(a)}}function i(c){try{a(b.throw(c))}catch(a){f(a)}}function a(a){a.done?g(a.value):e(a.value).then(h,i)}a((b=b.apply(c,d||[])).next())})}function oL(g,h){var b={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},f,c,a,d;return d={next:e(0),throw:e(1),return:e(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function e(a){return function(b){return i([a,b])}}function i(d){if(f)throw new TypeError("Generator is already executing.");for(;b;)try{if(f=1,c&&(a=d[0]&2?c.return:d[0]?c.throw||((a=c.return)&&a.call(c),0):c.next)&&!(a=a.call(c,d[1])).done)return a;switch(c=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return b.label++,{value:d[1],done:!1};case 5:b.label++,c=d[1],d=[0];continue;case 7:d=b.ops.pop(),b.trys.pop();continue;default:if(a=b.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){b=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){b.label=d[1];break}if(d[0]===6&&b.label<a[1]){b.label=a[1],a=d;break}if(a&&b.label<a[2]){b.label=a[2],b.ops.push(d);break}a[2]&&b.ops.pop(),b.trys.pop();continue}d=h.call(g,b)}catch(a){d=[6,a],c=0}finally{f=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function oH(c,d,b,a){a===void 0&&(a=b),c[a]=d[b]}function oE(b,c){for(var a in b)a!=="default"&&!c.hasOwnProperty(a)&&(c[a]=b[a])}function eo(a){var b=typeof Symbol=="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function kI(c,f){var a=typeof Symbol=="function"&&c[Symbol.iterator],d,b,g,e;if(!a)return c;d=a.call(c),g=[];try{for(;(f===void 0||f-- >0)&&!(b=d.next()).done;)g.push(b.value)}catch(a){e={error:a}}finally{try{b&&!b.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}return g}function oB(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(kI(arguments[b]));return a}function oA(){for(var g=0,a=0,c=arguments.length,d,e,f,b,h;a<c;a++)g+=arguments[a].length;for(d=Array(g),e=0,a=0;a<c;a++)for(f=arguments[a],b=0,h=f.length;b<h;b++,e++)d[e]=f[b];return d}function cC(a){return this instanceof cC?(this.v=a,this):new cC(a)}function oz(h,i,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=g.apply(h,i||[]),c,a=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(d){e[d]&&(c[d]=function(c){return new Promise(function(e,f){a.push([d,c,e,f])>1||b(d,c)})})}function b(b,c){try{j(e[b](c))}catch(b){f(a[0][3],b)}}function j(b){b.value instanceof cC?Promise.resolve(b.value.v).then(k,l):f(a[0][2],b)}function k(a){b("next",a)}function l(a){b("throw",a)}function f(c,d){c(d),a.shift(),a.length&&b(a[0][0],a[0][1])}}function ow(c){var a,d;return a={},b("next"),b("throw",function(a){throw a}),b("return"),a[Symbol.iterator]=function(){return this},a;function b(b,e){a[b]=c[b]?function(a){return(d=!d)?{value:cC(c[b](a)),done:b==="return"}:e?e(a):a}:e}}function on(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a[Symbol.asyncIterator],b;return d?d.call(a):(a=typeof eo=="function"?eo(a):a[Symbol.iterator](),b={},c("next"),c("throw"),c("return"),b[Symbol.asyncIterator]=function(){return this},b);function c(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){b=a[c](b),e(d,f,b.done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function om(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function ok(a){var b,c;if(a&&a.__esModule)return a;if(b={},a!=null)for(c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function og(a){return a&&a.__esModule?a:{default:a}}function oe(a,b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)}function n_(a,b,c){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");return b.set(a,c),c}nX=Object.freeze({__proto__:null,__extends:o_,get __assign(){return eq},__rest:oZ,__decorate:oW,__param:oQ,__metadata:oP,__awaiter:oO,__generator:oL,__createBinding:oH,__exportStar:oE,__values:eo,__read:kI,__spread:oB,__spreadArrays:oA,__await:cC,__asyncGenerator:oz,__asyncDelegator:ow,__asyncValues:on,__makeTemplateObject:om,__importStar:ok,__importDefault:og,__classPrivateFieldGet:oe,__classPrivateFieldSet:n_}),nV=aT(nX),aw={};function nT(){if(kX)return aw;kX=1,Object.defineProperty(aw,"__esModule",{value:!0}),aw.isBrowserCryptoAvailable=aw.getSubtleCrypto=aw.getBrowerCrypto=void 0;function a(){return am?.crypto||am?.msCrypto||{}}aw.getBrowerCrypto=a;function b(){const b=a();return b.subtle||b.webkitSubtle}aw.getSubtleCrypto=b;function c(){return!!a()&&!!b()}return aw.isBrowserCryptoAvailable=c,aw}av={};function nR(){if(k_)return av;k_=1,Object.defineProperty(av,"__esModule",{value:!0}),av.isBrowser=av.isNode=av.isReactNative=void 0;function a(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}av.isReactNative=a;function b(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}av.isNode=b;function c(){return!a()&&!b()}return av.isBrowser=c,av}(function(a){Object.defineProperty(a,"__esModule",{value:!0});const b=nV;b.__exportStar(nT(),a),b.__exportStar(nR(),a)})(kv);function la(a=3){const b=Date.now()*Math.pow(10,a),c=Math.floor(Math.random()*Math.pow(10,a));return b+c}function lb(a=6){return BigInt(la(a))}function dT(a,b,c){return{id:c||la(),jsonrpc:"2.0",method:a,params:b}}function ei(a,b){return{id:a,jsonrpc:"2.0",result:b}}function dU(a,b,c){return{id:a,jsonrpc:"2.0",error:nP(b,c)}}function nP(a,b){return typeof a>"u"?ks(km):(typeof a=="string"&&(a=Object.assign(Object.assign({},ks(fr)),{message:a})),typeof b<"u"&&(a.data=b),pb(a.code)&&(a=o$(a.code)),a)}class nH{}class nD extends nH{constructor(){super()}}class nC extends nD{constructor(a){super()}}const nA="^https?:",nx="^wss?:";function nw(b){const a=b.match(new RegExp(/^\w+:/,"gi"));if(!(!a||!a.length))return a[0]}function lm(b,c){const a=nw(b);return!(typeof a>"u")&&new RegExp(c).test(a)}function ln(a){return lm(a,nA)}function lo(a){return lm(a,nx)}function nv(a){return new RegExp("wss?://localhost(:d{2,5})?").test(a)}function lq(a){return typeof a=="object"&&"id"in a&&"jsonrpc"in a&&a.jsonrpc==="2.0"}function ef(a){return lq(a)&&"method"in a}function dW(a){return lq(a)&&(ar(a)||ae(a))}function ar(a){return"result"in a}function ae(a){return"error"in a}class aI extends nC{constructor(a){super(a),this.events=new I.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(a),this.connection.connected&&this.registerEventListeners()}async connect(a=this.connection){await this.open(a)}async disconnect(){await this.close()}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async request(a,b){return this.requestStrict(dT(a.method,a.params||[],a.id||lb().toString()),b)}async requestStrict(a,b){return new Promise(async(d,c)=>{if(!this.connection.connected)try{await this.open()}catch(a){c(a)}this.events.on(`${a.id}`,a=>{ae(a)?c(a.error):d(a.result)});try{await this.connection.send(a,b)}catch(a){c(a)}})}setConnection(a=this.connection){return a}onPayload(a){this.events.emit("payload",a),dW(a)?this.events.emit(`${a.id}`,a):this.events.emit("message",{type:a.method,data:a.params})}onClose(a){a&&a.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${a.code} ${a.reason?`(${a.reason})`:""}`)),this.events.emit("disconnect")}async open(a=this.connection){this.connection===a&&this.connection.connected||(this.connection.connected&&this.close(),typeof a=="string"&&(await this.connection.open(a),a=this.connection),this.connection=this.setConnection(a),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",a=>this.onPayload(a)),this.connection.on("close",a=>this.onClose(a)),this.connection.on("error",a=>this.events.emit("error",a)),this.connection.on("register_error",a=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const lw=10,nt=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:require("ws"),ns=()=>typeof window<"u",nq=nt();class no{constructor(a){if(this.url=a,this.events=new I.exports.EventEmitter,this.registering=!1,!lo(a))throw new Error(`Provided URL is not compatible with WebSocket connection: ${a}`);this.url=a}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async open(a=this.url){await this.register(a)}async close(){return new Promise((a,b)=>{if(typeof this.socket>"u"){b(new Error("Connection already closed"));return}this.socket.onclose=b=>{this.onClose(b),a()},this.socket.close()})}async send(a,b){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ct(a))}catch(b){this.onError(a.id,b)}}register(a=this.url){if(!lo(a))throw new Error(`Provided URL is not compatible with WebSocket connection: ${a}`);if(this.registering){const a=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=a||this.events.listenerCount("open")>=a)&&this.events.setMaxListeners(a+1),new Promise((b,a)=>{this.events.once("register_error",b=>{this.resetMaxListeners(),a(b)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return a(new Error("WebSocket connection is missing or invalid"));b(this.socket)})})}return this.url=a,this.registering=!0,new Promise((d,c)=>{const e=kv.isReactNative()?void 0:{rejectUnauthorized:!nv(a)},b=new nq(a,[],e);ns()?b.onerror=a=>{const b=a;c(this.emitError(b.error))}:b.on("error",a=>{c(this.emitError(a))}),b.onopen=()=>{this.onOpen(b),d(b)}})}onOpen(a){a.onmessage=a=>this.onPayload(a),a.onclose=a=>this.onClose(a),this.socket=a,this.registering=!1,this.events.emit("open")}onClose(a){this.socket=void 0,this.registering=!1,this.events.emit("close",a)}onPayload(a){if(typeof a.data>"u")return;const b=typeof a.data=="string"?eK(a.data):a.data;this.events.emit("payload",b)}onError(b,c){const a=this.parseError(c),d=a.message||a.toString(),e=dU(b,d);this.events.emit("payload",e)}parseError(a,b=this.url){return ku(a,b,"WS")}resetMaxListeners(){this.events.getMaxListeners()>lw&&this.events.setMaxListeners(lw)}emitError(b){const a=this.parseError(new Error(b?.message||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",a),a}}ed={exports:{}},function(t,M){var bW=200,K="__lodash_hash_undefined__",v=1,aq=2,an=9007199254740991,y="[object Arguments]",F="[object Array]",bV="[object AsyncFunction]",ak="[object Boolean]",aj="[object Date]",ah="[object Error]",ag="[object Function]",bU="[object GeneratorFunction]",u="[object Map]",ae="[object Number]",bT="[object Null]",l="[object Object]",av="[object Promise]",bS="[object Proxy]",$="[object RegExp]",w="[object Set]",_="[object String]",bQ="[object Symbol]",bO="[object Undefined]",C="[object WeakMap]",Z="[object ArrayBuffer]",A="[object DataView]",bM="[object Float32Array]",bL="[object Float64Array]",bF="[object Int8Array]",bC="[object Int16Array]",bB="[object Int32Array]",bA="[object Uint8Array]",bx="[object Uint8ClampedArray]",bs="[object Uint16Array]",br="[object Uint32Array]",bq=/[\\^$.*+?()[\]{}|]/g,bo=/^\[object .+?Constructor\]$/,bh=/^(?:0|[1-9]\d*)$/,a={},Q,be,d,T,U,V,D,X,Y,aB,ay,q,E,al,b,ao,ap,ax,ar,r,au,ac,aw,h,ai,az,aA,H,o,N,L,J,p,aH,aI,aJ,aK,aL,aa,I,bE,f,bN,z,G,at;a[bM]=a[bL]=a[bF]=a[bC]=a[bB]=a[bA]=a[bx]=a[bs]=a[br]=!0,a[y]=a[F]=a[Z]=a[ak]=a[A]=a[aj]=a[ah]=a[ag]=a[u]=a[ae]=a[l]=a[$]=a[w]=a[_]=a[C]=!1,Q=typeof am=="object"&&am&&am.Object===Object&&am,be=typeof self=="object"&&self&&self.Object===Object&&self,d=Q||be||Function("return this")(),T=M&&!M.nodeType&&M,U=T&&!0&&t&&!t.nodeType&&t,V=U&&U.exports===T,D=V&&Q.process,X=function(){try{return D&&D.binding&&D.binding("util")}catch{}}(),Y=X&&X.isTypedArray;function a_(a,e){for(var b=-1,f=a==null?0:a.length,g=0,c=[],d;++b<f;)d=a[b],e(d,b,a)&&(c[g++]=d);return c}function aO(a,c){for(var b=-1,d=c.length,e=a.length;++b<d;)a[e+b]=c[b];return a}function aN(a,c){for(var b=-1,d=a==null?0:a.length;++b<d;)if(c(a[b],b,a))return!0;return!1}function aM(b,d){for(var a=-1,c=Array(b);++a<b;)c[a]=d(a);return c}function aG(a){return function(b){return a(b)}}function aF(a,b){return a.has(b)}function aE(a,b){return a?.[b]}function aD(a){var c=-1,b=Array(a.size);return a.forEach(function(a,d){b[++c]=[d,a]}),b}function aC(a,b){return function(c){return a(b(c))}}function aU(a){var c=-1,b=Array(a.size);return a.forEach(function(a){b[++c]=a}),b}aB=Array.prototype,ay=Function.prototype,q=Object.prototype,E=d["__core-js_shared__"],al=ay.toString,b=q.hasOwnProperty,ao=function(){var a=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ap=q.toString,ax=RegExp("^"+al.call(b).replace(bq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ar=V?d.Buffer:void 0,r=d.Symbol,au=d.Uint8Array,ac=q.propertyIsEnumerable,aw=aB.splice,h=r?r.toStringTag:void 0,ai=Object.getOwnPropertySymbols,az=ar?ar.isBuffer:void 0,aA=aC(Object.keys,Object),H=k(d,"DataView"),o=k(d,"Map"),N=k(d,"Promise"),L=k(d,"Set"),J=k(d,"WeakMap"),p=k(Object,"create"),aH=i(H),aI=i(o),aJ=i(N),aK=i(L),aL=i(J),aa=r?r.prototype:void 0,I=aa?aa.valueOf:void 0;function g(a){var b=-1,d=a==null?0:a.length,c;for(this.clear();++b<d;)c=a[b],this.set(c[0],c[1])}function aP(){this.__data__=p?p(null):{},this.size=0}function aQ(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function aR(a){var c=this.__data__,d;return p?(d=c[a],d===K?void 0:d):b.call(c,a)?c[a]:void 0}function aS(a){var c=this.__data__;return p?c[a]!==void 0:b.call(c,a)}function aT(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=p&&b===void 0?K:b,this}g.prototype.clear=aP,g.prototype.delete=aQ,g.prototype.get=aR,g.prototype.has=aS,g.prototype.set=aT;function c(a){var b=-1,d=a==null?0:a.length,c;for(this.clear();++b<d;)c=a[b],this.set(c[0],c[1])}function aV(){this.__data__=[],this.size=0}function aW(c){var a=this.__data__,b=B(a,c),d;return!(b<0)&&(d=a.length-1,b==d?a.pop():aw.call(a,b,1),--this.size,!0)}function aX(c){var a=this.__data__,b=B(a,c);return b<0?void 0:a[b][1]}function aY(a){return B(this.__data__,a)>-1}function aZ(b,c){var a=this.__data__,d=B(a,b);return d<0?(++this.size,a.push([b,c])):a[d][1]=c,this}c.prototype.clear=aV,c.prototype.delete=aW,c.prototype.get=aX,c.prototype.has=aY,c.prototype.set=aZ;function j(a){var b=-1,d=a==null?0:a.length,c;for(this.clear();++b<d;)c=a[b],this.set(c[0],c[1])}function a$(){this.size=0,this.__data__={hash:new g,map:new(o||c),string:new g}}function ba(a){var b=x(this,a).delete(a);return this.size-=b?1:0,b}function bb(a){return x(this,a).get(a)}function bc(a){return x(this,a).has(a)}function bd(b,c){var a=x(this,b),d=a.size;return a.set(b,c),this.size+=a.size==d?0:1,this}j.prototype.clear=a$,j.prototype.delete=ba,j.prototype.get=bb,j.prototype.has=bc,j.prototype.set=bd;function s(a){var b=-1,c=a==null?0:a.length;for(this.__data__=new j;++b<c;)this.add(a[b])}function bf(a){return this.__data__.set(a,K),this}function bg(a){return this.__data__.has(a)}s.prototype.add=s.prototype.push=bf,s.prototype.has=bg;function e(a){var b=this.__data__=new c(a);this.size=b.size}function bi(){this.__data__=new c,this.size=0}function bj(b){var a=this.__data__,c=a.delete(b);return this.size=a.size,c}function bk(a){return this.__data__.get(a)}function bl(a){return this.__data__.has(a)}function bm(d,e){var a=this.__data__,b;if(a instanceof c){if(b=a.__data__,!o||b.length<bW-1)return b.push([d,e]),this.size=++a.size,this;a=this.__data__=new j(b)}return a.set(d,e),this.size=a.size,this}e.prototype.clear=bi,e.prototype.delete=bj,e.prototype.get=bk,e.prototype.has=bl,e.prototype.set=bm;function bn(c,j){var d=z(c),g=!d&&bN(c),f=!d&&!g&&G(c),h=!d&&!g&&!f&&at(c),i=d||g||f||h,e=i?aM(c.length,String):[],k=e.length,a;for(a in c)(j||b.call(c,a))&&!(i&&(a=="length"||f&&(a=="offset"||a=="parent")||h&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||bG(a,k)))&&e.push(a);return e}function B(b,c){for(var a=b.length;a--;)if(W(b[a][0],c))return a;return-1}function bp(a,c,d){var b=c(a);return z(a)?b:aO(b,d(a))}function n(a){return a==null?a===void 0?bO:bT:h&&h in Object(a)?bD(a):bK(a)}function P(a){return m(a)&&n(a)==y}function O(a,b,c,d,e){return a===b||(a==null||b==null||!m(a)&&!m(b)?a!==a&&b!==b:bt(a,b,c,d,O,e))}function bt(c,d,h,k,j,a){var m=z(c),s=z(d),g=m?F:f(c),i=s?F:f(d),o,r,n,p,q,t,u;if(g=g==y?l:g,i=i==y?l:i,o=g==l,r=i==l,n=g==i,n&&G(c)){if(!G(d))return!1;m=!0,o=!1}if(n&&!o)return a||(a=new e),m||at(c)?R(c,d,h,k,j,a):by(c,d,g,h,k,j,a);if(!(h&v))if(p=o&&b.call(c,"__wrapped__"),q=r&&b.call(d,"__wrapped__"),p||q)return t=p?c.value():c,u=q?d.value():d,a||(a=new e),j(t,u,h,k,a);return!!n&&(a||(a=new e),bz(c,d,h,k,j,a))}function bu(a){if(!af(a)||bI(a))return!1;var b=ab(a)?ax:bo;return b.test(i(a))}function bv(b){return m(b)&&ad(b.length)&&!!a[n(b)]}function bw(a){var d,c;if(!bJ(a))return aA(a);d=[];for(c in Object(a))b.call(a,c)&&c!="constructor"&&d.push(c);return d}function R(c,a,h,e,o,b){var n=h&v,j=c.length,l=a.length,m,f,g,k,d,i,p;if(j!=l&&!(n&&l>j))return!1;if(m=b.get(c),m&&b.get(a))return m==a;f=-1,g=!0,k=h&aq?new s:void 0;for(b.set(c,a),b.set(a,c);++f<j;){if(d=c[f],i=a[f],e&&(p=n?e(i,d,f,a,c,b):e(d,i,f,c,a,b)),p!==void 0){if(p)continue;g=!1;break}if(k){if(!aN(a,function(a,c){if(!aF(k,c)&&(d===a||o(d,a,h,e,b)))return k.push(c)})){g=!1;break}}else if(!(d===i||o(d,i,h,e,b))){g=!1;break}}return b.delete(c),b.delete(a),g}function by(a,b,j,e,k,i,d){var c,g,f,h;switch(j){case A:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Z:return!(a.byteLength!=b.byteLength||!i(new au(a),new au(b)));case ak:case aj:case ae:return W(+a,+b);case ah:return a.name==b.name&&a.message==b.message;case $:case _:return a==b+"";case u:c=aD;case w:return!(g=e&v,c||(c=aU),a.size!=b.size&&!g)&&(f=d.get(a),f?f==b:(e|=aq,d.set(a,b),h=R(c(a),c(b),e,k,i,d),d.delete(a),h));case bQ:if(I)return I.call(a)==I.call(b)}return!1}function bz(c,a,s,k,t,d){var h=s&v,p=S(c),n=p.length,u=S(a),w=u.length,f,e,r,j,o,i,l,q,g,m;if(n!=w&&!h)return!1;for(f=n;f--;)if(e=p[f],!(h?e in a:b.call(a,e)))return!1;if(r=d.get(c),r&&d.get(a))return r==a;j=!0,d.set(c,a),d.set(a,c);for(o=h;++f<n;){if(e=p[f],i=c[e],l=a[e],k&&(q=h?k(l,i,e,a,c,d):k(i,l,e,c,a,d)),!(q===void 0?i===l||t(i,l,s,k,d):q)){j=!1;break}o||(o=e=="constructor")}return j&&!o&&(g=c.constructor,m=a.constructor,g!=m&&"constructor"in c&&"constructor"in a&&!(typeof g=="function"&&g instanceof g&&typeof m=="function"&&m instanceof m)&&(j=!1)),d.delete(c),d.delete(a),j}function S(a){return bp(a,bX,bE)}function x(c,a){var b=c.__data__;return bH(a)?b[typeof a=="string"?"string":"hash"]:b.map}function k(b,c){var a=aE(b,c);return bu(a)?a:void 0}function bD(a){var c=b.call(a,h),d=a[h],e,f;try{a[h]=void 0,e=!0}catch{}return f=ap.call(a),e&&(c?a[h]=d:delete a[h]),f}bE=ai?function(a){return a==null?[]:(a=Object(a),a_(ai(a),function(b){return ac.call(a,b)}))}:bY,f=n,(H&&f(new H(new ArrayBuffer(1)))!=A||o&&f(new o)!=u||N&&f(N.resolve())!=av||L&&f(new L)!=w||J&&f(new J)!=C)&&(f=function(a){var b=n(a),c=b==l?a.constructor:void 0,d=c?i(c):"";if(d)switch(d){case aH:return A;case aI:return u;case aJ:return av;case aK:return w;case aL:return C}return b});function bG(a,b){return b=b??an,!!b&&(typeof a=="number"||bh.test(a))&&a>-1&&a%1==0&&a<b}function bH(b){var a=typeof b;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?b!=="__proto__":b===null}function bI(a){return!!ao&&ao in a}function bJ(a){var b=a&&a.constructor,c=typeof b=="function"&&b.prototype||q;return a===c}function bK(a){return ap.call(a)}function i(a){if(a!=null){try{return al.call(a)}catch{}try{return a+""}catch{}}return""}function W(a,b){return a===b||a!==a&&b!==b}bN=P(function(){return arguments}())?P:function(a){return m(a)&&b.call(a,"callee")&&!ac.call(a,"callee")},z=Array.isArray;function bP(a){return a!=null&&ad(a.length)&&!ab(a)}G=az||bZ;function bR(a,b){return O(a,b)}function ab(b){if(!af(b))return!1;var a=n(b);return a==ag||a==bU||a==bV||a==bS}function ad(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=an}function af(a){var b=typeof a;return a!=null&&(b=="object"||b=="function")}function m(a){return a!=null&&typeof a=="object"}at=Y?aG(Y):bv;function bX(a){return bP(a)?bn(a):bw(a)}function bY(){return[]}function bZ(){return!1}t.exports=bR}(ed,ed.exports),nk=ed.exports,ni=Object.defineProperty,lE=Object.getOwnPropertySymbols,ng=Object.prototype.hasOwnProperty,nf=Object.prototype.propertyIsEnumerable,lH=(a,b,c)=>b in a?ni(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,S=(c,b)=>{var a;for(a in b||(b={}))ng.call(b,a)&&lH(c,a,b[a]);if(lE)for(a of lE(b))nf.call(b,a)&&lH(c,a,b[a]);return c};function ne(c,l){var a,e,d,f,g,b,h,i,j;if(c.length>=255)throw new TypeError("Alphabet too long");for(a=new Uint8Array(256),e=0;e<a.length;e++)a[e]=255;for(d=0;d<c.length;d++){if(f=c.charAt(d),g=f.charCodeAt(0),a[g]!==255)throw new TypeError(f+" is ambiguous");a[g]=d}b=c.length,h=c.charAt(0),i=Math.log(b)/Math.log(256),j=Math.log(256)/Math.log(b);function m(a){var o,l,d,n,g,i,e,m,k,f,p;if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";for(o=0,l=0,d=0,n=a.length;d!==n&&a[d]===0;)d++,o++;for(g=(n-d)*j+1>>>0,i=new Uint8Array(g);d!==n;){for(e=a[d],m=0,k=g-1;(e!==0||m<l)&&k!==-1;k--,m++)e+=256*i[k]>>>0,i[k]=e%b>>>0,e=e/b>>>0;if(e!==0)throw new Error("Non-zero carry");l=m,d++}for(f=g-l;f!==g&&i[f]===0;)f++;for(p=h.repeat(o);f<g;++f)p+=c.charAt(i[f]);return p}function k(d){var c,m,n,g,k,e,l,j,f,o,p;if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;if(c=0,d[c]!==" "){for(m=0,n=0;d[c]===h;)m++,c++;for(g=(d.length-c)*i+1>>>0,k=new Uint8Array(g);d[c];){if(e=a[d.charCodeAt(c)],e===255)return;for(l=0,j=g-1;(e!==0||l<n)&&j!==-1;j--,l++)e+=b*k[j]>>>0,k[j]=e%256>>>0,e=e/256>>>0;if(e!==0)throw new Error("Non-zero carry");n=l,c++}if(d[c]!==" "){for(f=g-n;f!==g&&k[f]===0;)f++;for(o=new Uint8Array(m+(g-f)),p=m;f!==g;)o[p++]=k[f++];return o}}}function n(b){var a=k(b);if(a)return a;throw new Error(`Non-${l} character`)}return{encode:m,decodeUnsafe:k,decode:n}}nd=ne,mT=nd;const lM=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")},mS=a=>(new TextEncoder).encode(a),mP=a=>(new TextDecoder).decode(a);class mL{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}class mD{constructor(b,a,c){if(this.name=b,this.prefix=a,a.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=a.codePointAt(0),this.baseDecode=c}decode(a){if(typeof a=="string"){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return lS(this,a)}}class lY{constructor(a){this.decoders=a}or(a){return lS(this,a)}decode(a){const c=a[0],b=this.decoders[c];if(b)return b.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const lS=(a,b)=>new lY(S(S({},a.decoders||{[a.prefix]:a}),b.decoders||{[b.prefix]:b}));class lV{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new mL(a,b,c),this.decoder=new mD(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}const dm=({name:a,prefix:b,encode:c,decode:d})=>new lV(a,b,c,d),cA=({prefix:b,name:a,alphabet:c})=>{const{encode:d,decode:e}=mT(c,a);return dm({prefix:b,name:a,encode:d,decode:a=>lM(e(a))})},lW=(e,h,b,i)=>{const f={};for(let a=0;a<h.length;++a)f[h[a]]=a;let c=e.length;for(;e[c-1]==="=";)--c;const g=new Uint8Array(c*b/8|0);let a=0,d=0,j=0;for(let h=0;h<c;++h){const k=f[e[h]];if(k===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<b|k,a+=b,a>=8&&(a-=8,g[j++]=255&d>>a)}if(a>=b||255&d<<8-a)throw new SyntaxError("Unexpected end of data");return g},lX=(g,d,b)=>{const h=d[d.length-1]==="=",f=(1<<b)-1;let c="",a=0,e=0;for(let h=0;h<g.length;++h)for(e=e<<8|g[h],a+=8;a>b;)a-=b,c+=d[f&e>>a];if(a&&(c+=d[f&e<<b-a]),h)for(;c.length*b&7;)c+="=";return c},G=({name:a,prefix:d,bitsPerChar:b,alphabet:c})=>dm({prefix:d,name:a,encode(a){return lX(a,c,b)},decode(d){return lW(d,c,b,a)}}),lZ=dm({prefix:"\0",name:"identity",encode:a=>mP(a),decode:a=>mS(a)});l_=Object.freeze({__proto__:null,identity:lZ});const l$=G({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});ma=Object.freeze({__proto__:null,base2:l$});const mb=G({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});mc=Object.freeze({__proto__:null,base8:mb});const md=cA({prefix:"9",name:"base10",alphabet:"0123456789"});me=Object.freeze({__proto__:null,base10:md});const mf=G({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mg=G({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});mh=Object.freeze({__proto__:null,base16:mf,base16upper:mg});const mi=G({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mj=G({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mk=G({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ml=G({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mm=G({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mn=G({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),mo=G({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mp=G({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mq=G({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});mr=Object.freeze({__proto__:null,base32:mi,base32upper:mj,base32pad:mk,base32padupper:ml,base32hex:mm,base32hexupper:mn,base32hexpad:mo,base32hexpadupper:mp,base32z:mq});const ms=cA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),mt=cA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});mu=Object.freeze({__proto__:null,base36:ms,base36upper:mt});const mv=cA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),mw=cA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});mx=Object.freeze({__proto__:null,base58btc:mv,base58flickr:mw});const my=G({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mz=G({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mA=G({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mB=G({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});mC=Object.freeze({__proto__:null,base64:my,base64pad:mz,base64url:mA,base64urlpad:mB});const lQ=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),mE=lQ.reduce((a,b,c)=>(a[c]=b,a),[]),mF=lQ.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]);function mG(a){return a.reduce((a,b)=>(a+=mE[b],a),"")}function mH(b){const a=[];for(const c of b){const d=mF[c.codePointAt(0)];if(d===void 0)throw new Error(`Non-base256emoji character: ${c}`);a.push(d)}return new Uint8Array(a)}const mI=dm({prefix:"\u{1F680}",name:"base256emoji",encode:mG,decode:mH});mJ=Object.freeze({__proto__:null,base256emoji:mI}),mK=lO,lP=128,mM=127,mN=~mM,mO=Math.pow(2,31);function lO(a,c,b){c=c||[],b=b||0;for(var d=b;a>=mO;)c[b++]=a&255|lP,a/=128;for(;a&mN;)c[b++]=a&255|lP,a>>>=7;return c[b]=a|0,lO.bytes=b-d+1,c}mQ=eb,mR=128,lN=127;function eb(e,a){var f=0,a=a||0,b=0,d=a,c,g=e.length;do{if(d>=g)throw eb.bytes=0,new RangeError("Could not decode varint");c=e[d++],f+=b<28?(c&lN)<<b:(c&lN)*Math.pow(2,b),b+=7}while(c>=mR)return eb.bytes=d-a,f}mU=Math.pow(2,7),mV=Math.pow(2,14),mW=Math.pow(2,21),mX=Math.pow(2,28),mY=Math.pow(2,35),mZ=Math.pow(2,42),m_=Math.pow(2,49),m$=Math.pow(2,56),na=Math.pow(2,63),nb=function(a){return a<mU?1:a<mV?2:a<mW?3:a<mX?4:a<mY?5:a<mZ?6:a<m_?7:a<m$?8:a<na?9:10},nc={encode:mK,decode:mQ,encodingLength:nb},lK=nc;const lJ=(b,a,c=0)=>(lK.encode(b,a,c),a),lG=a=>lK.encodingLength(a),ec=(c,d)=>{const a=d.byteLength,e=lG(c),f=e+lG(a),b=new Uint8Array(f+a);return lJ(c,b,0),lJ(a,b,e),b.set(d,f),new nh(c,a,d,b)};class nh{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}const lD=({name:a,code:b,encode:c})=>new nj(a,b,c);class nj{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){const b=this.encode(a);return b instanceof Uint8Array?ec(this.code,b):b.then(a=>ec(this.code,a))}throw Error("Unknown type, must be binary type")}}const lC=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b)),nl=lD({name:"sha2-256",code:18,encode:lC("SHA-256")}),nm=lD({name:"sha2-512",code:19,encode:lC("SHA-512")});nn=Object.freeze({__proto__:null,sha256:nl,sha512:nm});const lA=0,np="identity",lz=lM;nr=Object.freeze({__proto__:null,identity:{code:lA,name:np,encode:lz,digest:a=>ec(lA,lz(a))}}),new TextEncoder,new TextDecoder;const ly=S(S(S(S(S(S(S(S(S(S({},l_),ma),mc),me),mh),mr),mu),mx),mC),mJ);S(S({},nn),nr);function lx(a){return globalThis.Buffer!=null?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function nu(a=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?lx(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function lp(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}const ll=lp("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>(new TextEncoder).encode(a.substring(1))),eg=lp("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);const b=nu(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),ny=S({utf8:ll,"utf-8":ll,hex:ly.base16,latin1:eg,ascii:eg,binary:eg},ly);function nz(c,a="utf8"){const b=ny[a];if(!b)throw new Error(`Unsupported encoding "${a}"`);return(a==="utf8"||a==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?lx(globalThis.Buffer.from(c,"utf-8")):b.decoder.decode(`${b.prefix}${c}`)}const lj="wc",nB=2,eh="core",aD=`${lj}@${2}:${eh}:`,nE={name:eh,logger:"error"},nF={database:":memory:"},nG="crypto",lg="client_ed25519_seed",nI=k.ONE_DAY,nJ="keychain",nK="0.3",nL="messages",nM="0.3",nN=k.SIX_HOURS,nO="publisher",lf="irn",nQ="error",k$="wss://relay.walletconnect.com",nS="relayer",A={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},nU="_subscription",cJ={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},nW=k.ONE_SECOND/2,rI="2.7.6",nY=1e4,nZ="0.3",ag={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},n$="subscription",oa="0.3",ob=k.FIVE_SECONDS*1e3,oc="pairing",od="0.3",cE={wc_pairingDelete:{req:{ttl:k.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:k.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:k.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:k.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:k.ONE_DAY,prompt:!1,tag:0},res:{ttl:k.ONE_DAY,prompt:!1,tag:0}}},ah={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},oh="history",oi="0.3",oj="expirer",ab={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ol="0.3",em="verify-api",kO="https://verify.walletconnect.com";class oo{constructor(a,c){this.core=a,this.logger=c,this.keychain=new Map,this.name=nJ,this.version=nK,this.initialized=!1,this.storagePrefix=aD,this.init=async()=>{if(!this.initialized){const a=await this.getKeyChain();typeof a<"u"&&(this.keychain=a),this.initialized=!0}},this.has=a=>(this.isInitialized(),this.keychain.has(a)),this.set=async(a,b)=>{this.isInitialized(),this.keychain.set(a,b),await this.persist()},this.get=a=>{this.isInitialized();const c=this.keychain.get(a);if(typeof c>"u"){const{message:c}=b("NO_MATCHING_KEY",`${this.name}: ${a}`);throw new Error(c)}return c},this.del=async a=>{this.isInitialized(),this.keychain.delete(a),await this.persist()},this.core=a,this.logger=q.generateChildLogger(c,this.name)}get context(){return q.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(a){await this.core.storage.setItem(this.storageKey,ip(a))}async getKeyChain(){const a=await this.core.storage.getItem(this.storageKey);return typeof a<"u"?io(a):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}}class op{constructor(a,b,c){this.core=a,this.logger=b,this.name=nG,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=a=>(this.isInitialized(),this.keychain.has(a)),this.getClientId=async()=>{this.isInitialized();const a=await this.getClientSeed(),b=kg(a);return kc(b.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const a=uv();return this.setPrivateKey(a.publicKey,a.privateKey)},this.signJWT=async a=>{this.isInitialized();const b=await this.getClientSeed(),c=kg(b),d=fa();return await ph(d,a,nI,c)},this.generateSharedKey=(a,b,c)=>{this.isInitialized();const d=this.getPrivateKey(a),e=ur(d,b);return this.setSymKey(e,c)},this.setSymKey=async(a,c)=>{this.isInitialized();const b=c||uq(a);return await this.keychain.set(b,a),b},this.deleteKeyPair=async a=>{this.isInitialized(),await this.keychain.del(a)},this.deleteSymKey=async a=>{this.isInitialized(),await this.keychain.del(a)},this.encode=async(b,c,d)=>{this.isInitialized();const a=iV(d),e=ct(c);if(iR(a)){const c=a.senderPublicKey,d=a.receiverPublicKey;b=await this.generateSharedKey(c,d)}const f=this.getSymKey(b),{type:g,senderPublicKey:h}=a;return un({type:g,symKey:f,message:e,senderPublicKey:h})},this.decode=async(b,c,d)=>{this.isInitialized();const a=ui(c,d);if(iR(a)){const c=a.receiverPublicKey,d=a.senderPublicKey;b=await this.generateSharedKey(c,d)}const e=this.getSymKey(b),f=um({symKey:e,encoded:c});return eK(f)},this.getPayloadType=a=>{const b=dv(a);return cn(b.type)},this.getPayloadSenderPublicKey=b=>{const a=dv(b);return a.senderPublicKey?Q(a.senderPublicKey,P):void 0},this.core=a,this.logger=q.generateChildLogger(b,this.name),this.keychain=c||new oo(this.core,this.logger)}get context(){return q.getLoggerContext(this.logger)}async setPrivateKey(a,b){return await this.keychain.set(a,b),a}getPrivateKey(a){return this.keychain.get(a)}async getClientSeed(){let a="";try{a=this.keychain.get(lg)}catch{a=fa(),await this.keychain.set(lg,a)}return nz(a,"base16")}getSymKey(a){return this.keychain.get(a)}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}}class oq extends qe{constructor(a,b){super(a,b),this.logger=a,this.core=b,this.messages=new Map,this.name=nL,this.version=nM,this.initialized=!1,this.storagePrefix=aD,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const a=await this.getRelayerMessages();typeof a<"u"&&(this.messages=a),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(a){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(a)}finally{this.initialized=!0}}},this.set=async(c,d)=>{this.isInitialized();const b=bm(d);let a=this.messages.get(c);return typeof a>"u"&&(a={}),typeof a[b]<"u"||(a[b]=d,this.messages.set(c,a),await this.persist()),b},this.get=b=>{this.isInitialized();let a=this.messages.get(b);return typeof a>"u"&&(a={}),a},this.has=(a,b)=>{this.isInitialized();const c=this.get(a),d=bm(b);return typeof c[d]<"u"},this.del=async a=>{this.isInitialized(),this.messages.delete(a),await this.persist()},this.logger=q.generateChildLogger(a,this.name),this.core=b}get context(){return q.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(a){await this.core.storage.setItem(this.storageKey,ip(a))}async getRelayerMessages(){const a=await this.core.storage.getItem(this.storageKey);return typeof a<"u"?io(a):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}}class or extends p${constructor(a,b){super(a,b),this.relayer=a,this.logger=b,this.events=new I.exports.EventEmitter,this.name=nO,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(b,c,a)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:b,message:c,opts:a}});try{const e=a?.ttl||nN,f=fU(a),g=a?.prompt||!1,h=a?.tag||0,d=a?.id||lb().toString(),i={topic:b,message:c,opts:{ttl:e,relay:f,prompt:g,tag:h,id:d}};this.queue.set(d,i);try{await await df(this.rpcPublish(b,c,e,f,g,h,d),this.publishTimeout),this.relayer.events.emit(A.publish,i)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(A.connection_stalled);return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:b,message:c,opts:a}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.relayer=a,this.logger=q.generateChildLogger(b,this.name),this.registerEventListeners()}get context(){return q.getLoggerContext(this.logger)}rpcPublish(f,h,i,j,k,l,g){var b,c,d,e;const a={method:c_(j.protocol).publish,params:{topic:f,message:h,ttl:i,prompt:k,tag:l},id:g};return R((b=a.params)==null?void 0:b.prompt)&&((c=a.params)==null||delete c.prompt),R((d=a.params)==null?void 0:d.tag)&&((e=a.params)==null||delete e.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:a}),this.relayer.request(a)}onPublish(a){this.queue.delete(a)}checkQueue(){this.queue.forEach(async a=>{const{topic:b,message:c,opts:d}=a;await this.publish(b,c,d)})}registerEventListeners(){this.relayer.core.heartbeat.on(b_.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()}),this.relayer.on(A.message_ack,a=>{this.onPublish(a.id.toString())})}}class os{constructor(){this.map=new Map,this.set=(a,b)=>{const c=this.get(a);this.exists(a,b)||this.map.set(a,[...c,b])},this.get=a=>this.map.get(a)||[],this.exists=(a,b)=>this.get(a).includes(b),this.delete=(a,b)=>{if(typeof b>"u"){this.map.delete(a);return}if(!this.map.has(a))return;const d=this.get(a);if(!this.exists(a,b))return;const c=d.filter(a=>a!==b);if(!c.length){this.map.delete(a);return}this.map.set(a,c)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}ot=Object.defineProperty,ou=Object.defineProperties,ov=Object.getOwnPropertyDescriptors,kN=Object.getOwnPropertySymbols,ox=Object.prototype.hasOwnProperty,oy=Object.prototype.propertyIsEnumerable,kM=(a,b,c)=>b in a?ot(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,cL=(c,b)=>{var a;for(a in b||(b={}))ox.call(b,a)&&kM(c,a,b[a]);if(kN)for(a of kN(b))oy.call(b,a)&&kM(c,a,b[a]);return c},en=(a,b)=>ou(a,ov(b));class oC extends pX{constructor(a,b){super(a,b),this.relayer=a,this.logger=b,this.subscriptions=new Map,this.topicMap=new os,this.events=new I.exports.EventEmitter,this.name=n$,this.version=oa,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=aD,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(a,b)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:b}});try{const c=fU(b),d={topic:a,relay:c};this.pending.set(a,d);const e=await this.rpcSubscribe(a,c);return this.onSubscribe(e,d),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:b}}),e}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}},this.unsubscribe=async(b,a)=>{await this.restartToComplete(),this.isInitialized(),typeof a?.id<"u"?await this.unsubscribeById(b,a.id,a):await this.unsubscribeByTopic(b,a)},this.isSubscribed=async a=>!!this.topics.includes(a)||await new Promise((d,e)=>{const b=new k.Watch;b.start(this.pendingSubscriptionWatchLabel);const c=setInterval(()=>{!this.pending.has(a)&&this.topics.includes(a)&&(clearInterval(c),b.stop(this.pendingSubscriptionWatchLabel),d(!0)),b.elapsed(this.pendingSubscriptionWatchLabel)>=ob&&(clearInterval(c),b.stop(this.pendingSubscriptionWatchLabel),e(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=a,this.logger=q.generateChildLogger(b,this.name),this.clientId=""}get context(){return q.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(b,c){let a=!1;try{a=this.getSubscription(b).topic===c}catch{}return a}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(a,b){const c=this.topicMap.get(a);await Promise.all(c.map(async c=>await this.unsubscribeById(a,c,b)))}async unsubscribeById(a,b,c){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:a,id:b,opts:c}});try{const d=fU(c);await this.rpcUnsubscribe(a,b,d);const e=x("USER_DISCONNECTED",`${this.name}, ${a}`);await this.onUnsubscribe(a,b,e),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:a,id:b,opts:c}})}catch(a){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(a),a}}async rpcSubscribe(a,c){const b={method:c_(c.protocol).subscribe,params:{topic:a}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:b});try{await await df(this.relayer.request(b),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(A.connection_stalled)}return bm(a+this.clientId)}async rpcBatchSubscribe(a){if(!a.length)return;const c=a[0].relay,b={method:c_(c.protocol).batchSubscribe,params:{topics:a.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:b});try{return await await df(this.relayer.request(b),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(A.connection_stalled)}}rpcUnsubscribe(b,c,d){const a={method:c_(d.protocol).unsubscribe,params:{topic:b,id:c}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a}),this.relayer.request(a)}onSubscribe(a,b){this.setSubscription(a,en(cL({},b),{id:a})),this.pending.delete(b.topic)}onBatchSubscribe(a){a.length&&a.forEach(a=>{this.setSubscription(a.id,cL({},a)),this.pending.delete(a.topic)})}async onUnsubscribe(b,a,c){this.events.removeAllListeners(a),this.hasSubscription(a,b)&&this.deleteSubscription(a,c),await this.relayer.messages.del(b)}async setRelayerSubscriptions(a){await this.relayer.core.storage.setItem(this.storageKey,a)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(a,b){this.subscriptions.has(a)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:a,subscription:b}),this.addSubscription(a,b))}addSubscription(b,a){this.subscriptions.set(b,cL({},a)),this.topicMap.set(a.topic,b),this.events.emit(ag.created,a)}getSubscription(a){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:a});const c=this.subscriptions.get(a);if(!c){const{message:c}=b("NO_MATCHING_KEY",`${this.name}: ${a}`);throw new Error(c)}return c}deleteSubscription(a,b){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:a,reason:b});const c=this.getSubscription(a);this.subscriptions.delete(a),this.topicMap.delete(c.topic,a),this.events.emit(ag.deleted,en(cL({},c),{reason:b}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ag.sync)}async reset(){if(this.cached.length){const a=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let b=0;b<a;b++){const c=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(c)}}this.events.emit(ag.resubscribed)}async restore(){try{const a=await this.getRelayerSubscriptions();if(typeof a>"u"||!a.length)return;if(this.subscriptions.size){const{message:a}=b("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(a),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(a)}this.cached=a,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(a){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(a)}}async batchSubscribe(a){if(!a.length)return;const b=await this.rpcBatchSubscribe(a);ax(b)&&this.onBatchSubscribe(b.map((b,c)=>en(cL({},a[c]),{id:b})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const a=[];this.pending.forEach(b=>{a.push(b)}),await this.batchSubscribe(a)}registerEventListeners(){this.relayer.core.heartbeat.on(b_.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(A.connect,async()=>{await this.onConnect()}),this.relayer.on(A.disconnect,()=>{this.onDisconnect()}),this.events.on(ag.created,async b=>{const a=ag.created;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,data:b}),await this.persist()}),this.events.on(ag.deleted,async b=>{const a=ag.deleted;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,data:b}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}async restartToComplete(){this.restartInProgress&&await new Promise(a=>{const b=setInterval(()=>{this.restartInProgress||(clearInterval(b),a())},this.pollingInterval)})}}oD=Object.defineProperty,kG=Object.getOwnPropertySymbols,oF=Object.prototype.hasOwnProperty,oG=Object.prototype.propertyIsEnumerable,kF=(a,b,c)=>b in a?oD(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,oI=(c,b)=>{var a;for(a in b||(b={}))oF.call(b,a)&&kF(c,a,b[a]);if(kG)for(a of kG(b))oG.call(b,a)&&kF(c,a,b[a]);return c};class oJ extends p_{constructor(a){super(a),this.protocol="wc",this.version=2,this.events=new I.exports.EventEmitter,this.name=nS,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async a=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(a)}catch(a){throw this.logger.debug("Failed to Publish Request"),this.logger.error(a),a}},this.core=a.core,this.logger=typeof a.logger<"u"&&typeof a.logger!="string"?q.generateChildLogger(a.logger,this.name):q.pino(q.getDefaultLoggerOptions({level:a.logger||nQ})),this.messages=new oq(this.logger,a.core),this.subscriber=new oC(this,this.logger),this.publisher=new or(this,this.logger),this.relayUrl=a?.relayUrl||k$,this.projectId=a.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},nY)}get context(){return q.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(a,b,c){this.isInitialized(),await this.publisher.publish(a,b,c),await this.recordMessageEvent({topic:a,message:b,publishedAt:Date.now()})}async subscribe(a,c){this.isInitialized();let b="";return await Promise.all([new Promise(b=>{this.subscriber.once(ag.created,c=>{c.topic===a&&b()})}),new Promise(async d=>{b=await this.subscriber.subscribe(a,c),d()})]),b}async unsubscribe(a,b){this.isInitialized(),await this.subscriber.unsubscribe(a,b)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(A.transport_closed))}async transportOpen(a){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=a||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(a=>{this.initialized||a(),this.subscriber.once(ag.resubscribed,()=>{a()})}),await Promise.race([new Promise(async(a,b)=>{await df(this.provider.connect(),5e3,"socket stalled").catch(a=>b(a)).then(()=>a()).finally(()=>this.removeListener(A.transport_closed,this.rejectTransportOpen))}),new Promise(a=>this.once(A.transport_closed,this.rejectTransportOpen))])])}catch(a){this.logger.error(a);const b=a;if(!this.isConnectionStalled(b.message))throw a;this.events.emit(A.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(a){this.transportExplicitlyClosed||(this.relayUrl=a||this.relayUrl,this.connected&&await Promise.all([new Promise(a=>{this.provider.once(cJ.disconnect,()=>{a()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(a){return this.staleConnectionErrors.some(b=>a.includes(b))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){const a=await this.core.crypto.signJWT(this.relayUrl);this.provider=new aI(new no(tR({sdkVersion:rI,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:a,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(a){const{topic:b,message:c}=a;await this.messages.set(b,c)}async shouldIgnoreMessageEvent(b){const{topic:a,message:c}=b;return!await this.subscriber.isSubscribed(a)||this.messages.has(a,c)}async onProviderPayload(a){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:a}),ef(a)){if(!a.method.endsWith(nU))return;const b=a.params,{topic:d,message:e,publishedAt:f}=b.data,c={topic:d,message:e,publishedAt:f};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(oI({type:"event",event:b.id},c)),this.events.emit(b.id,c),await this.acknowledgePayload(a),await this.onMessageEvent(c)}else dW(a)&&this.events.emit(A.message_ack,a)}async onMessageEvent(a){await this.shouldIgnoreMessageEvent(a)||(this.events.emit(A.message,a),await this.recordMessageEvent(a))}async acknowledgePayload(a){const b=ei(a.id,!0);await this.provider.connection.send(b)}registerProviderListeners(){this.provider.on(cJ.payload,a=>this.onProviderPayload(a)),this.provider.on(cJ.connect,()=>{this.events.emit(A.connect)}),this.provider.on(cJ.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(cJ.error,a=>{this.logger.error(a),this.events.emit(A.error,a)})}registerEventListeners(){this.events.on(A.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(A.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},k.toMiliseconds(nW))}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(a=>{const b=setInterval(()=>{this.connected&&(clearInterval(b),a())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}oK=Object.defineProperty,kE=Object.getOwnPropertySymbols,oM=Object.prototype.hasOwnProperty,oN=Object.prototype.propertyIsEnumerable,kD=(a,b,c)=>b in a?oK(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,kC=(c,b)=>{var a;for(a in b||(b={}))oM.call(b,a)&&kD(c,a,b[a]);if(kE)for(a of kE(b))oN.call(b,a)&&kD(c,a,b[a]);return c};class dP extends pY{constructor(b,a,c,d=aD,e=void 0){super(b,a,c,d),this.core=b,this.logger=a,this.name=c,this.map=new Map,this.version=nZ,this.cached=[],this.initialized=!1,this.storagePrefix=aD,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!R(a)?this.map.set(this.getKey(a),a):tg(a)?this.map.set(a.id,a):tf(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,b)=>{this.isInitialized(),this.map.has(a)?await this.update(a,b):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:b}),this.map.set(a,b),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(b=>Object.keys(a).every(c=>nk(b[c],a[c]))):this.values),this.update=async(a,b)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:b});const c=kC(kC({},this.getData(a)),b);this.map.set(a,c),await this.persist()},this.delete=async(a,b)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:b}),this.map.delete(a),await this.persist())},this.logger=q.generateChildLogger(a,this.name),this.storagePrefix=d,this.getKey=e}get context(){return q.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(a){await this.core.storage.setItem(this.storageKey,a)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(a){const c=this.map.get(a);if(!c){const{message:c}=b("NO_MATCHING_KEY",`${this.name}: ${a}`);throw this.logger.error(c),new Error(c)}return c}async persist(){await this.setDataStore(this.values)}async restore(){try{const a=await this.getDataStore();if(typeof a>"u"||!a.length)return;if(this.map.size){const{message:a}=b("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(a),new Error(a)}this.cached=a,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(a){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(a)}}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}}class oR{constructor(a,c){this.core=a,this.logger=c,this.name=oc,this.version=od,this.events=new I.exports,this.initialized=!1,this.storagePrefix=aD,this.ignoredPayloadTypes=[bk],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:a})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...a])]},this.create=async()=>{this.isInitialized();const b=fa(),a=await this.core.crypto.setSymKey(b),c=af(k.FIVE_MINUTES),d={protocol:lf},e={topic:a,expiry:c,relay:d,active:!1},f=ts({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:b,relay:d});return await this.pairings.set(a,e),await this.core.relayer.subscribe(a),this.core.expirer.set(a,c),{topic:a,uri:f}},this.pair=async b=>{this.isInitialized(),this.isValidPair(b);const{topic:a,symKey:f,relay:c}=tC(b.uri);if(this.pairings.keys.includes(a))throw new Error(`Pairing already exists: ${a}`);if(this.core.crypto.hasKeys(a))throw new Error(`Keychain already exists: ${a}`);const d=af(k.FIVE_MINUTES),e={topic:a,relay:c,expiry:d,active:!1};return await this.pairings.set(a,e),await this.core.crypto.setSymKey(f,a),await this.core.relayer.subscribe(a,{relay:c}),this.core.expirer.set(a,d),b.activatePairing&&await this.activate({topic:a}),e},this.activate=async({topic:a})=>{this.isInitialized();const b=af(k.THIRTY_DAYS);await this.pairings.update(a,{active:!0,expiry:b}),this.core.expirer.set(a,b)},this.ping=async a=>{this.isInitialized(),await this.isValidPing(a);const{topic:b}=a;if(this.pairings.keys.includes(b)){const a=await this.sendRequest(b,"wc_pairingPing",{}),{done:c,resolve:d,reject:e}=bo();this.events.once(z("pairing_ping",a),({error:a})=>{a?e(a):d()}),await c()}},this.updateExpiry=async({topic:a,expiry:b})=>{this.isInitialized(),await this.pairings.update(a,{expiry:b})},this.updateMetadata=async({topic:a,metadata:b})=>{this.isInitialized(),await this.pairings.update(a,{peerMetadata:b})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async b=>{this.isInitialized(),await this.isValidDisconnect(b);const{topic:a}=b;this.pairings.keys.includes(a)&&(await this.sendRequest(a,"wc_pairingDelete",x("USER_DISCONNECTED")),await this.deletePairing(a))},this.sendRequest=async(a,c,d)=>{const b=dT(c,d),e=await this.core.crypto.encode(a,b),f=cE[c].req;return this.core.history.set(a,b),this.core.relayer.publish(a,e,f),b.id},this.sendResult=async(b,a,d)=>{const c=ei(b,d),e=await this.core.crypto.encode(a,c),f=await this.core.history.get(a,b),g=cE[f.request.method].res;await this.core.relayer.publish(a,e,g),await this.core.history.resolve(c)},this.sendError=async(b,a,e)=>{const c=dU(b,e),f=await this.core.crypto.encode(a,c),d=await this.core.history.get(a,b),g=cE[d.request.method]?cE[d.request.method].res:cE.unregistered_method.res;await this.core.relayer.publish(a,f,g),await this.core.history.resolve(c)},this.deletePairing=async(a,b)=>{await this.core.relayer.unsubscribe(a),await Promise.all([this.pairings.delete(a,x("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(a),b?Promise.resolve():this.core.expirer.del(a)])},this.cleanup=async()=>{const a=this.pairings.getAll().filter(a=>aC(a.expiry));await Promise.all(a.map(a=>this.deletePairing(a.topic)))},this.onRelayEventRequest=c=>{const{topic:a,payload:b}=c,d=b.method;if(this.pairings.keys.includes(a))switch(d){case"wc_pairingPing":return this.onPairingPingRequest(a,b);case"wc_pairingDelete":return this.onPairingDeleteRequest(a,b);default:return this.onUnknownRpcMethodRequest(a,b)}},this.onRelayEventResponse=async d=>{const{topic:a,payload:b}=d,c=(await this.core.history.get(a,b.id)).request.method;if(this.pairings.keys.includes(a))switch(c){case"wc_pairingPing":return this.onPairingPingResponse(a,b);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(a,c)=>{const{id:b}=c;try{this.isValidPing({topic:a}),await this.sendResult(b,a,!0),this.events.emit("pairing_ping",{id:b,topic:a})}catch(c){await this.sendError(b,a,c),this.logger.error(c)}},this.onPairingPingResponse=(c,a)=>{const{id:b}=a;setTimeout(()=>{ar(a)?this.events.emit(z("pairing_ping",b),{}):ae(a)&&this.events.emit(z("pairing_ping",b),{error:a.error})},500)},this.onPairingDeleteRequest=async(a,c)=>{const{id:b}=c;try{this.isValidDisconnect({topic:a}),await this.deletePairing(a),this.events.emit("pairing_delete",{id:b,topic:a})}catch(c){await this.sendError(b,a,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(a,d)=>{const{id:b,method:c}=d;try{if(this.registeredMethods.includes(c))return;const d=x("WC_METHOD_UNSUPPORTED",c);await this.sendError(b,a,d),this.logger.error(d)}catch(c){await this.sendError(b,a,c),this.logger.error(c)}},this.onUnknownRpcMethodResponse=a=>{this.registeredMethods.includes(a)||this.logger.error(x("WC_METHOD_UNSUPPORTED",a))},this.isValidPair=a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`pair() params: ${a}`);throw new Error(c)}if(!th(a.uri)){const{message:c}=b("MISSING_OR_INVALID",`pair() uri: ${a.uri}`);throw new Error(c)}},this.isValidPing=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`ping() params: ${a}`);throw new Error(c)}const{topic:c}=a;await this.isValidPairingTopic(c)},this.isValidDisconnect=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw new Error(c)}const{topic:c}=a;await this.isValidPairingTopic(c)},this.isValidPairingTopic=async a=>{if(!D(a,!1)){const{message:c}=b("MISSING_OR_INVALID",`pairing topic should be a string: ${a}`);throw new Error(c)}if(!this.pairings.keys.includes(a)){const{message:c}=b("NO_MATCHING_KEY",`pairing topic doesn't exist: ${a}`);throw new Error(c)}if(aC(this.pairings.get(a).expiry)){await this.deletePairing(a);const{message:c}=b("EXPIRED",`pairing topic: ${a}`);throw new Error(c)}},this.core=a,this.logger=q.generateChildLogger(c,this.name),this.pairings=new dP(this.core,this.logger,this.name,this.storagePrefix)}get context(){return q.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}registerRelayerEvents(){this.core.relayer.on(A.message,async d=>{const{topic:b,message:c}=d;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(c)))return;const a=await this.core.crypto.decode(b,c);ef(a)?(this.core.history.set(b,a),this.onRelayEventRequest({topic:b,payload:a})):dW(a)&&(await this.core.history.resolve(a),this.onRelayEventResponse({topic:b,payload:a}))})}registerExpirerEvents(){this.core.expirer.on(ab.expired,async b=>{const{topic:a}=ia(b.target);a&&this.pairings.keys.includes(a)&&(await this.deletePairing(a,!0),this.events.emit("pairing_expire",{topic:a}))})}}class oS extends qf{constructor(b,a){super(b,a),this.core=b,this.logger=a,this.records=new Map,this.events=new I.exports.EventEmitter,this.name=oh,this.version=oi,this.cached=[],this.initialized=!1,this.storagePrefix=aD,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>this.records.set(a.id,a)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(c,a,d)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:c,request:a,chainId:d}),this.records.has(a.id))return;const b={id:a.id,topic:c,request:{method:a.method,params:a.params||null},chainId:d};this.records.set(b.id,b),this.events.emit(ah.created,b)},this.resolve=async a=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:a}),!this.records.has(a.id))return;const b=await this.getRecord(a.id);typeof b.response>"u"&&(b.response=ae(a)?{error:a.error}:{result:a.result},this.records.set(b.id,b),this.events.emit(ah.updated,b))},this.get=async(b,a)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:b,id:a}),await this.getRecord(a)),this.delete=(b,a)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:a}),this.values.forEach(c=>{if(c.topic===b){if(typeof a<"u"&&c.id!==a)return;this.records.delete(c.id),this.events.emit(ah.deleted,c)}})},this.exists=async(b,a)=>(this.isInitialized(),!!this.records.has(a)&&(await this.getRecord(a)).topic===b),this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.logger=q.generateChildLogger(a,this.name)}get context(){return q.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const a=[];return this.values.forEach(b=>{if(typeof b.response<"u")return;const c={topic:b.topic,request:dT(b.request.method,b.request.params,b.id),chainId:b.chainId};return a.push(c)}),a}async setJsonRpcRecords(a){await this.core.storage.setItem(this.storageKey,a)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(a){this.isInitialized();const c=this.records.get(a);if(!c){const{message:c}=b("NO_MATCHING_KEY",`${this.name}: ${a}`);throw new Error(c)}return c}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ah.sync)}async restore(){try{const a=await this.getJsonRpcRecords();if(typeof a>"u"||!a.length)return;if(this.records.size){const{message:a}=b("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(a),new Error(a)}this.cached=a,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(a){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(a)}}registerEventListeners(){this.events.on(ah.created,b=>{const a=ah.created;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,record:b}),this.persist()}),this.events.on(ah.updated,b=>{const a=ah.updated;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,record:b}),this.persist()}),this.events.on(ah.deleted,b=>{const a=ah.deleted;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,record:b}),this.persist()})}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}}class oT extends pU{constructor(b,a){super(b,a),this.core=b,this.logger=a,this.expirations=new Map,this.events=new I.exports.EventEmitter,this.name=oj,this.version=ol,this.cached=[],this.initialized=!1,this.storagePrefix=aD,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>this.expirations.set(a.target,a)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=a=>{try{const b=this.formatTarget(a);return typeof this.getExpiration(b)<"u"}catch{return!1}},this.set=(c,d)=>{this.isInitialized();const a=this.formatTarget(c),b={target:a,expiry:d};this.expirations.set(a,b),this.checkExpiry(a,b),this.events.emit(ab.created,{target:a,expiration:b})},this.get=a=>{this.isInitialized();const b=this.formatTarget(a);return this.getExpiration(b)},this.del=a=>{if(this.isInitialized(),this.has(a)){const b=this.formatTarget(a),c=this.getExpiration(b);this.expirations.delete(b),this.events.emit(ab.deleted,{target:b,expiration:c})}},this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.logger=q.generateChildLogger(a,this.name)}get context(){return q.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(a){if(typeof a=="string")return tQ(a);if(typeof a=="number")return tP(a);const{message:c}=b("UNKNOWN_TYPE",`Target type: ${typeof a}`);throw new Error(c)}async setExpirations(a){await this.core.storage.setItem(this.storageKey,a)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ab.sync)}async restore(){try{const a=await this.getExpirations();if(typeof a>"u"||!a.length)return;if(this.expirations.size){const{message:a}=b("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(a),new Error(a)}this.cached=a,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(a){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(a)}}getExpiration(a){const c=this.expirations.get(a);if(!c){const{message:c}=b("NO_MATCHING_KEY",`${this.name}: ${a}`);throw this.logger.error(c),new Error(c)}return c}checkExpiry(b,a){const{expiry:c}=a;k.toMiliseconds(c)-Date.now()<=0&&this.expire(b,a)}expire(a,b){this.expirations.delete(a),this.events.emit(ab.expired,{target:a,expiration:b})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((a,b)=>this.checkExpiry(b,a))}registerEventListeners(){this.core.heartbeat.on(b_.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(ab.created,b=>{const a=ab.created;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,data:b}),this.persist()}),this.events.on(ab.expired,b=>{const a=ab.expired;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,data:b}),this.persist()}),this.events.on(ab.deleted,b=>{const a=ab.deleted;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,data:b}),this.persist()})}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}}class oU extends pQ{constructor(b,a){super(b,a),this.projectId=b,this.logger=a,this.name=em,this.initialized=!1,this.init=async a=>{hb()||!fy()||(this.verifyUrl=a?.verifyUrl||kO,await this.createIframe())},this.register=async a=>{var b;this.initialized||await this.init(),this.iframe&&((b=this.iframe.contentWindow)==null||b.postMessage(a.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${a.attestationId} ${this.verifyUrl}`))},this.resolve=async a=>{var b;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${a.attestationId}`);const d=this.startAbortTimer(k.FIVE_SECONDS),c=await fetch(`${this.verifyUrl}/attestation/${a.attestationId}`,{signal:this.abortController.signal});return clearTimeout(d),c.status===200?(b=await c.json())==null?void 0:b.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((b,c)=>{if(document.getElementById(em))return b();const a=document.createElement("iframe");a.setAttribute("id",em),a.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),a.style.display="none",a.addEventListener("load",()=>{this.initialized=!0,b()}),a.addEventListener("error",a=>{c(a)}),document.body.append(a),this.iframe=a}),new Promise(a=>{setTimeout(()=>a("iframe load timeout"),k.toMiliseconds(k.ONE_SECOND/2))})])}catch(a){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(a)}},this.logger=q.generateChildLogger(a,this.name),this.verifyUrl=kO,this.abortController=new AbortController,this.isDevEnv=fw()&&process.env.IS_VITEST}get context(){return q.getLoggerContext(this.logger)}startAbortTimer(a){return setTimeout(()=>this.abortController.abort(),k.toMiliseconds(a))}}oV=Object.defineProperty,kA=Object.getOwnPropertySymbols,oX=Object.prototype.hasOwnProperty,oY=Object.prototype.propertyIsEnumerable,kz=(a,b,c)=>b in a?oV(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,kx=(c,b)=>{var a;for(a in b||(b={}))oX.call(b,a)&&kz(c,a,b[a]);if(kA)for(a of kA(b))oY.call(b,a)&&kz(c,a,b[a]);return c};class kt extends qh{constructor(a){super(a),this.protocol=lj,this.version=nB,this.name=eh,this.events=new I.exports.EventEmitter,this.initialized=!1,this.on=(a,b)=>this.events.on(a,b),this.once=(a,b)=>this.events.once(a,b),this.off=(a,b)=>this.events.off(a,b),this.removeListener=(a,b)=>this.events.removeListener(a,b),this.projectId=a?.projectId,this.relayUrl=a?.relayUrl||k$;const b=typeof a?.logger<"u"&&typeof a?.logger!="string"?a.logger:q.pino(q.getDefaultLoggerOptions({level:a?.logger||nE.logger}));this.logger=q.generateChildLogger(b,this.name),this.heartbeat=new b_.HeartBeat,this.crypto=new op(this,this.logger,a?.keychain),this.history=new oS(this,this.logger),this.expirer=new oT(this,this.logger),this.storage=a!=null&&a.storage?a.storage:new rX(kx(kx({},nF),a?.storageOptions)),this.relayer=new oJ({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new oR(this,this.logger),this.verify=new oU(this.projectId||"",this.logger)}static async init(b){const a=new kt(b);return await a.initialize(),a}get context(){return q.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(a){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,a),this.logger.error(a.message),a}}}const pa=kt,kr="wc",ko=2,kk="client",ev=`${kr}@${ko}:${kk}:`,ex={name:kk,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},pg="proposal",kh="Proposal expired",pi="session",dO=k.SEVEN_DAYS,pk="engine",cz={wc_sessionPropose:{req:{ttl:k.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:k.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:k.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:k.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:k.ONE_DAY,prompt:!1,tag:1104},res:{ttl:k.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:k.ONE_DAY,prompt:!1,tag:1106},res:{ttl:k.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:k.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:k.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:k.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:k.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:k.ONE_DAY,prompt:!1,tag:1112},res:{ttl:k.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:k.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:k.THIRTY_SECONDS,prompt:!1,tag:1115}}},eB={min:k.FIVE_MINUTES,max:k.SEVEN_DAYS},pn="request",po=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];pp=Object.defineProperty,pq=Object.defineProperties,pr=Object.getOwnPropertyDescriptors,ka=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,pu=Object.prototype.propertyIsEnumerable,j$=(a,b,c)=>b in a?pp(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,ad=(c,b)=>{var a;for(a in b||(b={}))pt.call(b,a)&&j$(c,a,b[a]);if(ka)for(a of ka(b))pu.call(b,a)&&j$(c,a,b[a]);return c},eE=(a,b)=>pq(a,pr(b));class py extends pO{constructor(a){super(a),this.name=pk,this.events=new I.exports,this.initialized=!1,this.ignoredPayloadTypes=[bk],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(cz)}),this.initialized=!0)},this.connect=async c=>{this.isInitialized();const i=eE(ad({},c),{requiredNamespaces:c.requiredNamespaces||{},optionalNamespaces:c.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:m,sessionProperties:g,relays:l}=i;let a=r,j,h=!1;if(a&&(h=this.client.core.pairing.pairings.get(a).active),!a||!h){const{topic:b,uri:c}=await this.client.core.pairing.create();a=b,j=c}const f=await this.client.core.crypto.generateKeyPair(),e=ad({requiredNamespaces:n,optionalNamespaces:m,relays:l??[{protocol:lf}],proposer:{publicKey:f,metadata:this.client.metadata}},g&&{sessionProperties:g}),{reject:o,resolve:p,done:q}=bo(k.FIVE_MINUTES,kh);if(this.events.once(z("session_connect"),async({error:c,session:b})=>{if(c)o(c);else if(b){b.self.publicKey=f;const c=eE(ad({},b),{requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces});await this.client.session.set(b.topic,c),await this.setExpiry(b.topic,b.expiry),a&&await this.client.core.pairing.updateMetadata({topic:a,metadata:b.peer.metadata}),p(c)}}),!a){const{message:c}=b("NO_MATCHING_KEY",`connect() pairing topic: ${a}`);throw new Error(c)}const d=await this.sendRequest(a,"wc_sessionPropose",e),s=af(k.FIVE_MINUTES);return await this.setProposal(d,ad({id:d,expiry:s},e)),{uri:j,approval:q}},this.pair=async a=>(this.isInitialized(),await this.client.core.pairing.pair(a)),this.approve=async h=>{this.isInitialized(),await this.isValidApprove(h);const{id:c,relayProtocol:k,namespaces:j,sessionProperties:i}=h,n=this.client.proposal.get(c);let{pairingTopic:a,proposer:e,requiredNamespaces:f,optionalNamespaces:m}=n;a=a||"",bx(f)||(f=tm(j,"approve()"));const d=await this.client.core.crypto.generateKeyPair(),l=e.publicKey,b=await this.client.core.crypto.generateSharedKey(d,l);a&&c&&(await this.client.core.pairing.updateMetadata({topic:a,metadata:e.metadata}),await this.sendResult(c,a,{relay:{protocol:k??"irn"},responderPublicKey:d}),await this.client.proposal.delete(c,x("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:a}));const g=ad({relay:{protocol:k??"irn"},namespaces:j,requiredNamespaces:f,optionalNamespaces:m,pairingTopic:a,controller:{publicKey:d,metadata:this.client.metadata},expiry:af(dO)},i&&{sessionProperties:i});await this.client.core.relayer.subscribe(b),await this.sendRequest(b,"wc_sessionSettle",g);const o=eE(ad({},g),{topic:b,pairingTopic:a,acknowledged:!1,self:g.controller,peer:{publicKey:e.publicKey,metadata:e.metadata},controller:d});return await this.client.session.set(b,o),await this.setExpiry(b,af(dO)),{topic:b,acknowledged:()=>new Promise(a=>setTimeout(()=>a(this.client.session.get(b)),500))}},this.reject=async b=>{this.isInitialized(),await this.isValidReject(b);const{id:a,reason:d}=b,{pairingTopic:c}=this.client.proposal.get(a);c&&(await this.sendError(a,c,d),await this.client.proposal.delete(a,x("USER_DISCONNECTED")))},this.update=async a=>{this.isInitialized(),await this.isValidUpdate(a);const{topic:b,namespaces:c}=a,d=await this.sendRequest(b,"wc_sessionUpdate",{namespaces:c}),{done:e,resolve:f,reject:g}=bo();return this.events.once(z("session_update",d),({error:a})=>{a?g(a):f()}),await this.client.session.update(b,{namespaces:c}),{acknowledged:e}},this.extend=async a=>{this.isInitialized(),await this.isValidExtend(a);const{topic:b}=a,c=await this.sendRequest(b,"wc_sessionExtend",{}),{done:d,resolve:e,reject:f}=bo();return this.events.once(z("session_extend",c),({error:a})=>{a?f(a):e()}),await this.setExpiry(b,af(dO)),{acknowledged:d}},this.request=async a=>{this.isInitialized(),await this.isValidRequest(a);const{chainId:b,request:c,topic:d,expiry:e}=a,f=await this.sendRequest(d,"wc_sessionRequest",{request:c,chainId:b},e),{done:g,resolve:h,reject:i}=bo(e);return this.events.once(z("session_request",f),({error:a,result:b})=>{a?i(a):h(b)}),this.client.events.emit("session_request_sent",{topic:d,request:c,chainId:b,id:f}),await g()},this.respond=async b=>{this.isInitialized(),await this.isValidRespond(b);const{topic:c,response:a}=b,{id:d}=a;ar(a)?await this.sendResult(d,c,a.result):ae(a)&&await this.sendError(d,c,a.error),this.deletePendingSessionRequest(b.response.id,{message:"fulfilled",code:0})},this.ping=async b=>{this.isInitialized(),await this.isValidPing(b);const{topic:a}=b;if(this.client.session.keys.includes(a)){const b=await this.sendRequest(a,"wc_sessionPing",{}),{done:c,resolve:d,reject:e}=bo();this.events.once(z("session_ping",b),({error:a})=>{a?e(a):d()}),await c()}else this.client.core.pairing.pairings.keys.includes(a)&&await this.client.core.pairing.ping({topic:a})},this.emit=async a=>{this.isInitialized(),await this.isValidEmit(a);const{topic:b,event:c,chainId:d}=a;await this.sendRequest(b,"wc_sessionEvent",{event:c,chainId:d})},this.disconnect=async b=>{this.isInitialized(),await this.isValidDisconnect(b);const{topic:a}=b;this.client.session.keys.includes(a)?(await this.sendRequest(a,"wc_sessionDelete",x("USER_DISCONNECTED")),await this.deleteSession(a)):await this.client.core.pairing.disconnect({topic:a})},this.find=a=>(this.isInitialized(),this.client.session.getAll().filter(b=>tj(b,a))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async a=>{try{const c=this.client.core.pairing.pairings.get(a.pairingTopic),b=this.client.core.pairing.pairings.getAll().filter(b=>{var d,e;return((d=b.peerMetadata)==null?void 0:d.url)&&((e=b.peerMetadata)==null?void 0:e.url)===a.self.metadata.url&&b.topic!==c.topic});if(b.length===0)return;this.client.logger.info(`Cleaning up ${b.length} duplicate pairing(s)`),await Promise.all(b.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(a){this.client.logger.error(a)}},this.deleteSession=async(a,b)=>{const{self:c}=this.client.session.get(a);await this.client.core.relayer.unsubscribe(a),await Promise.all([this.client.session.delete(a,x("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.deleteSymKey(a),b?Promise.resolve():this.client.core.expirer.del(a)])},this.deleteProposal=async(a,b)=>{await Promise.all([this.client.proposal.delete(a,x("USER_DISCONNECTED")),b?Promise.resolve():this.client.core.expirer.del(a)])},this.deletePendingSessionRequest=async(a,b,c=!1)=>{await Promise.all([this.client.pendingRequest.delete(a,b),c?Promise.resolve():this.client.core.expirer.del(a)])},this.setExpiry=async(a,b)=>{this.client.session.keys.includes(a)&&await this.client.session.update(a,{expiry:b}),this.client.core.expirer.set(a,b)},this.setProposal=async(a,b)=>{await this.client.proposal.set(a,b),this.client.core.expirer.set(a,b.expiry)},this.setPendingSessionRequest=async c=>{const b=cz.wc_sessionRequest.req.ttl,{id:a,topic:d,params:e}=c;await this.client.pendingRequest.set(a,{id:a,topic:d,params:e}),b&&this.client.core.expirer.set(a,af(b))},this.sendRequest=async(b,c,f,d)=>{const a=dT(c,f);if(fy()&&po.includes(c)){const b=bm(JSON.stringify(a));await this.client.core.verify.register({attestationId:b})}const g=await this.client.core.crypto.encode(b,a),e=cz[c].req;return d&&(e.ttl=d),this.client.core.history.set(b,a),this.client.core.relayer.publish(b,g,e),a.id},this.sendResult=async(b,a,d)=>{const c=ei(b,d),e=await this.client.core.crypto.encode(a,c),f=await this.client.core.history.get(a,b),g=cz[f.request.method].res;this.client.core.relayer.publish(a,e,g),await this.client.core.history.resolve(c)},this.sendError=async(b,a,d)=>{const c=dU(b,d),e=await this.client.core.crypto.encode(a,c),f=await this.client.core.history.get(a,b),g=cz[f.request.method].res;this.client.core.relayer.publish(a,e,g),await this.client.core.history.resolve(c)},this.cleanup=async()=>{const a=[],b=[];this.client.session.getAll().forEach(b=>{aC(b.expiry)&&a.push(b.topic)}),this.client.proposal.getAll().forEach(a=>{aC(a.expiry)&&b.push(a.id)}),await Promise.all([...a.map(a=>this.deleteSession(a)),...b.map(a=>this.deleteProposal(a))])},this.onRelayEventRequest=d=>{const{topic:b,payload:a}=d,c=a.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeRequest(b,a);case"wc_sessionSettle":return this.onSessionSettleRequest(b,a);case"wc_sessionUpdate":return this.onSessionUpdateRequest(b,a);case"wc_sessionExtend":return this.onSessionExtendRequest(b,a);case"wc_sessionPing":return this.onSessionPingRequest(b,a);case"wc_sessionDelete":return this.onSessionDeleteRequest(b,a);case"wc_sessionRequest":return this.onSessionRequest(b,a);case"wc_sessionEvent":return this.onSessionEventRequest(b,a);default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async d=>{const{topic:a,payload:b}=d,c=(await this.client.core.history.get(a,b.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(a,b);case"wc_sessionSettle":return this.onSessionSettleResponse(a,b);case"wc_sessionUpdate":return this.onSessionUpdateResponse(a,b);case"wc_sessionExtend":return this.onSessionExtendResponse(a,b);case"wc_sessionPing":return this.onSessionPingResponse(a,b);case"wc_sessionRequest":return this.onSessionRequestResponse(a,b);default:return this.client.logger.info(`Unsupported response method ${c}`)}},this.onSessionProposeRequest=async(c,b)=>{const{params:d,id:a}=b;try{this.isValidConnect(ad({},b.params));const f=af(k.FIVE_MINUTES),e=ad({id:a,pairingTopic:c,expiry:f},d);await this.setProposal(a,e);const g=bm(JSON.stringify(b)),h=await this.getVerifyContext(g,e.proposer.metadata);this.client.events.emit("session_proposal",{id:a,params:e,verifyContext:h})}catch(b){await this.sendError(a,c,b),this.client.logger.error(b)}},this.onSessionProposeResponse=async(c,a)=>{const{id:b}=a;if(ar(a)){const{result:d}=a;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:d});const e=this.client.proposal.get(b);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:e});const f=e.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});const g=d.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:g});const h=await this.client.core.crypto.generateSharedKey(f,g);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});const i=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:i}),await this.client.core.pairing.activate({topic:c})}else ae(a)&&(await this.client.proposal.delete(b,x("USER_DISCONNECTED")),this.events.emit(z("session_connect"),{error:a.error}))},this.onSessionSettleRequest=async(a,b)=>{const{id:c,params:d}=b;try{this.isValidSessionSettleRequest(d);const{relay:j,controller:c,expiry:l,namespaces:g,requiredNamespaces:h,optionalNamespaces:i,sessionProperties:e,pairingTopic:k}=b.params,f=ad({topic:a,relay:j,expiry:l,namespaces:g,acknowledged:!0,pairingTopic:k,requiredNamespaces:h,optionalNamespaces:i,controller:c.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},e&&{sessionProperties:e});await this.sendResult(b.id,a,!0),this.events.emit(z("session_connect"),{session:f}),this.cleanupDuplicatePairings(f)}catch(b){await this.sendError(c,a,b),this.client.logger.error(b)}},this.onSessionSettleResponse=async(b,a)=>{const{id:c}=a;ar(a)?(await this.client.session.update(b,{acknowledged:!0}),this.events.emit(z("session_approve",c),{})):ae(a)&&(await this.client.session.delete(b,x("USER_DISCONNECTED")),this.events.emit(z("session_approve",c),{error:a.error}))},this.onSessionUpdateRequest=async(a,d)=>{const{params:b,id:c}=d;try{this.isValidUpdate(ad({topic:a},b)),await this.client.session.update(a,{namespaces:b.namespaces}),await this.sendResult(c,a,!0),this.client.events.emit("session_update",{id:c,topic:a,params:b})}catch(b){await this.sendError(c,a,b),this.client.logger.error(b)}},this.onSessionUpdateResponse=(c,a)=>{const{id:b}=a;ar(a)?this.events.emit(z("session_update",b),{}):ae(a)&&this.events.emit(z("session_update",b),{error:a.error})},this.onSessionExtendRequest=async(a,c)=>{const{id:b}=c;try{this.isValidExtend({topic:a}),await this.setExpiry(a,af(dO)),await this.sendResult(b,a,!0),this.client.events.emit("session_extend",{id:b,topic:a})}catch(c){await this.sendError(b,a,c),this.client.logger.error(c)}},this.onSessionExtendResponse=(c,a)=>{const{id:b}=a;ar(a)?this.events.emit(z("session_extend",b),{}):ae(a)&&this.events.emit(z("session_extend",b),{error:a.error})},this.onSessionPingRequest=async(a,c)=>{const{id:b}=c;try{this.isValidPing({topic:a}),await this.sendResult(b,a,!0),this.client.events.emit("session_ping",{id:b,topic:a})}catch(c){await this.sendError(b,a,c),this.client.logger.error(c)}},this.onSessionPingResponse=(c,a)=>{const{id:b}=a;setTimeout(()=>{ar(a)?this.events.emit(z("session_ping",b),{}):ae(a)&&this.events.emit(z("session_ping",b),{error:a.error})},500)},this.onSessionDeleteRequest=async(a,c)=>{const{id:b}=c;try{this.isValidDisconnect({topic:a,reason:c.params}),await Promise.all([new Promise(b=>{this.client.core.relayer.once(A.publish,async()=>{b(await this.deleteSession(a))})}),this.sendResult(b,a,!0)]),this.client.events.emit("session_delete",{id:b,topic:a})}catch(c){await this.sendError(b,a,c),this.client.logger.error(c)}},this.onSessionRequest=async(a,d)=>{const{id:b,params:c}=d;try{this.isValidRequest(ad({topic:a},c)),await this.setPendingSessionRequest({id:b,topic:a,params:c});const e=bm(JSON.stringify(d)),f=this.client.session.get(a),g=await this.getVerifyContext(e,f.peer.metadata);this.client.events.emit("session_request",{id:b,topic:a,params:c,verifyContext:g})}catch(c){await this.sendError(b,a,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(c,a)=>{const{id:b}=a;ar(a)?this.events.emit(z("session_request",b),{result:a.result}):ae(a)&&this.events.emit(z("session_request",b),{error:a.error})},this.onSessionEventRequest=async(a,d)=>{const{id:b,params:c}=d;try{this.isValidEmit(ad({topic:a},c)),this.client.events.emit("session_event",{id:b,topic:a,params:c})}catch(c){await this.sendError(b,a,c),this.client.logger.error(c)}},this.isValidConnect=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(a)}`);throw new Error(c)}const{pairingTopic:e,requiredNamespaces:c,optionalNamespaces:d,sessionProperties:f,relays:g}=a;if(R(e)||await this.isValidPairingTopic(e),!sY(g,!0)){const{message:a}=b("MISSING_OR_INVALID",`connect() relays: ${g}`);throw new Error(a)}!R(c)&&bx(c)!==0&&this.validateNamespaces(c,"requiredNamespaces"),!R(d)&&bx(d)!==0&&this.validateNamespaces(d,"optionalNamespaces"),R(f)||this.validateSessionProps(f,"sessionProperties")},this.validateNamespaces=(b,c)=>{const a=s_(b,"connect()",c);if(a)throw new Error(a.message)},this.isValidApprove=async a=>{if(!V(a))throw new Error(b("MISSING_OR_INVALID",`approve() params: ${a}`).message);const{id:c,namespaces:d,relayProtocol:e,sessionProperties:f}=a;await this.isValidProposalId(c);const i=this.client.proposal.get(c),g=cQ(d,"approve()");if(g)throw new Error(g.message);const h=gW(i.requiredNamespaces,d,"approve()");if(h)throw new Error(h.message);if(!D(e,!0)){const{message:a}=b("MISSING_OR_INVALID",`approve() relayProtocol: ${e}`);throw new Error(a)}R(f)||this.validateSessionProps(f,"sessionProperties")},this.isValidReject=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`reject() params: ${a}`);throw new Error(c)}const{id:d,reason:c}=a;if(await this.isValidProposalId(d),!sW(c)){const{message:a}=b("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(c)}`);throw new Error(a)}},this.isValidSessionSettleRequest=a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${a}`);throw new Error(c)}const{relay:e,controller:f,namespaces:g,expiry:h}=a;if(!gL(e)){const{message:a}=b("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(a)}const c=te(f,"onSessionSettleRequest()");if(c)throw new Error(c.message);const d=cQ(g,"onSessionSettleRequest()");if(d)throw new Error(d.message);if(aC(h)){const{message:a}=b("EXPIRED","onSessionSettleRequest()");throw new Error(a)}},this.isValidUpdate=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`update() params: ${a}`);throw new Error(c)}const{topic:c,namespaces:d}=a;await this.isValidSessionTopic(c);const g=this.client.session.get(c),e=cQ(d,"update()");if(e)throw new Error(e.message);const f=gW(g.requiredNamespaces,d,"update()");if(f)throw new Error(f.message)},this.isValidExtend=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`extend() params: ${a}`);throw new Error(c)}const{topic:c}=a;await this.isValidSessionTopic(c)},this.isValidRequest=async c=>{if(!V(c)){const{message:a}=b("MISSING_OR_INVALID",`request() params: ${c}`);throw new Error(a)}const{topic:f,request:a,chainId:d,expiry:e}=c;await this.isValidSessionTopic(f);const{namespaces:g}=this.client.session.get(f);if(!gT(g,d)){const{message:a}=b("MISSING_OR_INVALID",`request() chainId: ${d}`);throw new Error(a)}if(!sV(a)){const{message:c}=b("MISSING_OR_INVALID",`request() ${JSON.stringify(a)}`);throw new Error(c)}if(!sR(g,d,a.method)){const{message:c}=b("MISSING_OR_INVALID",`request() method: ${a.method}`);throw new Error(c)}if(e&&!sN(e,eB)){const{message:a}=b("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${eB.min} and ${eB.max}`);throw new Error(a)}},this.isValidRespond=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`respond() params: ${a}`);throw new Error(c)}const{topic:d,response:c}=a;if(await this.isValidSessionTopic(d),!sT(c)){const{message:a}=b("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(c)}`);throw new Error(a)}},this.isValidPing=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`ping() params: ${a}`);throw new Error(c)}const{topic:c}=a;await this.isValidSessionOrPairingTopic(c)},this.isValidEmit=async c=>{if(!V(c)){const{message:a}=b("MISSING_OR_INVALID",`emit() params: ${c}`);throw new Error(a)}const{topic:e,event:a,chainId:d}=c;await this.isValidSessionTopic(e);const{namespaces:f}=this.client.session.get(e);if(!gT(f,d)){const{message:a}=b("MISSING_OR_INVALID",`emit() chainId: ${d}`);throw new Error(a)}if(!sS(a)){const{message:c}=b("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(a)}`);throw new Error(c)}if(!sQ(f,d,a.name)){const{message:c}=b("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(a)}`);throw new Error(c)}},this.isValidDisconnect=async a=>{if(!V(a)){const{message:c}=b("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw new Error(c)}const{topic:c}=a;await this.isValidSessionOrPairingTopic(c)},this.getVerifyContext=async(c,a)=>{const b={verified:{verifyUrl:a.verifyUrl||"",validation:"UNKNOWN",origin:a.url||""}};try{const d=await this.client.core.verify.resolve({attestationId:c,verifyUrl:a.verifyUrl});d&&(b.verified.origin=d,b.verified.validation=d===a.url?"VALID":"INVALID")}catch(a){this.client.logger.error(a)}return this.client.logger.info(`Verify context: ${JSON.stringify(b)}`),b},this.validateSessionProps=(a,c)=>{Object.values(a).forEach(a=>{if(!D(a,!1)){const{message:d}=b("MISSING_OR_INVALID",`${c} must be in Record<string, string> format. Received: ${JSON.stringify(a)}`);throw new Error(d)}})}}isInitialized(){if(!this.initialized){const{message:a}=b("NOT_INITIALIZED",this.name);throw new Error(a)}}registerRelayerEvents(){this.client.core.relayer.on(A.message,async d=>{const{topic:b,message:c}=d;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(c)))return;const a=await this.client.core.crypto.decode(b,c);ef(a)?(this.client.core.history.set(b,a),this.onRelayEventRequest({topic:b,payload:a})):dW(a)&&(await this.client.core.history.resolve(a),this.onRelayEventResponse({topic:b,payload:a}))})}registerExpirerEvents(){this.client.core.expirer.on(ab.expired,async d=>{const{topic:c,id:a}=ia(d.target);if(a&&this.client.pendingRequest.keys.includes(a))return await this.deletePendingSessionRequest(a,b("EXPIRED"),!0);c?this.client.session.keys.includes(c)&&(await this.deleteSession(c,!0),this.client.events.emit("session_expire",{topic:c})):a&&(await this.deleteProposal(a,!0),this.client.events.emit("proposal_expire",{id:a}))})}isValidPairingTopic(a){if(!D(a,!1)){const{message:c}=b("MISSING_OR_INVALID",`pairing topic should be a string: ${a}`);throw new Error(c)}if(!this.client.core.pairing.pairings.keys.includes(a)){const{message:c}=b("NO_MATCHING_KEY",`pairing topic doesn't exist: ${a}`);throw new Error(c)}if(aC(this.client.core.pairing.pairings.get(a).expiry)){const{message:c}=b("EXPIRED",`pairing topic: ${a}`);throw new Error(c)}}async isValidSessionTopic(a){if(!D(a,!1)){const{message:c}=b("MISSING_OR_INVALID",`session topic should be a string: ${a}`);throw new Error(c)}if(!this.client.session.keys.includes(a)){const{message:c}=b("NO_MATCHING_KEY",`session topic doesn't exist: ${a}`);throw new Error(c)}if(aC(this.client.session.get(a).expiry)){await this.deleteSession(a);const{message:c}=b("EXPIRED",`session topic: ${a}`);throw new Error(c)}}async isValidSessionOrPairingTopic(a){if(this.client.session.keys.includes(a))await this.isValidSessionTopic(a);else if(this.client.core.pairing.pairings.keys.includes(a))this.isValidPairingTopic(a);else if(D(a,!1)){const{message:c}=b("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${a}`);throw new Error(c)}else{const{message:c}=b("MISSING_OR_INVALID",`session or pairing topic should be a string: ${a}`);throw new Error(c)}}async isValidProposalId(a){if(!sX(a)){const{message:c}=b("MISSING_OR_INVALID",`proposal id should be a number: ${a}`);throw new Error(c)}if(!this.client.proposal.keys.includes(a)){const{message:c}=b("NO_MATCHING_KEY",`proposal id doesn't exist: ${a}`);throw new Error(c)}if(aC(this.client.proposal.get(a).expiry)){await this.deleteProposal(a);const{message:c}=b("EXPIRED",`proposal id: ${a}`);throw new Error(c)}}}class pz extends dP{constructor(a,b){super(a,b,pg,ev),this.core=a,this.logger=b}}class pA extends dP{constructor(a,b){super(a,b,pi,ev),this.core=a,this.logger=b}}class pB extends dP{constructor(a,b){super(a,b,pn,ev,a=>a.id),this.core=a,this.logger=b}}class jX extends pP{constructor(a){super(a),this.protocol=kr,this.version=ko,this.name=ex.name,this.events=new I.exports.EventEmitter,this.on=(a,b)=>this.events.on(a,b),this.once=(a,b)=>this.events.once(a,b),this.off=(a,b)=>this.events.off(a,b),this.removeListener=(a,b)=>this.events.removeListener(a,b),this.removeAllListeners=a=>this.events.removeAllListeners(a),this.connect=async a=>{try{return await this.engine.connect(a)}catch(a){throw this.logger.error(a.message),a}},this.pair=async a=>{try{return await this.engine.pair(a)}catch(a){throw this.logger.error(a.message),a}},this.approve=async a=>{try{return await this.engine.approve(a)}catch(a){throw this.logger.error(a.message),a}},this.reject=async a=>{try{return await this.engine.reject(a)}catch(a){throw this.logger.error(a.message),a}},this.update=async a=>{try{return await this.engine.update(a)}catch(a){throw this.logger.error(a.message),a}},this.extend=async a=>{try{return await this.engine.extend(a)}catch(a){throw this.logger.error(a.message),a}},this.request=async a=>{try{return await this.engine.request(a)}catch(a){throw this.logger.error(a.message),a}},this.respond=async a=>{try{return await this.engine.respond(a)}catch(a){throw this.logger.error(a.message),a}},this.ping=async a=>{try{return await this.engine.ping(a)}catch(a){throw this.logger.error(a.message),a}},this.emit=async a=>{try{return await this.engine.emit(a)}catch(a){throw this.logger.error(a.message),a}},this.disconnect=async a=>{try{return await this.engine.disconnect(a)}catch(a){throw this.logger.error(a.message),a}},this.find=a=>{try{return this.engine.find(a)}catch(a){throw this.logger.error(a.message),a}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(a){throw this.logger.error(a.message),a}},this.name=a?.name||ex.name,this.metadata=a?.metadata||tX();const b=typeof a?.logger<"u"&&typeof a?.logger!="string"?a.logger:q.pino(q.getDefaultLoggerOptions({level:a?.logger||ex.logger}));this.core=a?.core||new pa(a),this.logger=q.generateChildLogger(b,this.name),this.session=new pA(this.core,this.logger),this.proposal=new pz(this.core,this.logger),this.pendingRequest=new pB(this.core,this.logger),this.engine=new py(this)}static async init(b){const a=new jX(b);return await a.initialize(),a}get context(){return q.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(a){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(a.message),a}}}eF={exports:{}},function(e,a){var d=typeof self<"u"?self:am,c=function(){function a(){this.fetch=!1,this.DOMException=d.DOMException}return a.prototype=d,new a}(),b;(function(a){(function(c){var d={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a},t,q,o,x;function w(a){return a&&DataView.prototype.isPrototypeOf(a)}d.arrayBuffer&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],q=ArrayBuffer.isView||function(a){return a&&t.indexOf(Object.prototype.toString.call(a))>-1});function g(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function m(a){return typeof a!="string"&&(a=String(a)),a}function i(b){var a={next:function(){var a=b.shift();return{done:a===void 0,value:a}}};return d.iterable&&(a[Symbol.iterator]=function(){return a}),a}function b(a){this.map={},a instanceof b?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}b.prototype.append=function(a,b){a=g(a),b=m(b);var c=this.map[a];this.map[a]=c?c+", "+b:b},b.prototype.delete=function(a){delete this.map[g(a)]},b.prototype.get=function(a){return a=g(a),this.has(a)?this.map[a]:null},b.prototype.has=function(a){return this.map.hasOwnProperty(g(a))},b.prototype.set=function(a,b){this.map[g(a)]=m(b)},b.prototype.forEach=function(b,c){for(var a in this.map)this.map.hasOwnProperty(a)&&b.call(c,this.map[a],a,this)},b.prototype.keys=function(){var a=[];return this.forEach(function(c,b){a.push(b)}),i(a)},b.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),i(a)},b.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),i(a)},d.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function h(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function l(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function r(b){var a=new FileReader,c=l(a);return a.readAsArrayBuffer(b),c}function y(b){var a=new FileReader,c=l(a);return a.readAsText(b),c}function p(d){for(var b=new Uint8Array(d),c=new Array(b.length),a=0;a<b.length;a++)c[a]=String.fromCharCode(b[a]);return c.join("")}function k(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function n(){return this.bodyUsed=!1,this._initBody=function(a){this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:d.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:d.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():d.arrayBuffer&&d.blob&&w(a)?(this._bodyArrayBuffer=k(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||q(a))?this._bodyArrayBuffer=k(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var a=h(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(r)}),this.text=function(){var a=h(this);if(a)return a;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(u)}),this.json=function(){return this.text().then(JSON.parse)},this}o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function s(a){var b=a.toUpperCase();return o.indexOf(b)>-1?b:a}function f(a,c){c=c||{};var d=c.body;if(a instanceof f){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,c.headers||(this.headers=new b(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!d&&a._bodyInit!=null&&(d=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=c.credentials||this.credentials||"same-origin",(c.headers||!this.headers)&&(this.headers=new b(c.headers)),this.method=s(c.method||this.method||"GET"),this.mode=c.mode||this.mode||null,this.signal=c.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&d)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(d)}f.prototype.clone=function(){return new f(this,{body:this._bodyInit})};function u(b){var a=new FormData;return b.trim().split("&").forEach(function(b){if(b){var c=b.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");a.append(decodeURIComponent(d),decodeURIComponent(e))}}),a}function v(c){var a=new b,d=c.replace(/\r?\n[\t ]+/g," ");return d.split(/\r?\n/).forEach(function(d){var b=d.split(":"),c=b.shift().trim(),e;c&&(e=b.join(":").trim(),a.append(c,e))}),a}n.call(f.prototype);function e(c,a){a||(a={}),this.type="default",this.status=a.status===void 0?200:a.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in a?a.statusText:"OK",this.headers=new b(a.headers),this.url=a.url||"",this._initBody(c)}n.call(e.prototype),e.prototype.clone=function(){return new e(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},e.error=function(){var a=new e(null,{status:0,statusText:""});return a.type="error",a},x=[301,302,303,307,308],e.redirect=function(b,a){if(x.indexOf(a)===-1)throw new RangeError("Invalid status code");return new e(null,{status:a,headers:{location:b}})},c.DOMException=a.DOMException;try{new c.DOMException}catch{c.DOMException=function(a,b){this.message=a,this.name=b;var c=Error(a);this.stack=c.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function j(a,b){return new Promise(function(k,i){var h=new f(a,b),g;if(h.signal&&h.signal.aborted)return i(new c.DOMException("Aborted","AbortError"));g=new XMLHttpRequest;function j(){g.abort()}g.onload=function(){var a={status:g.status,statusText:g.statusText,headers:v(g.getAllResponseHeaders()||"")},b;a.url="responseURL"in g?g.responseURL:a.headers.get("X-Request-URL"),b="response"in g?g.response:g.responseText,k(new e(b,a))},g.onerror=function(){i(new TypeError("Network request failed"))},g.ontimeout=function(){i(new TypeError("Network request failed"))},g.onabort=function(){i(new c.DOMException("Aborted","AbortError"))},g.open(h.method,h.url,!0),h.credentials==="include"?g.withCredentials=!0:h.credentials==="omit"&&(g.withCredentials=!1),"responseType"in g&&d.blob&&(g.responseType="blob"),h.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),h.signal&&(h.signal.addEventListener("abort",j),g.onreadystatechange=function(){g.readyState===4&&h.signal.removeEventListener("abort",j)}),g.send(typeof h._bodyInit>"u"?null:h._bodyInit)})}return j.polyfill=!0,a.fetch||(a.fetch=j,a.Headers=b,a.Request=f,a.Response=e),c.Headers=b,c.Request=f,c.Response=e,c.fetch=j,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(c),c.fetch.ponyfill=!0,delete c.fetch.polyfill,b=c,a=b.fetch,a.default=b.fetch,a.fetch=b.fetch,a.Headers=b.Headers,a.Request=b.Request,a.Response=b.Response,e.exports=a}(eF,eF.exports),jV=acN(eF.exports);const jU={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},jR=10;class bg{constructor(a,b=!1){if(this.url=a,this.disableProviderPing=b,this.events=new I.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!ln(a))throw new Error(`Provided URL is not compatible with HTTP connection: ${a}`);this.url=a,this.disableProviderPing=b}get connected(){return this.isAvailable}get connecting(){return this.registering}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async open(a=this.url){await this.register(a)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(a,b){this.isAvailable||await this.register();try{const b=ct(a),c=await(await jV(this.url,Object.assign(Object.assign({},jU),{body:b}))).json();this.onPayload({data:c})}catch(b){this.onError(a.id,b)}}async register(a=this.url){if(!ln(a))throw new Error(`Provided URL is not compatible with HTTP connection: ${a}`);if(this.registering){const a=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=a||this.events.listenerCount("open")>=a)&&this.events.setMaxListeners(a+1),new Promise((b,a)=>{this.events.once("register_error",b=>{this.resetMaxListeners(),a(b)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return a(new Error("HTTP connection is missing or invalid"));b()})})}this.url=a,this.registering=!0;try{if(!this.disableProviderPing){const b=ct({id:1,jsonrpc:"2.0",method:"test",params:[]});await jV(a,Object.assign(Object.assign({},jU),{body:b}))}this.onOpen()}catch(b){const a=this.parseError(b);throw this.events.emit("register_error",a),this.onClose(),a}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(a){if(typeof a.data>"u")return;const b=typeof a.data=="string"?eK(a.data):a.data;this.events.emit("payload",b)}onError(b,c){const a=this.parseError(c),d=a.message||a.toString(),e=dU(b,d);this.events.emit("payload",e)}parseError(a,b=this.url){return ku(a,b,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>jR&&this.events.setMaxListeners(jR)}}const jL="error",pJ="wss://relay.walletconnect.com",pK="wc",pL="universal_provider",jK=`${pK}@${2}:${pL}:`,pN="https://rpc.walletconnect.com/v1",az={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eM={exports:{}},function(a,b){(function(){var c,dr="4.17.21",aL=200,dq="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",dp="Invalid `variable` option passed into `_.template`",aF="__lodash_hash_undefined__",dk=500,_="__lodash_placeholder__",z=1,bA=2,N=4,H=1,aa=2,l=1,C=2,aN=4,s=8,D=16,q=32,G=64,t=128,Q=256,am=512,dj=30,di="...",dh=800,de=16,bw=1,dx=2,c_=3,B=1/0,w=9007199254740991,cZ=17976931348623157e292,Z=0/0,r=4294967295,cY=r-1,cX=r>>>1,cW=[["ary",t],["bind",l],["bindKey",C],["curry",s],["curryRight",D],["flip",am],["partial",q],["partialRight",G],["rearg",Q]],M="[object Arguments]",ag="[object Array]",cV="[object AsyncFunction]",S="[object Boolean]",T="[object Date]",cT="[object DOMException]",ae="[object Error]",ah="[object Function]",bj="[object GeneratorFunction]",p="[object Map]",O="[object Number]",cS="[object Null]",u="[object Object]",bi="[object Promise]",cQ="[object Proxy]",U="[object RegExp]",o="[object Set]",R="[object String]",af="[object Symbol]",cP="[object Undefined]",W="[object WeakMap]",cO="[object WeakSet]",V="[object ArrayBuffer]",F="[object DataView]",al="[object Float32Array]",ai="[object Float64Array]",an="[object Int8Array]",ao="[object Int16Array]",aA="[object Int32Array]",aq="[object Uint8Array]",ar="[object Uint8ClampedArray]",at="[object Uint16Array]",au="[object Uint32Array]",cN=/\b__p \+= '';/g,cM=/\b(__p \+=) '' \+/g,cK=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ba=/&(?:amp|lt|gt|quot|#39);/g,a$=/[&<>"']/g,cJ=RegExp(ba.source),cI=RegExp(a$.source),cE=/<%-([\s\S]+?)%>/g,cC=/<%([\s\S]+?)%>/g,aY=/<%=([\s\S]+?)%>/g,cB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cA=/^\w*$/,cz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aI=/[\\^$.*+?()[\]{}|]/g,cy=RegExp(aI.source),aK=/^\s+/,bE=/\s/,cx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cw=/\{\n\/\* \[wrapped with (.+)\] \*/,cu=/,? & /,cs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cq=/[()=,{}\[\]\/\s]/,cp=/\\(\\)?/g,co=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,aT=/\w*$/,cn=/^[-+]0x[0-9a-f]+$/i,cm=/^0b[01]+$/i,cl=/^\[object .+?Constructor\]$/,ck=/^0o[0-7]+$/i,cj=/^(?:0|[1-9]\d*)$/,ci=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,X=/($^)/,ch=/['\n\r\u2028\u2029\\]/g,$="\\ud800-\\udfff",cg="\\u0300-\\u036f",cf="\\ufe20-\\ufe2f",cd="\\u20d0-\\u20ff",be=cg+cf+cd,bf="\\u2700-\\u27bf",bg="a-z\\xdf-\\xf6\\xf8-\\xff",bY="\\xac\\xb1\\xd7\\xf7",bX="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bR="\\u2000-\\u206f",bM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bl="A-Z\\xc0-\\xd6\\xd8-\\xde",aX="\\ufe0e\\ufe0f",bn=bY+bX+bR+bM,aG="['\u2019]",bI="["+$+"]",bq="["+bn+"]",Y="["+be+"]",bs="\\d+",bH="["+bf+"]",bu="["+bg+"]",bv="[^"+$+bn+bs+bf+bg+bl+"]",ay="\\ud83c[\\udffb-\\udfff]",bG="(?:"+Y+"|"+ay+")",by="[^"+$+"]",ap="(?:\\ud83c[\\udde6-\\uddff]){2}",ax="[\\ud800-\\udbff][\\udc00-\\udfff]",L="["+bl+"]",bC="\\u200d",bD="(?:"+bu+"|"+bv+")",bF="(?:"+L+"|"+bv+")",bo="(?:"+aG+"(?:d|ll|m|re|s|t|ve))?",bx="(?:"+aG+"(?:D|LL|M|RE|S|T|VE))?",bt=bG+"?",bp="["+aX+"]?",bJ="(?:"+bC+"(?:"+[by,ap,ax].join("|")+")"+bp+bt+")*",bK="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bL="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bk=bp+bt+bJ,bN="(?:"+[bH,ap,ax].join("|")+")"+bk,bO="(?:"+[by+Y+"?",Y,ap,ax,bI].join("|")+")",bP=RegExp(aG,"g"),bQ=RegExp(Y,"g"),aB=RegExp(ay+"(?="+ay+")|"+bO+bk,"g"),bS=RegExp([L+"?"+bu+"+"+bo+"(?="+[bq,L,"$"].join("|")+")",bF+"+"+bx+"(?="+[bq,L+bD,"$"].join("|")+")",L+"?"+bD+"+"+bo,L+"+"+bx,bL,bK,bs,bN].join("|"),"g"),bT=RegExp("["+bC+$+be+aX+"]"),bU=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bV=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bW=-1,e={},d,bZ,b_,b$,ca,cb,cc,bd,ce,g,aw,A,aZ,aE,k,aW,aV,aU,aS,aR,aQ,cF,da,db,ds,dw,J;e[al]=e[ai]=e[an]=e[ao]=e[aA]=e[aq]=e[ar]=e[at]=e[au]=!0,e[M]=e[ag]=e[V]=e[S]=e[F]=e[T]=e[ae]=e[ah]=e[p]=e[O]=e[u]=e[U]=e[o]=e[R]=e[W]=!1,d={},d[M]=d[ag]=d[V]=d[F]=d[S]=d[T]=d[al]=d[ai]=d[an]=d[ao]=d[aA]=d[p]=d[O]=d[u]=d[U]=d[o]=d[R]=d[af]=d[aq]=d[ar]=d[at]=d[au]=!0,d[ae]=d[ah]=d[W]=!1,bZ={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},b_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},b$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ca={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cb=parseFloat,cc=parseInt,bd=typeof cr=="object"&&cr&&cr.Object===Object&&cr,ce=typeof self=="object"&&self&&self.Object===Object&&self,g=bd||ce||Function("return this")(),aw=b&&!b.nodeType&&b,A=aw&&!0&&a&&!a.nodeType&&a,aZ=A&&A.exports===aw,aE=aZ&&bd.process,k=function(){try{var a=A&&A.require&&A.require("util").types;return a||aE&&aE.binding&&aE.binding("util")}catch{}}(),aW=k&&k.isArrayBuffer,aV=k&&k.isDate,aU=k&&k.isMap,aS=k&&k.isRegExp,aR=k&&k.isSet,aQ=k&&k.isTypedArray;function h(b,c,a){switch(a.length){case 0:return b.call(c);case 1:return b.call(c,a[0]);case 2:return b.call(c,a[0],a[1]);case 3:return b.call(c,a[0],a[1],a[2])}return b.apply(c,a)}function ct(a,e,f,b){for(var c=-1,g=a==null?0:a.length,d;++c<g;)d=a[c],e(b,d,f(d),a);return b}function j(a,c){for(var b=-1,d=a==null?0:a.length;++b<d&&c(a[b],b,a)!==!1;);return a}function cv(a,c){for(var b=a==null?0:a.length;b--&&c(a[b],b,a)!==!1;);return a}function aO(a,c){for(var b=-1,d=a==null?0:a.length;++b<d;)if(!c(a[b],b,a))return!1;return!0}function v(a,e){for(var b=-1,f=a==null?0:a.length,g=0,c=[],d;++b<f;)d=a[b],e(d,b,a)&&(c[g++]=d);return c}function ac(a,b){var c=a==null?0:a.length;return!!c&&I(a,b,0)>-1}function aH(a,c,d){for(var b=-1,e=a==null?0:a.length;++b<e;)if(d(c,a[b]))return!0;return!1}function f(a,e){for(var b=-1,c=a==null?0:a.length,d=Array(c);++b<c;)d[b]=e(a[b],b,a);return d}function y(a,c){for(var b=-1,d=c.length,e=a.length;++b<d;)a[e+b]=c[b];return a}function aD(a,e,b,f){var c=-1,d=a==null?0:a.length;for(f&&d&&(b=a[++c]);++c<d;)b=e(b,a[c],c,a);return b}function cD(a,d,c,e){var b=a==null?0:a.length;for(e&&b&&(c=a[--b]);b--;)c=d(c,a[b],b,a);return c}function aC(a,c){for(var b=-1,d=a==null?0:a.length;++b<d;)if(c(a[b],b,a))return!0;return!1}cF=aj("length");function cG(a){return a.split("")}function cH(a){return a.match(cs)||[]}function a_(b,c,d){var a;return d(b,function(d,b,e){if(c(d,b,e))return a=b,!1}),a}function ad(b,d,e,c){for(var f=b.length,a=e+(c?1:-1);c?a--:++a<f;)if(d(b[a],a,b))return a;return-1}function I(b,a,c){return a===a?dm(b,a,c):ad(b,bb,c)}function cL(b,c,d,e){for(var a=d-1,f=b.length;++a<f;)if(e(b[a],c))return a;return-1}function bb(a){return a!==a}function bc(a,c){var b=a==null?0:a.length;return b?az(a,c)/b:Z}function aj(a){return function(b){return b==null?c:b[a]}}function ak(a){return function(b){return a==null?c:a[b]}}function bh(c,d,a,b,e){return e(c,function(c,e,f){a=b?(b=!1,c):d(a,c,e,f)}),a}function cR(a,c){var b=a.length;for(a.sort(c);b--;)a[b]=a[b].value;return a}function az(d,f){for(var a,e=-1,g=d.length,b;++e<g;)b=f(d[e]),b!==c&&(a=a===c?b:a+b);return a}function aJ(b,d){for(var a=-1,c=Array(b);++a<b;)c[a]=d(a);return c}function cU(a,b){return f(b,function(b){return[b,a[b]]})}function aP(a){return a&&a.slice(0,bB(a)+1).replace(aK,"")}function i(a){return function(b){return a(b)}}function aM(a,b){return f(b,function(b){return a[b]})}function P(a,b){return a.has(b)}function bm(b,c){for(var a=-1,d=b.length;++a<d&&I(c,b[a],0)>-1;);return a}function br(b,c){for(var a=b.length;a--&&I(c,b[a],0)>-1;);return a}function c$(a,d){for(var b=a.length,c=0;b--;)a[b]===d&&++c;return c}da=ak(bZ),db=ak(b_);function dc(a){return"\\"+ca[a]}function dd(a,b){return a==null?c:a[b]}function E(a){return bT.test(a)}function df(a){return bU.test(a)}function dg(c){for(var a,b=[];!(a=c.next()).done;)b.push(a.value);return b}function av(a){var c=-1,b=Array(a.size);return a.forEach(function(a,d){b[++c]=[d,a]}),b}function bz(a,b){return function(c){return a(b(c))}}function x(b,e){for(var a=-1,f=b.length,g=0,c=[],d;++a<f;)d=b[a],(d===e||d===_)&&(b[a]=_,c[g++]=a);return c}function ab(a){var c=-1,b=Array(a.size);return a.forEach(function(a){b[++c]=a}),b}function dl(a){var c=-1,b=Array(a.size);return a.forEach(function(a){b[++c]=[a,a]}),b}function dm(b,c,d){for(var a=d-1,e=b.length;++a<e;)if(b[a]===c)return a;return-1}function dn(b,c,d){for(var a=d+1;a--;)if(b[a]===c)return a;return a}function K(a){return E(a)?dt(a):cF(a)}function n(a){return E(a)?du(a):cG(a)}function bB(b){for(var a=b.length;a--&&bE.test(b.charAt(a)););return a}ds=ak(b$);function dt(b){for(var a=aB.lastIndex=0;aB.test(b);)++a;return a}function du(a){return a.match(aB)||[]}function dv(a){return a.match(bS)||[]}dw=function lL(ap){var aE,dI,ek,fI,cF,aw,ex,iX,bt,dU,iL,cs,dH,eb,ak,iD,fn,d$,iA,ix,iw,dP,bN,dJ,eP,dO,eO,eS,dL,eU,dA,bX,dM,iq,ip,im,dQ,dR,ep,ii,fj,ih,ig,aG,bd,ia,hY,fw,hX,ee,dz,ef,ca,dy,dw,dY,cg,hS,hR,hQ,hL,hK,dS,dF,fE,ce,bI,eW,eE,eT,fz,gg,fT,fN,gD,eC,ez,fb,be,hm,fH,dD,eG,fP,hM,hN,hO,ib,ic,id,ij,io,iF,iG,iH,iN,iO,iP,iQ,iR,iU,iY,fS,iW,iT,iJ,iI,iE,iC,iB,dT,ev,fa,is,ir,il,en,fl,ie,h$,hZ,b$,k,hT,bL,hP,fC,ei,fr,dm,hb,g$,gm,fx,dW,gb,f_,fZ,fY,gh,gi,gj,gw,fe,gI,gL,eZ,eY,gO,gS,gT,gv,gW,gX,hd,eo,fi,hg,hj,hk,hl,hn,hq,hs,ht,hx,hy,hz,hA,hD,hE,hF,hG,hH;ap=ap==null?g:J.defaults(g.Object(),ap,J.pick(g,bV)),aE=ap.Array,dI=ap.Date,ek=ap.Error,fI=ap.Function,cF=ap.Math,aw=ap.Object,ex=ap.RegExp,iX=ap.String,bt=ap.TypeError,dU=aE.prototype,iL=fI.prototype,cs=aw.prototype,dH=ap["__core-js_shared__"],eb=iL.toString,ak=cs.hasOwnProperty,iD=0,fn=function(){var a=/[^.]+$/.exec(dH&&dH.keys&&dH.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),d$=cs.toString,iA=eb.call(aw),ix=g._,iw=ex("^"+eb.call(ak).replace(aI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dP=aZ?ap.Buffer:c,bN=ap.Symbol,dJ=ap.Uint8Array,eP=dP?dP.allocUnsafe:c,dO=bz(aw.getPrototypeOf,aw),eO=aw.create,eS=cs.propertyIsEnumerable,dL=dU.splice,eU=bN?bN.isConcatSpreadable:c,dA=bN?bN.iterator:c,bX=bN?bN.toStringTag:c,dM=function(){try{var a=cd(aw,"defineProperty");return a({},"",{}),a}catch{}}(),iq=ap.clearTimeout!==g.clearTimeout&&ap.clearTimeout,ip=dI&&dI.now!==g.Date.now&&dI.now,im=ap.setTimeout!==g.setTimeout&&ap.setTimeout,dQ=cF.ceil,dR=cF.floor,ep=aw.getOwnPropertySymbols,ii=dP?dP.isBuffer:c,fj=ap.isFinite,ih=dU.join,ig=bz(aw.keys,aw),aG=cF.max,bd=cF.min,ia=dI.now,hY=ap.parseInt,fw=cF.random,hX=dU.reverse,ee=cd(ap,"DataView"),dz=cd(ap,"Map"),ef=cd(ap,"Promise"),ca=cd(ap,"Set"),dy=cd(ap,"WeakMap"),dw=cd(aw,"create"),dY=dy&&new dy,cg={},hS=cr(ee),hR=cr(dz),hQ=cr(ef),hL=cr(ca),hK=cr(dy),dS=bN?bN.prototype:c,dF=dS?dS.valueOf:c,fE=dS?dS.toString:c;function a(a){if(ay(a)&&!k(a)&&!(a instanceof Y)){if(a instanceof bu)return a;if(ak.call(a,"__wrapped__"))return hI(a)}return new bu(a)}ce=function(){function a(){}return function(b){if(!ax(b))return{};if(eO)return eO(b);a.prototype=b;var d=new a;return a.prototype=c,d}}();function eB(){}function bu(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=c}a.templateSettings={escape:cE,evaluate:cC,interpolate:aY,variable:"",imports:{_:a}},a.prototype=eB.prototype,a.prototype.constructor=a,bu.prototype=ce(eB.prototype),bu.prototype.constructor=bu;function Y(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=r,this.__views__=[]}function np(){var a=new Y(this.__wrapped__);return a.__actions__=bl(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=bl(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=bl(this.__views__),a}function no(){if(this.__filtered__){var a=new Y(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function iZ(){var b=this.__wrapped__.value(),r=this.__dir__,l=k(b),i=r<0,e=l?b.length:0,f=kW(0,e,this.__views__),g=f.start,h=f.end,a=h-g,j=i?h:g-1,d=this.__iteratees__,v=d.length,n=0,o=bd(a,this.__takeCount__),p,q,c,s,u,m,t;if(!l||!i&&e==a&&o==a)return fV(b,this.__actions__);p=[];e:for(;a--&&n<o;){j+=r;for(q=-1,c=b[j];++q<v;)if(s=d[q],u=s.iteratee,m=s.type,t=u(c),m==dx)c=t;else if(!t){if(m==bw)continue e;break e}p[n++]=c}return p}Y.prototype=ce(eB.prototype),Y.prototype.constructor=Y;function dt(a){var b=-1,d=a==null?0:a.length,c;for(this.clear();++b<d;)c=a[b],this.set(c[0],c[1])}function nn(){this.__data__=dw?dw(null):{},this.size=0}function ng(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function nf(a){var b=this.__data__,d;return dw?(d=b[a],d===aF?c:d):ak.call(b,a)?b[a]:c}function ne(a){var b=this.__data__;return dw?b[a]!==c:ak.call(b,a)}function nd(a,b){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=dw&&b===c?aF:b,this}dt.prototype.clear=nn,dt.prototype.delete=ng,dt.prototype.get=nf,dt.prototype.has=ne,dt.prototype.set=nd;function bT(a){var b=-1,d=a==null?0:a.length,c;for(this.clear();++b<d;)c=a[b],this.set(c[0],c[1])}function mY(){this.__data__=[],this.size=0}function mX(c){var a=this.__data__,b=el(a,c),d;return!(b<0)&&(d=a.length-1,b==d?a.pop():dL.call(a,b,1),--this.size,!0)}function mW(d){var a=this.__data__,b=el(a,d);return b<0?c:a[b][1]}function mV(a){return el(this.__data__,a)>-1}function mT(b,c){var a=this.__data__,d=el(a,b);return d<0?(++this.size,a.push([b,c])):a[d][1]=c,this}bT.prototype.clear=mY,bT.prototype.delete=mX,bT.prototype.get=mW,bT.prototype.has=mV,bT.prototype.set=mT;function bU(a){var b=-1,d=a==null?0:a.length,c;for(this.clear();++b<d;)c=a[b],this.set(c[0],c[1])}function mS(){this.size=0,this.__data__={hash:new dt,map:new(dz||bT),string:new dt}}function mR(a){var b=eJ(this,a).delete(a);return this.size-=b?1:0,b}function mQ(a){return eJ(this,a).get(a)}function mO(a){return eJ(this,a).has(a)}function mM(b,c){var a=eJ(this,b),d=a.size;return a.set(b,c),this.size+=a.size==d?0:1,this}bU.prototype.clear=mS,bU.prototype.delete=mR,bU.prototype.get=mQ,bU.prototype.has=mO,bU.prototype.set=mM;function cf(a){var b=-1,c=a==null?0:a.length;for(this.__data__=new bU;++b<c;)this.add(a[b])}function mL(a){return this.__data__.set(a,aF),this}function mK(a){return this.__data__.has(a)}cf.prototype.add=cf.prototype.push=mL,cf.prototype.has=mK;function bD(a){var b=this.__data__=new bT(a);this.size=b.size}function mH(){this.__data__=new bT,this.size=0}function mG(b){var a=this.__data__,c=a.delete(b);return this.size=a.size,c}function mF(a){return this.__data__.get(a)}function mE(a){return this.__data__.has(a)}function mC(c,d){var a=this.__data__,b;if(a instanceof bT){if(b=a.__data__,!dz||b.length<aL-1)return b.push([c,d]),this.size=++a.size,this;a=this.__data__=new bU(b)}return a.set(c,d),this.size=a.size,this}bD.prototype.clear=mH,bD.prototype.delete=mG,bD.prototype.get=mF,bD.prototype.has=mE,bD.prototype.set=mC;function hi(b,i){var c=k(b),f=!c&&b$(b),e=!c&&!f&&bL(b),g=!c&&!f&&!e&&dm(b),h=c||f||e||g,d=h?aJ(b.length,iX):[],j=d.length,a;for(a in b)(i||ak.call(b,a))&&!(h&&(a=="length"||e&&(a=="offset"||a=="parent")||g&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||bM(a,j)))&&d.push(a);return d}function hh(a){var b=a.length;return b?a[fs(0,b-1)]:c}function mz(a,b){return eH(bl(a),cG(b,0,a.length))}function my(a){return eH(bl(a))}function fh(b,d,a){(a!==c&&!bE(b[d],a)||a===c&&!(d in b))&&bK(b,d,a)}function dV(a,b,d){var e=a[b];(!(ak.call(a,b)&&bE(e,d))||d===c&&!(b in a))&&bK(a,b,d)}function el(b,c){for(var a=b.length;a--;)if(bE(b[a][0],c))return a;return-1}function mx(b,c,d,a){return bI(b,function(b,f,e){c(a,b,d(b),e)}),a}function he(a,b){return a&&bH(b,aX(b),a)}function mw(a,b){return a&&bH(b,bn(b),a)}function bK(b,a,c){a=="__proto__"&&dM?dM(b,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):b[a]=c}function fc(b,d){for(var a=-1,e=d.length,f=aE(e),g=b==null;++a<e;)f[a]=g?c:fR(b,d[a]);return f}function cG(a,b,d){return a===a&&(d!==c&&(a=a<=d?a:d),b!==c&&(a=a>=b?a:b)),a}function bv(a,f,g,r,i,e){var b,l=f&z,m=f&bA,t=f&N,o,h,p,q,s,n;if(g&&(b=i?g(a,r,i,e):g(a)),b!==c)return b;if(!ax(a))return a;if(o=k(a),o){if(b=kU(a),!l)return bl(a,b)}else{if(h=be(a),p=h==ah||h==bj,bL(a))return fW(a,l);if(h==u||h==M||p&&!i){if(b=m||p?{}:hc(a),!l)return m?ld(a,mw(b,a)):le(a,he(b,a))}else{if(!d[h])return i?a:{};b=kQ(a,h,l)}}return e||(e=new bD),q=e.get(a),q||(e.set(a,b),fr(a)?a.forEach(function(c){b.add(bv(c,f,g,c,a,e))}):fC(a)&&a.forEach(function(d,c){b.set(c,bv(d,f,g,c,a,e))}),s=t?m?eV:e_:m?bn:aX,n=o?c:s(a),j(n||a,function(d,c){n&&(c=d,d=a[c]),dV(b,c,bv(d,f,g,c,a,e))}),b)}function mv(a){var b=aX(a);return function(c){return gZ(c,a,b)}}function gZ(a,g,e){var b=e.length,d,h,f;if(a==null)return!b;for(a=aw(a);b--;)if(d=e[b],h=g[d],f=a[d],f===c&&!(d in a)||!h(f))return!1;return!0}function gY(a,b,d){if(typeof a!="function")throw new bt(m);return dD(function(){a.apply(c,d)},b)}function ec(k,a,d,g){var m=-1,h=ac,j=!0,l=k.length,c=[],o=a.length,b,e,n;if(!l)return c;d&&(a=f(a,i(d))),g?(h=aH,j=!1):a.length>=aL&&(h=P,j=!1,a=new cf(a));e:for(;++m<l;)if(b=k[m],e=d==null?b:d(b),b=g||b!==0?b:0,j&&e===e){for(n=o;n--;)if(a[n]===e)continue e;c.push(b)}else h(a,e,g)||c.push(b);return c}bI=gk(bG),eW=gk(eR,!0);function ml(b,c){var a=!0;return bI(b,function(b,d,e){return a=!!c(b,d,e),a}),a}function eA(f,i,g){for(var d=-1,h=f.length,e,a,b,j;++d<h;)e=f[d],a=i(e),a!=null&&(b===c?a===a&&!bq(a):g(a,b))&&(b=a,j=e);return j}function mj(e,f,b,a){var d=e.length;for(b=A(b),b<0&&(b=-b>d?0:d+b),a=a===c||a>d?d:A(a),a<0&&(a+=d),a=b>a?0:gK(a);b<a;)e[b++]=f;return e}function gV(b,c){var a=[];return bI(b,function(b,d,e){c(b,d,e)&&a.push(b)}),a}function bf(e,d,c,f,a){var g=-1,h=e.length,b;for(c||(c=kO),a||(a=[]);++g<h;)b=e[g],d>0&&c(b)?d>1?bf(b,d-1,c,f,a):y(a,b):f||(a[a.length]=b);return a}eE=gl(),eT=gl(!0);function bG(a,b){return a&&eE(a,b,aX)}function eR(a,b){return a&&eT(a,b,aX)}function eI(a,b){return v(b,function(b){return bR(a[b])})}function du(a,b){b=b_(b,a);for(var d=0,e=b.length;a!=null&&d<e;)a=a[bF(b[d++])];return d&&d==e?a:c}function gU(a,c,d){var b=c(a);return k(a)?b:y(b,d(a))}function bk(a){return a==null?a===c?cP:cS:bX&&bX in aw(a)?kX(a):kB(a)}function eM(a,b){return a>b}function mc(a,b){return a!=null&&ak.call(a,b)}function mb(a,b){return a!=null&&b in aw(a)}function ma(a,b,c){return a>=bd(b,c)&&a<aG(b,c)}function eQ(j,h,e){for(var r=e?aH:ac,q=j[0].length,o=j.length,a=o,n=aE(o),m=1/0,l=[],b,p,k,d,g,s;a--;)b=j[a],a&&h&&(b=f(b,i(h))),m=bd(b.length,m),n[a]=!e&&(h||q>=120&&b.length>=120)?new cf(a&&b):c;b=j[0],p=-1,k=n[0];e:for(;++p<q&&l.length<m;)if(d=b[p],g=h?h(d):d,d=e||d!==0?d:0,!(k?P(k,g):r(l,g,e))){for(a=o;--a;)if(s=n[a],!(s?P(s,g):r(j[a],g,e)))continue e;k&&k.push(g),l.push(d)}return l}function lY(b,c,d,a){return bG(b,function(b,e,f){c(a,d(b),e,f)}),a}function dK(a,b,e){b=b_(b,a),a=hv(a,b);var d=a==null?a:a[bF(bx(b))];return d==null?c:h(d,a,e)}function gQ(a){return ay(a)&&bk(a)==M}function lX(a){return ay(a)&&bk(a)==V}function lW(a){return ay(a)&&bk(a)==T}function dN(a,b,c,d,e){return a===b||(a==null||b==null||!ay(a)&&!ay(b)?a!==a&&b!==b:lR(a,b,c,d,dN,e))}function lR(b,c,e,h,g,a){var i=k(b),p=k(c),d=i?ag:be(b),f=p?ag:be(c),l,o,j,m,n,q,r;if(d=d==M?u:d,f=f==M?u:f,l=d==u,o=f==u,j=d==f,j&&bL(b)){if(!bL(c))return!1;i=!0,l=!1}if(j&&!l)return a||(a=new bD),i||dm(b)?gJ(b,c,e,h,g,a):kZ(b,c,d,e,h,g,a);if(!(e&H))if(m=l&&ak.call(b,"__wrapped__"),n=o&&ak.call(c,"__wrapped__"),m||n)return q=m?b.value():b,r=n?c.value():c,a||(a=new bD),g(q,r,e,h,a);return!!j&&(a||(a=new bD),kY(b,c,e,h,g,a))}function lM(a){return ay(a)&&be(a)==p}function eL(b,n,g,e){var d=g.length,j=d,i=!e,a,h,f,l,k,m;if(b==null)return!j;for(b=aw(b);d--;)if(a=g[d],i&&a[2]?a[1]!==b[a[0]]:!(a[0]in b))return!1;for(;++d<j;)if(a=g[d],h=a[0],f=b[h],l=a[1],i&&a[2]){if(f===c&&!(h in b))return!1}else if(k=new bD,e&&(m=e(f,l,h,b,n,k)),!(m===c?dN(l,f,H|aa,e,k):m))return!1;return!0}function gN(a){if(!ax(a)||kL(a))return!1;var b=bR(a)?iw:cl;return b.test(cr(a))}function lH(a){return ay(a)&&bk(a)==U}function lG(a){return ay(a)&&be(a)==o}function lE(a){return ay(a)&&eD(a.length)&&!!e[bk(a)]}function gF(a){return typeof a=="function"?a:a==null?bp:typeof a=="object"?k(a)?gx(a[0],a[1]):gA(a):hw(a)}function fd(a){var c,b;if(!dZ(a))return ig(a);c=[];for(b in aw(a))ak.call(a,b)&&b!="constructor"&&c.push(b);return c}function lD(a){var d,c,b;if(!ax(a))return kC(a);d=dZ(a),c=[];for(b in a)b=="constructor"&&(d||!ak.call(a,b))||c.push(b);return c}function ff(a,b){return a<b}function gC(a,c){var d=-1,b=bo(a)?aE(a.length):[];return bI(a,function(a,e,f){b[++d]=c(a,e,f)}),b}function gA(b){var a=eN(b);return a.length==1&&a[0][2]?hp(a[0][0],a[0][1]):function(c){return c===b||eL(c,b,a)}}function gx(a,b){return fm(a)&&ho(b)?hp(bF(a),b):function(e){var d=fR(e,a);return d===c&&d===b?fB(e,a):dN(b,d,H|aa)}}function eh(a,b,f,e,d){a!==b&&eE(b,function(h,g){if(d||(d=new bD),ax(h))lC(a,b,g,f,eh,e,d);else{var i=e?e(fG(a,g),h,g+"",a,b,d):c;i===c&&(i=h),fh(a,g,i)}},bn)}function lC(h,o,g,p,q,i,e){var d=fG(h,g),a=fG(o,g),n=e.get(a),b,f,j,l,m;if(n){fh(h,g,n);return}b=i?i(d,a,g+"",h,o,e):c,f=b===c,f&&(j=k(a),l=!j&&bL(a),m=!j&&!l&&dm(a),b=a,j||l||m?k(d)?b=d:aB(d)?b=bl(d):l?(f=!1,b=fW(a,!0)):m?(f=!1,b=f$(a,!0)):b=[]:d_(a)||b$(a)?(b=d,b$(d)?b=gy(d):(!ax(d)||bR(d))&&(b=hc(a))):f=!1),f&&(e.set(a,b),q(b,a,p,i,e),e.delete(a)),fh(h,g,b)}function gt(d,a){var b=d.length;if(b)return a+=a<0?b:0,bM(a,b)?d[a]:c}function gq(e,a,g){var c,d;return a.length?a=f(a,function(a){return k(a)?function(b){return du(b,a.length===1?a[0]:a)}:a}):a=[bp],c=-1,a=f(a,i(b())),d=gC(e,function(b,e,g){var d=f(a,function(a){return a(b)});return{criteria:d,index:++c,value:b}}),cR(d,function(a,b){return lf(a,b,g)})}function lz(a,b){return gp(a,b,function(c,b){return fB(a,b)})}function gp(e,b,g){for(var c=-1,h=b.length,d={},a,f;++c<h;)a=b[c],f=du(e,a),g(f,a)&&dX(d,b_(a,e),f);return d}function ly(a){return function(b){return du(b,a)}}function fq(a,b,c,g){var k=g?cL:I,h=-1,l=b.length,d=a,e,j,m;for(a===b&&(b=bl(b)),c&&(d=f(a,i(c)));++h<l;)for(e=0,j=b[h],m=c?c(j):j;(e=k(d,m,e,g))>-1;)d!==a&&dL.call(d,e,1),dL.call(a,e,1);return a}function go(b,d){for(var c=b?d.length:0,e=c-1,a,f;c--;)a=d[c],(c==e||a!==f)&&(f=a,bM(a)?dL.call(b,a,1):fK(b,a));return b}function fs(a,b){return a+dR(fw()*(b-a+1))}function lx(a,e,c,f){for(var g=-1,b=aG(dQ((e-a)/(c||1)),0),d=aE(b);b--;)d[f?b:++g]=a,a+=c;return d}function fu(b,a){var c="";if(!b||a<1||a>w)return c;do a%2&&(c+=b),a=dR(a/2),a&&(b+=b);while(a)return c}function L(a,b){return eG(hu(a,b,bp),a+"")}function lw(a){return hh(dG(a))}function lv(b,c){var a=dG(b);return eH(a,cG(c,0,a.length))}function dX(d,g,l,k){var f,i,j,b,a,e,h;if(!ax(d))return d;g=b_(g,d);for(f=-1,i=g.length,j=i-1,b=d;b!=null&&++f<i;){if(a=bF(g[f]),e=l,a==="__proto__"||a==="constructor"||a==="prototype")return d;f!=j&&(h=b[a],e=k?k(h,a,b):c,e===c&&(e=ax(h)?h:bM(g[f+1])?[]:{})),dV(b,a,e),b=b[a]}return d}fz=dY?function(a,b){return dY.set(a,b),a}:bp,gg=dM?function(a,b){return dM(a,"toString",{configurable:!0,enumerable:!1,value:fo(b),writable:!0})}:bp;function lu(a){return eH(dG(a))}function by(e,a,c){var d=-1,b=e.length,f;a<0&&(a=-a>b?0:b+a),c=c>b?b:c,c<0&&(c+=b),b=a>c?0:c-a>>>0,a>>>=0;for(f=aE(b);++d<b;)f[d]=e[d+a];return f}function ls(b,c){var a;return bI(b,function(b,d,e){return a=c(b,d,e),!a}),!!a}function ew(c,a,g){var d=0,b=c==null?d:c.length,f,e;if(typeof a=="number"&&a===a&&b<=cX){for(;d<b;)f=d+b>>>1,e=c[f],e!==null&&!bq(e)&&(g?e<=a:e<a)?d=f+1:b=f;return b}return fF(c,a,bp,g)}function fF(l,a,m,f){var i=0,e=l==null?0:l.length,q,p,r,o,h,b,k,j,g,n,d;if(e===0)return 0;a=m(a);for(q=a!==a,p=a===null,r=bq(a),o=a===c;i<e;)h=dR((i+e)/2),b=m(l[h]),k=b!==c,j=b===null,g=b===b,n=bq(b),q?(d=f||g):o?d=g&&(f||k):p?d=g&&k&&(f||!j):r?d=g&&k&&!j&&(f||!n):j||n?d=!1:d=f?b<=a:b<a,d?i=h+1:e=h;return bd(e,cY)}function gf(e,c){for(var b=-1,g=e.length,h=0,d=[],a,f,i;++b<g;)a=e[b],f=c?c(a):a,(!b||!bE(f,i))&&(i=f,d[h++]=a===0?0:a);return d}function ge(a){return typeof a=="number"?a:bq(a)?Z:+a}function bs(a){if(typeof a=="string")return a;if(k(a))return f(a,bs)+"";if(bq(a))return fE?fE.call(a):"";var b=a+"";return b=="0"&&1/a==-B?"-0":b}function bZ(f,e,i){var l=-1,h=ac,k=f.length,g=!0,d=[],a=d,j,b,c,m;if(i)g=!1,h=aH;else if(k>=aL){if(j=e?null:gD(f),j)return ab(j);g=!1,h=P,a=new cf}else a=e?[]:d;e:for(;++l<k;)if(b=f[l],c=e?e(b):b,b=i||b!==0?b:0,g&&c===c){for(m=a.length;m--;)if(a[m]===c)continue e;e&&a.push(c),d.push(b)}else h(a,c,i)||(a!==d&&a.push(c),d.push(b));return d}function fK(a,b){return b=b_(b,a),a=hv(a,b),a==null||delete a[bF(bx(b))]}function fX(a,b,c,d){return dX(a,b,c(du(a,b)),d)}function ey(c,e,f,b){for(var d=c.length,a=b?d:-1;(b?a--:++a<d)&&e(c[a],a,c););return f?by(c,b?0:a,b?a+1:d):by(c,b?a+1:0,b?d:a)}function fV(b,c){var a=b;return a instanceof Y&&(a=a.value()),aD(c,function(b,a){return a.func.apply(a.thisArg,y([b],a.args))},a)}function fO(c,g,f){var a=c.length,b,e,h,d;if(a<2)return a?bZ(c[0]):[];for(b=-1,e=aE(a);++b<a;)for(h=c[b],d=-1;++d<a;)d!=b&&(e[b]=ec(e[b]||h,c[d],g,f));return bZ(bf(e,1),g,f)}function fU(b,d,f){for(var a=-1,g=b.length,h=d.length,e={},i;++a<g;)i=a<h?d[a]:c,f(e,b[a],i);return e}function fQ(a){return aB(a)?a:[]}function eX(a){return typeof a=="function"?a:bp}function b_(a,b){return k(a)?a:fm(a,b)?[a]:fP($(a))}fT=L;function bY(b,d,a){var e=b.length;return a=a===c?e:a,!d&&a>=e?b:by(b,d,a)}fN=iq||function(a){return g.clearTimeout(a)};function fW(a,d){if(d)return a.slice();var b=a.length,c=eP?eP(b):new a.constructor(b);return a.copy(c),c}function fL(a){var b=new a.constructor(a.byteLength);return new dJ(b).set(new dJ(a)),b}function lj(a,b){var c=b?fL(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function li(a){var b=new a.constructor(a.source,aT.exec(a));return b.lastIndex=a.lastIndex,b}function lg(a){return dF?aw(dF.call(a)):{}}function f$(a,b){var c=b?fL(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function ga(a,b){if(a!==b){var j=a!==c,k=a===null,f=a===a,g=bq(a),h=b!==c,i=b===null,d=b===b,e=bq(b);if(!i&&!e&&!g&&a>b||g&&h&&d&&!i&&!e||k&&h&&d||!j&&d||!f)return 1;if(!k&&!g&&!e&&a<b||e&&j&&f&&!k&&!g||i&&j&&f||!h&&f||!d)return-1}return 0}function lf(c,d,f){for(var a=-1,e=c.criteria,g=d.criteria,h=e.length,i=f.length,b,j;++a<h;)if(b=ga(e[a],g[a]),b)return a>=i?b:(j=f[a],b*(j=="desc"?-1:1));return c.index-d.index}function gc(d,i,e,k){for(var a=-1,g=d.length,h=e.length,b=-1,j=i.length,f=aG(g-h,0),c=aE(j+f),l=!k;++b<j;)c[b]=i[b];for(;++a<h;)(l||a<g)&&(c[e[a]]=d[a]);for(;f--;)c[b++]=d[a++];return c}function gd(d,i,h,m){for(var a=-1,f=d.length,g=-1,e=h.length,c=-1,j=i.length,k=aG(f-e,0),b=aE(k+j),n=!m,l;++a<k;)b[a]=d[a];for(l=a;++c<j;)b[l+c]=i[c];for(;++g<e;)(n||a<f)&&(b[l+h[g]]=d[a++]);return b}function bl(c,a){var b=-1,d=c.length;for(a||(a=aE(d));++b<d;)a[b]=c[b];return a}function bH(e,h,a,f){var i=!a,g,j,b,d;a||(a={});for(g=-1,j=h.length;++g<j;)b=h[g],d=f?f(a[b],e[b],b,a,e):c,d===c&&(d=e[b]),i?bK(a,b,d):dV(a,b,d);return a}function le(a,b){return bH(a,ez(a),b)}function ld(a,b){return bH(a,fb(a),b)}function ed(c,a){return function(d,e){var f=k(d)?ct:mx,g=a?a():{};return f(d,c,b(e,2),g)}}function dE(a){return L(function(f,d){var g=-1,b=d.length,e=b>1?d[b-1]:c,h=b>2?d[2]:c,i;for(e=a.length>3&&typeof e=="function"?(b--,e):c,h&&bg(d[0],d[1],h)&&(e=b<3?c:e,b=1),f=aw(f);++g<b;)i=d[g],i&&a(f,i,g,e);return f})}function gk(b,a){return function(c,e){if(c==null)return c;if(!bo(c))return b(c,e);for(var f=c.length,d=a?f:-1,g=aw(c);(a?d--:++d<f)&&e(g[d],d,g)!==!1;);return c}}function gl(a){return function(b,i,g){for(var h=-1,d=aw(b),e=g(b),f=e.length,c;f--;)if(c=e[a?f:++h],i(d[c],c,d)===!1)break;return b}}function lc(a,c,d){var e=c&l,f=ea(a);function b(){var c=this&&this!==g&&this instanceof b?f:a;return c.apply(e?d:this,arguments)}return b}function gn(a){return function(b){b=$(b);var d=E(b)?n(b):c,e=d?d[0]:b.charAt(0),f=d?bY(d,1).join(""):b.slice(1);return e[a]()+f}}function dC(a){return function(b){return aD(hf(gR(b).replace(bP,"")),a,"")}}function ea(a){return function(){var b=arguments,c,d;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}return c=ce(a.prototype),d=a.apply(c,b),ax(d)?d:c}}function lb(b,e,d){var f=ea(b);function a(){for(var i=arguments.length,j=aE(i),k=i,l=dB(a),m,n;k--;)j[k]=arguments[k];return(m=i<3&&j[0]!==l&&j[i-1]!==l?[]:x(j,l),i-=m.length,i<d)?gB(b,e,eg,a.placeholder,c,j,m,c,c,d-i):(n=this&&this!==g&&this instanceof a?f:b,h(n,this,j))}return a}function gr(a){return function(d,e,i){var f=aw(d),h,g;return bo(d)||(h=b(e,3),d=aX(d),e=function(a){return h(f[a],a,f)}),g=a(d,e,i),g>-1?f[h?d[g]:g]:c}}function gs(a){return bS(function(f){var h=f.length,g=h,j=bu.prototype.thru,d,b,i,e;for(a&&f.reverse();g--;){if(d=f[g],typeof d!="function")throw new bt(m);j&&!b&&eF(d)=="wrapper"&&(b=new bu([],!0))}for(g=b?g:h;++g<h;)d=f[g],i=eF(d),e=i=="wrapper"?eC(d):c,e&&ft(e[0])&&e[1]==(t|s|q|Q)&&!e[4].length&&e[9]==1?b=b[eF(e[0])].apply(b,e[3]):b=d.length==1&&ft(d)?b[i]():b.thru(d);return function(){var a=arguments,c=a[0],d,e;if(b&&a.length==1&&k(c))return b.plant(c).value();for(d=0,e=h?f[d].apply(this,a):c;++d<h;)e=f[d].call(this,e);return e}})}function eg(b,a,j,k,v,i,q,h,f,m){var o=a&t,p=a&l,n=a&C,d=a&(s|D),r=a&am,u=n?c:ea(b);function e(){for(var l=arguments.length,c=aE(l),s=l,w,z,A,y,t;s--;)c[s]=arguments[s];return(d&&(w=dB(e),z=c$(c,w)),k&&(c=gc(c,k,v,d)),i&&(c=gd(c,i,q,d)),l-=z,d&&l<m)?(A=x(c,w),gB(b,a,eg,e.placeholder,j,c,A,h,f,m-l)):(y=p?j:this,t=n?y[b]:b,l=c.length,h?c=kA(c,h):r&&l>1&&c.reverse(),o&&f<l&&(c.length=f),this&&this!==g&&this instanceof e&&(t=u||ea(t)),t.apply(y,c))}return e}function gu(a,b){return function(c,d){return lY(c,a,b(d),{})}}function er(a,b){return function(d,e){var f;if(d===c&&e===c)return b;if(d!==c&&(f=d),e!==c){if(f===c)return e;typeof d=="string"||typeof e=="string"?(d=bs(d),e=bs(e)):(d=ge(d),e=ge(e)),f=a(d,e)}return f}}function fk(a){return bS(function(c){return c=f(c,i(b())),L(function(b){var d=this;return a(c,function(a){return h(a,d,b)})})})}function eK(b,a){var d,e;return a=a===c?" ":bs(a),d=a.length,d<2?d?fu(a,b):a:(e=fu(a,dQ(b/K(a))),E(a)?bY(n(e),0,b).join(""):e.slice(0,b))}function k$(a,d,e,b){var f=d&l,i=ea(a);function c(){for(var m=-1,k=arguments.length,d=-1,l=b.length,j=aE(l+k),n=this&&this!==g&&this instanceof c?i:a;++d<l;)j[d]=b[d];for(;k--;)j[d++]=arguments[++m];return h(n,f?e:this,j)}return c}function gz(a){return function(e,b,d){return d&&typeof d!="number"&&bg(e,b,d)&&(b=d=c),e=bJ(e),b===c?(b=e,e=0):b=bJ(b),d=d===c?e<b?1:-1:bJ(d),lx(e,b,d,a)}}function ej(a){return function(b,c){return typeof b=="string"&&typeof c=="string"||(b=bC(b),c=bC(c)),a(b,c)}}function gB(d,a,m,j,i,g,h,t,u,k){var b=a&s,n=b?h:c,o=b?c:h,p=b?g:c,r=b?c:g,f,e;return a|=b?q:G,a&=~(b?G:q),a&aN||(a&=~(l|C)),f=[d,a,i,p,n,r,o,t,u,k],e=m.apply(c,f),ft(d)&&fH(e,f),e.placeholder=j,hB(e,d,a)}function fg(b){var a=cF[b];return function(c,b){if(c=bC(c),b=b==null?0:bd(A(b),292),b&&fj(c)){var d=($(c)+"e").split("e"),e=a(d[0]+"e"+(+d[1]+b));return d=($(e)+"e").split("e"),+(d[0]+"e"+(+d[1]-b))}return a(c)}}gD=ca&&1/ab(new ca([,-0]))[1]==B?function(a){return new ca(a)}:fA;function gE(a){return function(b){var c=be(b);return c==p?av(b):c==o?dl(b):cU(b,a(b))}}function bO(d,a,j,e,f,t,h,g){var k=a&C,n,r,p,o,b,i,u;if(!k&&typeof d!="function")throw new bt(m);return n=e?e.length:0,(n||(a&=~(q|G),e=f=c),h=h===c?h:aG(A(h),0),g=g===c?g:A(g),n-=f?f.length:0,a&G)&&(r=e,p=f,e=f=c),o=k?c:eC(d),b=[d,a,j,e,f,r,p,t,h,g],(o&&kJ(b,o),d=b[0],a=b[1],j=b[2],e=b[3],f=b[4],g=b[9]=b[9]===c?k?0:d.length:aG(b[9]-n,0),!g&&a&(s|D)&&(a&=~(s|D)),!a||a==l)?(i=lc(d,a,j)):a==s||a==D?i=lb(d,a,g):(a==q||a==(l|q))&&!f.length?i=k$(d,a,j,e):i=eg.apply(c,b),u=o?fz:fH,hB(u(i,b),d,a)}function gG(a,d,b,e){return a===c||bE(a,cs[b])&&!ak.call(e,b)?d:a}function gH(a,b,e,f,g,d){return ax(a)&&ax(b)&&(d.set(b,a),eh(a,b,c,gH,d),d.delete(b)),a}function k_(a){return d_(a)?c:a}function gJ(d,a,i,f,q,b){var p=i&H,k=d.length,m=a.length,o,n,g,j,l,e,h,r;if(k!=m&&!(p&&m>k))return!1;if(o=b.get(d),n=b.get(a),o&&n)return o==a&&n==d;g=-1,j=!0,l=i&aa?new cf:c;for(b.set(d,a),b.set(a,d);++g<k;){if(e=d[g],h=a[g],f&&(r=p?f(h,e,g,a,d,b):f(e,h,g,d,a,b)),r!==c){if(r)continue;j=!1;break}if(l){if(!aC(a,function(a,c){if(!P(l,c)&&(e===a||q(e,a,i,f,b)))return l.push(c)})){j=!1;break}}else if(!(e===h||q(e,h,i,f,b))){j=!1;break}}return b.delete(d),b.delete(a),j}function kZ(a,b,j,e,k,i,d){var c,g,f,h;switch(j){case F:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case V:return!(a.byteLength!=b.byteLength||!i(new dJ(a),new dJ(b)));case S:case T:case O:return bE(+a,+b);case ae:return a.name==b.name&&a.message==b.message;case U:case R:return a==b+"";case p:c=av;case o:return!(g=e&H,c||(c=ab),a.size!=b.size&&!g)&&(f=d.get(a),f?f==b:(e|=aa,d.set(a,b),h=gJ(c(a),c(b),e,k,i,d),d.delete(a),h));case af:if(dF)return dF.call(a)==dF.call(b)}return!1}function kY(b,a,t,k,w,d){var h=t&H,n=e_(b),p=n.length,u=e_(a),v=u.length,l,e,q,r,j,o,i,g,s,f,m;if(p!=v&&!h)return!1;for(l=p;l--;)if(e=n[l],!(h?e in a:ak.call(a,e)))return!1;if(q=d.get(b),r=d.get(a),q&&r)return q==a&&r==b;j=!0,d.set(b,a),d.set(a,b);for(o=h;++l<p;){if(e=n[l],i=b[e],g=a[e],k&&(s=h?k(g,i,e,a,b,d):k(i,g,e,b,a,d)),!(s===c?i===g||w(i,g,t,k,d):s)){j=!1;break}o||(o=e=="constructor")}return j&&!o&&(f=b.constructor,m=a.constructor,f!=m&&"constructor"in b&&"constructor"in a&&!(typeof f=="function"&&f instanceof f&&typeof m=="function"&&m instanceof m)&&(j=!1)),d.delete(b),d.delete(a),j}function bS(a){return eG(hu(a,c,hW),a+"")}function e_(a){return gU(a,aX,ez)}function eV(a){return gU(a,bn,fb)}eC=dY?function(a){return dY.get(a)}:fA;function eF(b){for(var a=b.name+"",c=cg[a],d=ak.call(cg,a)?c.length:0,e,f;d--;)if(e=c[d],f=e.func,f==null||f==b)return e.name;return a}function dB(b){var c=ak.call(a,"placeholder")?a:b;return c.placeholder}function b(){var b=a.iteratee||fp;return b=b===fp?gF:b,arguments.length?b(arguments[0],arguments[1]):b}function eJ(c,a){var b=c.__data__;return kN(a)?b[typeof a=="string"?"string":"hash"]:b.map}function eN(c){for(var a=aX(c),b=a.length,d,e;b--;)d=a[b],e=c[d],a[b]=[d,e,ho(e)];return a}function cd(b,d){var a=dd(b,d);return gN(a)?a:c}function kX(a){var b=ak.call(a,bX),d=a[bX],e,f;try{a[bX]=c,e=!0}catch{}return f=d$.call(a),e&&(b?a[bX]=d:delete a[bX]),f}ez=ep?function(a){return a==null?[]:(a=aw(a),v(ep(a),function(b){return eS.call(a,b)}))}:fJ,fb=ep?function(a){for(var b=[];a;)y(b,ez(a)),a=dO(a);return b}:fJ,be=bk,(ee&&be(new ee(new ArrayBuffer(1)))!=F||dz&&be(new dz)!=p||ef&&be(ef.resolve())!=bi||ca&&be(new ca)!=o||dy&&be(new dy)!=W)&&(be=function(a){var b=bk(a),d=b==u?a.constructor:c,e=d?cr(d):"";if(e)switch(e){case hS:return F;case hR:return p;case hQ:return bi;case hL:return o;case hK:return W}return b});function kW(a,b,d){for(var e=-1,g=d.length,f,c;++e<g;)switch(f=d[e],c=f.size,f.type){case"drop":a+=c;break;case"dropRight":b-=c;break;case"take":b=bd(b,a+c);break;case"takeRight":a=aG(a,b-c);break}return{start:a,end:b}}function kV(b){var a=b.match(cw);return a?a[1].split(cu):[]}function ha(a,c,g){var d,b,e,f;c=b_(c,a);for(d=-1,b=c.length,e=!1;++d<b;){if(f=bF(c[d]),!(e=a!=null&&g(a,f)))break;a=a[f]}return e||++d!=b?e:(b=a==null?0:a.length,!!b&&eD(b)&&bM(f,b)&&(k(a)||b$(a)))}function kU(a){var c=a.length,b=new a.constructor(c);return c&&typeof a[0]=="string"&&ak.call(a,"index")&&(b.index=a.index,b.input=a.input),b}function hc(a){return typeof a.constructor=="function"&&!dZ(a)?ce(dO(a)):{}}function kQ(a,d,c){var b=a.constructor;switch(d){case V:return fL(a);case S:case T:return new b(+a);case F:return lj(a,c);case al:case ai:case an:case ao:case aA:case aq:case ar:case at:case au:return f$(a,c);case p:return new b;case O:case R:return new b(a);case U:return li(a);case o:return new b;case af:return lg(a)}}function kP(c,a){var b=a.length,d;return b?(d=b-1,a[d]=(b>1?"& ":"")+a[d],a=a.join(b>2?", ":" "),c.replace(cx,`{
/* [wrapped with `+a+`] */
`)):c}function kO(a){return k(a)||b$(a)||!!(eU&&a&&a[eU])}function bM(a,b){var c=typeof a;return b=b??w,!!b&&(c=="number"||c!="symbol"&&cj.test(a))&&a>-1&&a%1==0&&a<b}function bg(d,b,a){if(!ax(a))return!1;var c=typeof b;return!!(c=="number"?bo(a)&&bM(b,a.length):c=="string"&&b in a)&&bE(a[b],d)}function fm(a,c){if(k(a))return!1;var b=typeof a;return!!(b=="number"||b=="symbol"||b=="boolean"||a==null||bq(a))||cA.test(a)||!cB.test(a)||c!=null&&a in aw(c)}function kN(b){var a=typeof b;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?b!=="__proto__":b===null}function ft(b){var d=eF(b),c=a[d],e;return!(typeof c!="function"||!(d in Y.prototype))&&(b===c||(e=eC(c),!!e&&b===e[0]))}function kL(a){return!!fn&&fn in a}hm=dH?bR:fM;function dZ(a){var b=a&&a.constructor,c=typeof b=="function"&&b.prototype||cs;return a===c}function ho(a){return a===a&&!ax(a)}function hp(a,b){return function(d){return d!=null&&d[a]===b&&(b!==c||a in aw(d))}}function kK(c){var a=eu(c,function(a){return b.size===dk&&b.clear(),a}),b=a.cache;return a}function kJ(a,b){var f=a[1],e=b[1],g=f|e,h=g<(l|C|t),i=e==t&&f==s||e==t&&f==Q&&a[7].length<=b[8]||e==(t|Q)&&b[7].length<=b[8]&&f==s,c,d;return h||i?(e&l&&(a[2]=b[2],g|=f&l?0:aN),c=b[3],c&&(d=a[3],a[3]=d?gc(d,c,b[4]):c,a[4]=d?x(a[3],_):b[4]),c=b[5],c&&(d=a[5],a[5]=d?gd(d,c,b[6]):c,a[6]=d?x(a[5],_):b[6]),c=b[7],c&&(a[7]=c),e&t&&(a[8]=a[8]==null?b[8]:bd(a[8],b[8])),a[9]==null&&(a[9]=b[9]),a[0]=b[0],a[1]=g,a):a}function kC(a){var b=[],c;if(a!=null)for(c in aw(a))b.push(c);return b}function kB(a){return d$.call(a)}function hu(b,a,d){return a=aG(a===c?b.length-1:a,0),function(){for(var e=arguments,c=-1,g=aG(e.length-a,0),i=aE(g),f;++c<g;)i[c]=e[a+c];c=-1;for(f=aE(a+1);++c<a;)f[c]=e[c];return f[a]=d(i),h(b,this,f)}}function hv(a,b){return b.length<2?a:du(a,by(b,0,-1))}function kA(a,d){for(var e=a.length,b=bd(d.length,e),g=bl(a),f;b--;)f=d[b],a[b]=bM(f,e)?g[f]:c;return a}function fG(b,a){if(!(a==="constructor"&&typeof b[a]=="function")&&a!="__proto__")return b[a]}fH=hC(fz),dD=im||function(a,b){return g.setTimeout(a,b)},eG=hC(gg);function hB(b,c,d){var a=c+"";return eG(b,kP(a,kz(kV(a),d)))}function hC(d){var a=0,b=0;return function(){var e=ia(),f=de-(e-b);if(b=e,f>0){if(++a>=dh)return arguments[0]}else a=0;return d.apply(c,arguments)}}function eH(a,b){var d=-1,e=a.length,g=e-1,f,h;for(b=b===c?e:b;++d<b;)f=fs(d,g),h=a[f],a[f]=a[d],a[d]=h;return a.length=b,a}fP=kK(function(b){var a=[];return b.charCodeAt(0)===46&&a.push(""),b.replace(cz,function(b,c,d,e){a.push(d?e.replace(cp,"$1"):c||b)}),a});function bF(a){if(typeof a=="string"||bq(a))return a;var b=a+"";return b=="0"&&1/a==-B?"-0":b}function cr(a){if(a!=null){try{return eb.call(a)}catch{}try{return a+""}catch{}}return""}function kz(a,b){return j(cW,function(c){var d="_."+c[0];b&c[1]&&!ac(a,d)&&a.push(d)}),a.sort()}function hI(a){if(a instanceof Y)return a.clone();var b=new bu(a.__wrapped__,a.__chain__);return b.__actions__=bl(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function ky(b,a,g){var d,e,h,f;if((g?bg(b,a,g):a===c)?a=1:a=aG(A(a),0),d=b==null?0:b.length,!d||a<1)return[];for(e=0,h=0,f=aE(dQ(d/a));e<d;)f[h++]=by(b,e,e+=a);return f}function kx(a){for(var b=-1,e=a==null?0:a.length,f=0,c=[],d;++b<e;)d=a[b],d&&(c[f++]=d);return c}function kv(){var a=arguments.length,d,b,c;if(!a)return[];for(d=aE(a-1),b=arguments[0],c=a;c--;)d[c-1]=arguments[c];return y(k(b)?bl(b):[b],bf(d,1))}hM=L(function(a,b){return aB(a)?ec(a,bf(b,1,aB,!0)):[]}),hN=L(function(d,e){var a=bx(e);return aB(a)&&(a=c),aB(d)?ec(d,bf(e,1,aB,!0),b(a,2)):[]}),hO=L(function(b,d){var a=bx(d);return aB(a)&&(a=c),aB(b)?ec(b,bf(d,1,aB,!0),c,a):[]});function kq(b,a,e){var d=b==null?0:b.length;return d?(a=e||a===c?1:A(a),by(b,a<0?0:a,d)):[]}function kp(b,a,e){var d=b==null?0:b.length;return d?(a=e||a===c?1:A(a),a=d-a,by(b,0,a<0?0:a)):[]}function kn(a,c){return a&&a.length?ey(a,b(c,3),!0,!0):[]}function km(a,c){return a&&a.length?ey(a,b(c,3),!0):[]}function kl(b,c,a,d){var e=b==null?0:b.length;return e?(a&&typeof a!="number"&&bg(b,c,a)&&(a=0,d=e),mj(b,c,a,d)):[]}function hU(c,f,d){var e=c==null?0:c.length,a;return e?(a=d==null?0:A(d),a<0&&(a=aG(e+a,0)),ad(c,b(f,3),a)):-1}function hV(e,g,f){var d=e==null?0:e.length,a;return d?(a=d-1,f!==c&&(a=A(f),a=f<0?aG(d+a,0):bd(a,d-1)),ad(e,b(g,3),a,!0)):-1}function hW(a){var b=a==null?0:a.length;return b?bf(a,1):[]}function kk(a){var b=a==null?0:a.length;return b?bf(a,B):[]}function kj(b,a){var d=b==null?0:b.length;return d?(a=a===c?1:A(a),bf(b,a)):[]}function ki(a){for(var b=-1,e=a==null?0:a.length,c={},d;++b<e;)d=a[b],c[d[0]]=d[1];return c}function h_(a){return a&&a.length?a[0]:c}function kh(b,e,c){var d=b==null?0:b.length,a;return d?(a=c==null?0:A(c),a<0&&(a=aG(d+a,0)),I(b,e,a)):-1}function kg(a){var b=a==null?0:a.length;return b?by(a,0,-1):[]}ib=L(function(b){var a=f(b,fQ);return a.length&&a[0]===b[0]?eQ(a):[]}),ic=L(function(d){var e=bx(d),a=f(d,fQ);return e===bx(a)?e=c:a.pop(),a.length&&a[0]===d[0]?eQ(a,b(e,2)):[]}),id=L(function(d){var a=bx(d),b=f(d,fQ);return a=typeof a=="function"?a:c,a&&b.pop(),b.length&&b[0]===d[0]?eQ(b,c,a):[]});function jW(a,b){return a==null?"":ih.call(a,b)}function bx(a){var b=a==null?0:a.length;return b?a[b-1]:c}function jV(b,e,f){var d=b==null?0:b.length,a;return d?(a=d,f!==c&&(a=A(f),a=a<0?aG(d+a,0):bd(a,d-1)),e===e?dn(b,e,a):ad(b,bb,a,!0)):-1}function jU(a,b){return a&&a.length?gt(a,A(b)):c}ij=L(ik);function ik(a,b){return a&&a.length&&b&&b.length?fq(a,b):a}function jT(a,c,d){return a&&a.length&&c&&c.length?fq(a,c,b(d,2)):a}function jR(a,b,d){return a&&a.length&&b&&b.length?fq(a,b,c,d):a}io=bS(function(a,b){var c=a==null?0:a.length,d=fc(a,b);return go(a,f(b,function(a){return bM(a,c)?+a:a}).sort(ga)),d});function jQ(a,d){var e=[],c,f,h,g;if(!(a&&a.length))return e;c=-1,f=[],h=a.length;for(d=b(d,3);++c<h;)g=a[c],d(g,c,a)&&(e.push(g),f.push(c));return go(a,f),e}function e$(a){return a==null?a:hX.call(a)}function jO(d,b,a){var e=d==null?0:d.length;return e?(a&&typeof a!="number"&&bg(d,b,a)?(b=0,a=e):(b=b==null?0:A(b),a=a===c?e:A(a)),by(d,b,a)):[]}function jN(a,b){return ew(a,b)}function jM(a,c,d){return fF(a,c,b(d,2))}function jL(a,c){var d=a==null?0:a.length,b;if(d)if(b=ew(a,c),b<d&&bE(a[b],c))return b;return-1}function jK(a,b){return ew(a,b,!0)}function jJ(a,c,d){return fF(a,c,b(d,2),!0)}function jI(a,b){var d=a==null?0:a.length,c;if(d)if(c=ew(a,b,!0)-1,bE(a[c],b))return c;return-1}function jH(a){return a&&a.length?gf(a):[]}function jG(a,c){return a&&a.length?gf(a,b(c,2)):[]}function jE(a){var b=a==null?0:a.length;return b?by(a,1,b):[]}function jD(b,a,d){return b&&b.length?(a=d||a===c?1:A(a),by(b,0,a<0?0:a)):[]}function ju(b,a,e){var d=b==null?0:b.length;return d?(a=e||a===c?1:A(a),a=d-a,by(b,a<0?0:a,d)):[]}function js(a,c){return a&&a.length?ey(a,b(c,3),!1,!0):[]}function jr(a,c){return a&&a.length?ey(a,b(c,3)):[]}iF=L(function(a){return bZ(bf(a,1,aB,!0))}),iG=L(function(d){var a=bx(d);return aB(a)&&(a=c),bZ(bf(d,1,aB,!0),b(a,2))}),iH=L(function(b){var a=bx(b);return a=typeof a=="function"?a:c,bZ(bf(b,1,aB,!0),c,a)});function jq(a){return a&&a.length?bZ(a):[]}function jo(a,c){return a&&a.length?bZ(a,b(c,2)):[]}function jn(b,a){return a=typeof a=="function"?a:c,b&&b.length?bZ(b,c,a):[]}function fv(a){if(!(a&&a.length))return[];var b=0;return a=v(a,function(a){if(aB(a))return b=aG(a.length,b),!0}),aJ(b,function(b){return f(a,aj(b))})}function iM(a,b){if(!(a&&a.length))return[];var d=fv(a);return b==null?d:f(d,function(a){return h(b,c,a)})}iN=L(function(a,b){return aB(a)?ec(a,b):[]}),iO=L(function(a){return fO(v(a,aB))}),iP=L(function(d){var a=bx(d);return aB(a)&&(a=c),fO(v(d,aB),b(a,2))}),iQ=L(function(b){var a=bx(b);return a=typeof a=="function"?a:c,fO(v(b,aB),c,a)}),iR=L(fv);function jm(a,b){return fU(a||[],b||[],dV)}function ji(a,b){return fU(a||[],b||[],dX)}iU=L(function(a){var d=a.length,b=d>1?a[d-1]:c;return b=typeof b=="function"?(a.pop(),b):c,iM(a,b)});function iV(c){var b=a(c);return b.__chain__=!0,b}function jh(a,b){return b(a),a}function es(a,b){return b(a)}iY=bS(function(d){var b=d.length,e=b?d[0]:0,a=this.__wrapped__,f=function(a){return fc(a,d)};return b>1||this.__actions__.length||!(a instanceof Y)||!bM(e)?this.thru(f):(a=a.slice(e,+e+(b?1:0)),a.__actions__.push({func:es,args:[f],thisArg:c}),new bu(a,this.__chain__).thru(function(a){return b&&!a.length&&a.push(c),a}))});function je(){return iV(this)}function i_(){return new bu(this.value(),this.__chain__)}function i$(){this.__values__===c&&(this.__values__=g_(this.value()));var a=this.__index__>=this.__values__.length,b=a?c:this.__values__[this.__index__++];return{done:a,value:b}}function ja(){return this}function jb(f){for(var d,b=this,a,e;b instanceof eB;)a=hI(b),a.__index__=0,a.__values__=c,d?e.__wrapped__=a:d=a,e=a,b=b.__wrapped__;return e.__wrapped__=f,d}function jc(){var b=this.__wrapped__,a;return b instanceof Y?(a=b,this.__actions__.length&&(a=new Y(this)),a=a.reverse(),a.__actions__.push({func:es,args:[e$],thisArg:c}),new bu(a,this.__chain__)):this.thru(e$)}function jd(){return fV(this.__wrapped__,this.__actions__)}fS=ed(function(a,c,b){ak.call(a,b)?++a[b]:bK(a,b,1)});function jf(a,d,e){var f=k(a)?aO:ml;return e&&bg(a,d,e)&&(d=c),f(a,b(d,3))}function jg(a,c){var d=k(a)?v:gV;return d(a,b(c,3))}iW=gr(hU),iT=gr(hV);function jj(a,b){return bf(eq(a,b),1)}function jk(a,b){return bf(eq(a,b),B)}function jl(b,d,a){return a=a===c?1:A(a),bf(eq(b,d),a)}function iS(a,c){var d=k(a)?j:bI;return d(a,b(c,3))}function iK(a,c){var d=k(a)?cv:eW;return d(a,b(c,3))}iJ=ed(function(a,c,b){ak.call(a,b)?a[b].push(c):bK(a,b,[c])});function jp(b,d,a,e){b=bo(b)?b:dG(b),a=a&&!e?A(a):0;var c=b.length;return a<0&&(a=aG(c+a,0)),em(b)?a<=c&&b.indexOf(d,a)>-1:!!c&&I(b,d,a)>-1}iI=L(function(a,b,c){var e=-1,f=typeof b=="function",d=bo(a)?aE(a.length):[];return bI(a,function(a){d[++e]=f?h(b,a,c):dK(a,b,c)}),d}),iE=ed(function(a,b,c){bK(a,c,b)});function eq(a,c){var d=k(a)?f:gC;return d(a,b(c,3))}function jt(d,b,a,e){return d==null?[]:(k(b)||(b=b==null?[]:[b]),a=e?c:a,k(a)||(a=a==null?[]:[a]),gq(d,b,a))}iC=ed(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]});function jv(a,c,d){var e=k(a)?aD:bh,f=arguments.length<3;return e(a,b(c,4),d,f,bI)}function jw(a,c,d){var e=k(a)?cD:bh,f=arguments.length<3;return e(a,b(c,4),d,f,eW)}function jx(a,c){var d=k(a)?v:gV;return d(a,et(b(c,3)))}function jy(a){var b=k(a)?hh:lw;return b(a)}function jz(b,a,d){(d?bg(b,a,d):a===c)?a=1:a=A(a);var e=k(b)?mz:lv;return e(b,a)}function jA(a){var b=k(a)?my:lu;return b(a)}function jB(a){if(a==null)return 0;if(bo(a))return em(a)?K(a):a.length;var b=be(a);return b==p||b==o?a.size:fd(a).length}function jC(a,d,e){var f=k(a)?aC:ls;return e&&bg(a,d,e)&&(d=c),f(a,b(d,3))}iB=L(function(b,a){if(b==null)return[];var c=a.length;return c>1&&bg(b,a[0],a[1])?a=[]:c>2&&bg(a[0],a[1],a[2])&&(a=[a[0]]),gq(b,bf(a,1),[])}),dT=ip||function(){return g.Date.now()};function jF(a,b){if(typeof b!="function")throw new bt(m);return a=A(a),function(){if(--a<1)return b.apply(this,arguments)}}function iz(b,a,d){return a=d?c:a,a=b&&a==null?b.length:a,bO(b,t,c,c,c,c,a)}function iy(a,b){var d;if(typeof b!="function")throw new bt(m);return a=A(a),function(){return--a>0&&(d=b.apply(this,arguments)),a<=1&&(b=c),d}}ev=L(function(c,d,a){var b=l,e;return a.length&&(e=x(a,dB(ev)),b|=q),bO(c,b,d,a,e)}),fa=L(function(c,d,a){var b=l|C,e;return a.length&&(e=x(a,dB(fa)),b|=q),bO(d,b,c,a,e)});function iv(d,a,e){a=e?c:a;var b=bO(d,s,c,c,c,c,c,a);return b.placeholder=iv.placeholder,b}function iu(d,a,e){a=e?c:a;var b=bO(d,D,c,c,c,c,c,a);return b.placeholder=iu.placeholder,b}function it(q,b,g){var f,h,k,e,a,d,j=0,s=!1,i=!1,o=!0;if(typeof q!="function")throw new bt(m);b=bC(b)||0,ax(g)&&(s=!!g.leading,i="maxWait"in g,k=i?aG(bC(g.maxWait)||0,b):k,o="trailing"in g?!!g.trailing:o);function n(a){var b=f,d=h;return f=h=c,j=a,e=q.apply(d,b),e}function u(c){return j=c,a=dD(l,b),s?n(c):e}function x(a){var e=a-d,f=a-j,c=b-e;return i?bd(c,k-f):c}function r(a){var e=a-d,f=a-j;return d===c||e>=b||e<0||i&&f>=k}function l(){var b=dT();if(r(b))return t(b);a=dD(l,x(b))}function t(b){return a=c,o&&f?n(b):(f=h=c,e)}function v(){a!==c&&fN(a),j=0,f=d=h=a=c}function w(){return a===c?e:t(dT())}function p(){var g=dT(),j=r(g);if(f=arguments,h=this,d=g,j){if(a===c)return u(d);if(i)return fN(a),a=dD(l,b),n(d)}return a===c&&(a=dD(l,b)),e}return p.cancel=v,p.flush=w,p}is=L(function(a,b){return gY(a,1,b)}),ir=L(function(a,b,c){return gY(a,bC(b)||0,c)});function jP(a){return bO(a,am)}function eu(c,a){if(typeof c!="function"||a!=null&&typeof a!="function")throw new bt(m);var b=function(){var e=arguments,f=a?a.apply(this,e):e[0],d=b.cache,g;return d.has(f)?d.get(f):(g=c.apply(this,e),b.cache=d.set(f,g)||d,g)};return b.cache=new(eu.Cache||bU),b}eu.Cache=bU;function et(a){if(typeof a!="function")throw new bt(m);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function jS(a){return iy(2,a)}il=fT(function(c,a){a=a.length==1&&k(a[0])?f(a[0],i(b())):f(bf(a,1),i(b()));var d=a.length;return L(function(b){for(var e=-1,f=bd(b.length,d);++e<f;)b[e]=a[e].call(this,b[e]);return h(c,this,b)})}),en=L(function(b,a){var d=x(a,dB(en));return bO(b,q,c,a,d)}),fl=L(function(b,a){var d=x(a,dB(fl));return bO(b,G,c,a,d)}),ie=bS(function(a,b){return bO(a,Q,c,c,c,b)});function jX(b,a){if(typeof b!="function")throw new bt(m);return a=a===c?a:A(a),L(b,a)}function jY(b,a){if(typeof b!="function")throw new bt(m);return a=a==null?0:aG(A(a),0),L(function(c){var d=c[a],e=bY(c,0,a);return d&&y(e,d),h(b,this,e)})}function jZ(d,e,a){var b=!0,c=!0;if(typeof d!="function")throw new bt(m);return ax(a)&&(b="leading"in a?!!a.leading:b,c="trailing"in a?!!a.trailing:c),it(d,e,{leading:b,maxWait:e,trailing:c})}function j_(a){return iz(a,1)}function j$(a,b){return en(eX(b),a)}function ka(){if(!arguments.length)return[];var a=arguments[0];return k(a)?a:[a]}function kb(a){return bv(a,N)}function kc(b,a){return a=typeof a=="function"?a:c,bv(b,N,a)}function kd(a){return bv(a,z|N)}function ke(b,a){return a=typeof a=="function"?a:c,bv(b,z|N,a)}function kf(b,a){return a==null||gZ(b,a,aX(a))}function bE(a,b){return a===b||a!==a&&b!==b}h$=ej(eM),hZ=ej(function(a,b){return a>=b}),b$=gQ(function(){return arguments}())?gQ:function(a){return ay(a)&&ak.call(a,"callee")&&!eS.call(a,"callee")},k=aE.isArray,hT=aW?i(aW):lX;function bo(a){return a!=null&&eD(a.length)&&!bR(a)}function aB(a){return ay(a)&&bo(a)}function ko(a){return a===!0||a===!1||ay(a)&&bk(a)==S}bL=ii||fM,hP=aV?i(aV):lW;function kr(a){return ay(a)&&a.nodeType===1&&!d_(a)}function ks(a){var b,c;if(a==null)return!0;if(bo(a)&&(k(a)||typeof a=="string"||typeof a.splice=="function"||bL(a)||dm(a)||b$(a)))return!a.length;if(b=be(a),b==p||b==o)return!a.size;if(dZ(a))return!fd(a).length;for(c in a)if(ak.call(a,c))return!1;return!0}function kt(a,b){return dN(a,b)}function ku(b,d,a){a=typeof a=="function"?a:c;var e=a?a(b,d):c;return e===c?dN(b,d,c,a):!!e}function fD(a){if(!ay(a))return!1;var b=bk(a);return b==ae||b==cT||typeof a.message=="string"&&typeof a.name=="string"&&!d_(a)}function kw(a){return typeof a=="number"&&fj(a)}function bR(b){if(!ax(b))return!1;var a=bk(b);return a==ah||a==bj||a==cV||a==cQ}function hJ(a){return typeof a=="number"&&a==A(a)}function eD(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=w}function ax(a){var b=typeof a;return a!=null&&(b=="object"||b=="function")}function ay(a){return a!=null&&typeof a=="object"}fC=aU?i(aU):lM;function kD(b,a){return b===a||eL(b,a,eN(a))}function kE(d,b,a){return a=typeof a=="function"?a:c,eL(d,b,eN(b),a)}function kF(a){return hr(a)&&a!=+a}function kG(a){if(hm(a))throw new ek(dq);return gN(a)}function kH(a){return a===null}function kI(a){return a==null}function hr(a){return typeof a=="number"||ay(a)&&bk(a)==O}function d_(c){var b,a;return!(!ay(c)||bk(c)!=u)&&(!!(b=dO(c),b===null)||(a=ak.call(b,"constructor")&&b.constructor,typeof a=="function"&&a instanceof a&&eb.call(a)==iA))}ei=aS?i(aS):lH;function kM(a){return hJ(a)&&a>=-w&&a<=w}fr=aR?i(aR):lG;function em(a){return typeof a=="string"||!k(a)&&ay(a)&&bk(a)==R}function bq(a){return typeof a=="symbol"||ay(a)&&bk(a)==af}dm=aQ?i(aQ):lE;function kR(a){return a===c}function kS(a){return ay(a)&&be(a)==W}function kT(a){return ay(a)&&bk(a)==cO}hb=ej(ff),g$=ej(function(a,b){return a<=b});function g_(a){if(!a)return[];if(bo(a))return em(a)?n(a):bl(a);if(dA&&a[dA])return dg(a[dA]());var b=be(a),c=b==p?av:b==o?ab:dG;return c(a)}function bJ(a){if(!a)return a===0?a:0;if(a=bC(a),a===B||a===-B){var b=a<0?-1:1;return b*cZ}return a===a?a:0}function A(c){var a=bJ(c),b=a%1;return a===a?b?a-b:a:0}function gK(a){return a?cG(A(a),0,r):0}function bC(a){var b,c;return typeof a=="number"?a:bq(a)?Z:(ax(a)&&(b=typeof a.valueOf=="function"?a.valueOf():a,a=ax(b)?b+"":b),typeof a!="string")?a===0?a:+a:(a=aP(a),c=cm.test(a),c||ck.test(a)?cc(a.slice(2),c?2:8):cn.test(a)?Z:+a)}function gy(a){return bH(a,bn(a))}function la(a){return a?cG(A(a),-w,w):a===0?a:0}function $(a){return a==null?"":bs(a)}gm=dE(function(c,a){if(dZ(a)||bo(a)){bH(a,aX(a),c);return}for(var b in a)ak.call(a,b)&&dV(c,b,a[b])}),fx=dE(function(b,a){bH(a,bn(a),b)}),dW=dE(function(b,a,d,c){bH(a,bn(a),b,c)}),gb=dE(function(b,a,d,c){bH(a,aX(a),b,c)}),f_=bS(fc);function lh(c,a){var b=ce(c);return a==null?b:he(b,a)}fZ=L(function(a,d){var f,e,g,h,i,j,l,b,k;a=aw(a),f=-1,e=d.length,g=e>2?d[2]:c;for(g&&bg(d[0],d[1],g)&&(e=1);++f<e;)for(h=d[f],i=bn(h),j=-1,l=i.length;++j<l;)b=i[j],k=a[b],(k===c||bE(k,cs[b])&&!ak.call(a,b))&&(a[b]=h[b]);return a}),fY=L(function(a){return a.push(c,gH),h(fe,c,a)});function lk(a,c){return a_(a,b(c,3),bG)}function ll(a,c){return a_(a,b(c,3),eR)}function lm(a,c){return a==null?a:eE(a,b(c,3),bn)}function ln(a,c){return a==null?a:eT(a,b(c,3),bn)}function lo(a,c){return a&&bG(a,b(c,3))}function lp(a,c){return a&&eR(a,b(c,3))}function lq(a){return a==null?[]:eI(a,aX(a))}function lr(a){return a==null?[]:eI(a,bn(a))}function fR(a,d,e){var b=a==null?c:du(a,d);return b===c?e:b}function lt(a,b){return a!=null&&ha(a,b,mc)}function fB(a,b){return a!=null&&ha(a,b,mb)}gh=gu(function(b,a,c){a!=null&&typeof a.toString!="function"&&(a=d$.call(a)),b[a]=c},fo(bp)),gi=gu(function(b,a,c){a!=null&&typeof a.toString!="function"&&(a=d$.call(a)),ak.call(b,a)?b[a].push(c):b[a]=[c]},b),gj=L(dK);function aX(a){return bo(a)?hi(a):fd(a)}function bn(a){return bo(a)?hi(a,!0):lD(a)}function lA(d,a){var c={};return a=b(a,3),bG(d,function(b,d,e){bK(c,a(b,d,e),b)}),c}function lB(d,a){var c={};return a=b(a,3),bG(d,function(d,b,e){bK(c,b,a(d,b,e))}),c}gw=dE(function(a,b,c){eh(a,b,c)}),fe=dE(function(a,b,c,d){eh(a,b,c,d)}),gI=bS(function(b,c){var a={},d,e;if(b==null)return a;d=!1,c=f(c,function(a){return a=b_(a,b),d||(d=a.length>1),a}),bH(b,eV(b),a),d&&(a=bv(a,z|bA|N,k_));for(e=c.length;e--;)fK(a,c[e]);return a});function lF(a,c){return gM(a,et(b(c)))}gL=bS(function(a,b){return a==null?{}:lz(a,b)});function gM(a,c){if(a==null)return{};var d=f(eV(a),function(a){return[a]});return c=b(c),gp(a,d,function(a,b){return c(a,b[0])})}function lI(a,e,g){var f,d,b;e=b_(e,a),f=-1,d=e.length;for(d||(d=1,a=c);++f<d;)b=a==null?c:a[bF(e[f])],b===c&&(f=d,b=g),a=bR(b)?b.call(a):b;return a}function lJ(a,b,c){return a==null?a:dX(a,b,c)}function lK(b,d,e,a){return a=typeof a=="function"?a:c,b==null?b:dX(b,d,e,a)}eZ=gE(aX),eY=gE(bn);function lN(a,d,c){var e=k(a),f=e||bL(a)||dm(a),g;return d=b(d,4),c==null&&(g=a&&a.constructor,f?c=e?new g:[]:ax(a)?c=bR(g)?ce(dO(a)):{}:c={}),(f?j:bG)(a,function(a,b,e){return d(c,a,b,e)}),c}function lO(a,b){return a==null||fK(a,b)}function lP(a,b,c){return a==null?a:fX(a,b,eX(c))}function lQ(b,d,e,a){return a=typeof a=="function"?a:c,b==null?b:fX(b,d,eX(e),a)}function dG(a){return a==null?[]:aM(a,aX(a))}function lS(a){return a==null?[]:aM(a,bn(a))}function lT(d,a,b){return b===c&&(b=a,a=c),b!==c&&(b=bC(b),b=b===b?b:0),a!==c&&(a=bC(a),a=a===a?a:0),cG(bC(d),a,b)}function lU(d,a,b){return a=bJ(a),b===c?(b=a,a=0):b=bJ(b),d=bC(d),ma(d,a,b)}function lV(b,a,d){var f,e;return d&&typeof d!="boolean"&&bg(b,a,d)&&(a=d=c),d===c&&(typeof a=="boolean"?(d=a,a=c):typeof b=="boolean"&&(d=b,b=c)),b===c&&a===c?(b=0,a=1):(b=bJ(b),a===c?(a=b,b=0):a=bJ(a)),b>a&&(f=b,b=a,a=f),d||b%1||a%1?(e=fw(),bd(b+e*(a-b+cb("1e-"+((e+"").length-1))),a)):fs(b,a)}gO=dC(function(b,a,c){return a=a.toLowerCase(),b+(c?gP(a):a)});function gP(a){return eo($(a).toLowerCase())}function gR(a){return a=$(a),a&&a.replace(ci,da).replace(bQ,"")}function lZ(b,d,a){var e,f;return b=$(b),d=bs(d),e=b.length,a=a===c?e:cG(A(a),0,e),f=a,a-=d.length,a>=0&&b.slice(a,f)==d}function l_(a){return a=$(a),a&&cI.test(a)?a.replace(a$,db):a}function l$(a){return a=$(a),a&&cy.test(a)?a.replace(aI,"\\$&"):a}gS=dC(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),gT=dC(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),gv=gn("toLowerCase");function md(b,a,e){var c,d;return b=$(b),a=A(a),c=a?K(b):0,!a||c>=a?b:(d=(a-c)/2,eK(dR(d),e)+b+eK(dQ(d),e))}function me(b,a,d){b=$(b),a=A(a);var c=a?K(b):0;return a&&c<a?b+eK(a-c,d):b}function mf(b,a,d){b=$(b),a=A(a);var c=a?K(b):0;return a&&c<a?eK(a-c,d)+b:b}function mg(b,a,c){return c||a==null?a=0:a&&(a=+a),hY($(b).replace(aK,""),a||0)}function mh(b,a,d){return(d?bg(b,a,d):a===c)?a=1:a=A(a),fu($(b),a)}function mi(){var a=arguments,b=$(a[0]);return a.length<3?b:b.replace(a[1],a[2])}gW=dC(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()});function mk(d,b,a){return a&&typeof a!="number"&&bg(d,b,a)&&(b=a=c),a=a===c?r:a>>>0,a?(d=$(d),d&&(typeof b=="string"||b!=null&&!ei(b))&&(b=bs(b),!b&&E(d))?bY(n(d),0,a):d.split(b,a)):[]}gX=dC(function(a,b,c){return a+(c?" ":"")+eo(b)});function mm(b,c,a){return b=$(b),a=a==null?0:cG(A(a),0,b.length),c=bs(c),b.slice(a,a+c.length)==c}function mn(e,d,n){var m=a.templateSettings,k,i,p,j,h,o,l,b,q,r,f,g;if(n&&bg(e,d,n)&&(d=c),e=$(e),d=dW({},d,m,gG),k=dW({},d.imports,m.imports,gG),i=aX(k),p=aM(k,i),o=0,l=d.interpolate||X,b="__p += '",q=ex((d.escape||X).source+"|"+l.source+"|"+(l===aY?co:X).source+"|"+(d.evaluate||X).source+"|$","g"),r="//# sourceURL="+(ak.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bW+"]")+`
`,e.replace(q,function(c,d,a,i,f,g){return a||(a=i),b+=e.slice(o,g).replace(ch,dc),d&&(j=!0,b+=`' +
__e(`+d+`) +
'`),f&&(h=!0,b+=`';
`+f+`;
__p += '`),a&&(b+=`' +
((__t = (`+a+`)) == null ? '' : __t) +
'`),o=g+c.length,c}),b+=`';
`,f=ak.call(d,"variable")&&d.variable,f){if(cq.test(f))throw new ek(dp)}else b=`with (obj) {
`+b+`
}
`;if(b=(h?b.replace(cN,""):b).replace(cM,"$1").replace(cK,"$1;"),b="function("+(f||"obj")+`) {
`+(f?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(j?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+b+`return __p
}`,g=fi(function(){return fI(i,r+"return "+b).apply(c,p)}),g.source=b,fD(g))throw g;return g}function mo(a){return $(a).toLowerCase()}function mp(a){return $(a).toUpperCase()}function mq(a,b,f){if(a=$(a),a&&(f||b===c))return aP(a);if(!a||!(b=bs(b)))return a;var d=n(a),e=n(b),g=bm(d,e),h=br(d,e)+1;return bY(d,g,h).join("")}function mr(a,b,e){if(a=$(a),a&&(e||b===c))return a.slice(0,bB(a)+1);if(!a||!(b=bs(b)))return a;var d=n(a),f=br(d,n(b))+1;return bY(d,0,f).join("")}function ms(a,b,e){if(a=$(a),a&&(e||b===c))return a.replace(aK,"");if(!a||!(b=bs(b)))return a;var d=n(a),f=bm(d,n(b));return bY(d,f).join("")}function mt(e,f){var h=dj,g=di,a,j,i,b,d,k,o,l,m;if(ax(f)&&(a="separator"in f?f.separator:a,h="length"in f?A(f.length):h,g="omission"in f?bs(f.omission):g),e=$(e),j=e.length,E(e)&&(i=n(e),j=i.length),h>=j)return e;if(b=h-K(g),b<1)return g;if(d=i?bY(i,0,b).join(""):e.slice(0,b),a===c)return d+g;if(i&&(b+=d.length-b),ei(a)){if(e.slice(b).search(a)){o=d;for(a.global||(a=ex(a.source,$(aT.exec(a))+"g")),a.lastIndex=0;k=a.exec(o);)l=k.index;d=d.slice(0,l===c?b:l)}}else e.indexOf(bs(a),b)!=b&&(m=d.lastIndexOf(a),m>-1&&(d=d.slice(0,m)));return d+g}function mu(a){return a=$(a),a&&cJ.test(a)?a.replace(ba,ds):a}hd=dC(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),eo=gn("toUpperCase");function hf(a,b,d){return a=$(a),b=d?c:b,b===c?df(a)?dv(a):cH(a):a.match(b)||[]}fi=L(function(a,b){try{return h(a,c,b)}catch(a){return fD(a)?a:new ek(a)}}),hg=bS(function(a,b){return j(b,function(b){b=bF(b),bK(a,b,ev(a[b],a))}),a});function mA(a){var c=a==null?0:a.length,d=b();return a=c?f(a,function(a){if(typeof a[1]!="function")throw new bt(m);return[d(a[0]),a[1]]}):[],L(function(b){for(var d=-1,e;++d<c;)if(e=a[d],h(e[0],this,b))return h(e[1],this,b)})}function mB(a){return mv(bv(a,z))}function fo(a){return function(){return a}}function mD(a,b){return a==null||a!==a?b:a}hj=gs(),hk=gs(!0);function bp(a){return a}function fp(a){return gF(typeof a=="function"?a:bv(a,z))}function mI(a){return gA(bv(a,z))}function mJ(a,b){return gx(a,bv(b,z))}hl=L(function(a,b){return function(c){return dK(c,a,b)}}),hn=L(function(a,b){return function(c){return dK(a,c,b)}});function fy(a,b,c){var e=aX(b),d=eI(b,e),f,g;return c==null&&!(ax(b)&&(d.length||!e.length))&&(c=b,b=a,a=this,d=eI(b,aX(b))),f=!(ax(c)&&"chain"in c)||!!c.chain,g=bR(a),j(d,function(c){var d=b[c];a[c]=d,g&&(a.prototype[c]=function(){var c=this.__chain__,b,e;return f||c?(b=a(this.__wrapped__),e=b.__actions__=bl(this.__actions__),e.push({func:d,args:arguments,thisArg:a}),b.__chain__=c,b):d.apply(a,y([this.value()],arguments))})}),a}function mN(){return g._===this&&(g._=ix),this}function fA(){}function mP(a){return a=A(a),L(function(b){return gt(b,a)})}hq=fk(f),hs=fk(aO),ht=fk(aC);function hw(a){return fm(a)?aj(bF(a)):ly(a)}function mU(a){return function(b){return a==null?c:du(a,b)}}hx=gz(),hy=gz(!0);function fJ(){return[]}function fM(){return!1}function mZ(){return{}}function m_(){return""}function m$(){return!0}function na(a,c){var d,e,f;if(a=A(a),a<1||a>w)return[];d=r,e=bd(a,r),c=b(c),a-=r;for(f=aJ(e,c);++d<a;)c(d);return f}function nb(a){return k(a)?f(a,bF):bq(a)?[a]:bl(fP($(a)))}function nc(a){var b=++iD;return $(a)+b}hz=er(function(a,b){return a+b},0),hA=fg("ceil"),hD=er(function(a,b){return a/b},1),hE=fg("floor");function nh(a){return a&&a.length?eA(a,bp,eM):c}function ni(a,d){return a&&a.length?eA(a,b(d,2),eM):c}function nj(a){return bc(a,bp)}function nk(a,c){return bc(a,b(c,2))}function nl(a){return a&&a.length?eA(a,bp,ff):c}function nm(a,d){return a&&a.length?eA(a,b(d,2),ff):c}hF=er(function(a,b){return a*b},1),hG=fg("round"),hH=er(function(a,b){return a-b},0);function nq(a){return a&&a.length?az(a,bp):0}function nr(a,c){return a&&a.length?az(a,b(c,2)):0}return a.after=jF,a.ary=iz,a.assign=gm,a.assignIn=fx,a.assignInWith=dW,a.assignWith=gb,a.at=f_,a.before=iy,a.bind=ev,a.bindAll=hg,a.bindKey=fa,a.castArray=ka,a.chain=iV,a.chunk=ky,a.compact=kx,a.concat=kv,a.cond=mA,a.conforms=mB,a.constant=fo,a.countBy=fS,a.create=lh,a.curry=iv,a.curryRight=iu,a.debounce=it,a.defaults=fZ,a.defaultsDeep=fY,a.defer=is,a.delay=ir,a.difference=hM,a.differenceBy=hN,a.differenceWith=hO,a.drop=kq,a.dropRight=kp,a.dropRightWhile=kn,a.dropWhile=km,a.fill=kl,a.filter=jg,a.flatMap=jj,a.flatMapDeep=jk,a.flatMapDepth=jl,a.flatten=hW,a.flattenDeep=kk,a.flattenDepth=kj,a.flip=jP,a.flow=hj,a.flowRight=hk,a.fromPairs=ki,a.functions=lq,a.functionsIn=lr,a.groupBy=iJ,a.initial=kg,a.intersection=ib,a.intersectionBy=ic,a.intersectionWith=id,a.invert=gh,a.invertBy=gi,a.invokeMap=iI,a.iteratee=fp,a.keyBy=iE,a.keys=aX,a.keysIn=bn,a.map=eq,a.mapKeys=lA,a.mapValues=lB,a.matches=mI,a.matchesProperty=mJ,a.memoize=eu,a.merge=gw,a.mergeWith=fe,a.method=hl,a.methodOf=hn,a.mixin=fy,a.negate=et,a.nthArg=mP,a.omit=gI,a.omitBy=lF,a.once=jS,a.orderBy=jt,a.over=hq,a.overArgs=il,a.overEvery=hs,a.overSome=ht,a.partial=en,a.partialRight=fl,a.partition=iC,a.pick=gL,a.pickBy=gM,a.property=hw,a.propertyOf=mU,a.pull=ij,a.pullAll=ik,a.pullAllBy=jT,a.pullAllWith=jR,a.pullAt=io,a.range=hx,a.rangeRight=hy,a.rearg=ie,a.reject=jx,a.remove=jQ,a.rest=jX,a.reverse=e$,a.sampleSize=jz,a.set=lJ,a.setWith=lK,a.shuffle=jA,a.slice=jO,a.sortBy=iB,a.sortedUniq=jH,a.sortedUniqBy=jG,a.split=mk,a.spread=jY,a.tail=jE,a.take=jD,a.takeRight=ju,a.takeRightWhile=js,a.takeWhile=jr,a.tap=jh,a.throttle=jZ,a.thru=es,a.toArray=g_,a.toPairs=eZ,a.toPairsIn=eY,a.toPath=nb,a.toPlainObject=gy,a.transform=lN,a.unary=j_,a.union=iF,a.unionBy=iG,a.unionWith=iH,a.uniq=jq,a.uniqBy=jo,a.uniqWith=jn,a.unset=lO,a.unzip=fv,a.unzipWith=iM,a.update=lP,a.updateWith=lQ,a.values=dG,a.valuesIn=lS,a.without=iN,a.words=hf,a.wrap=j$,a.xor=iO,a.xorBy=iP,a.xorWith=iQ,a.zip=iR,a.zipObject=jm,a.zipObjectDeep=ji,a.zipWith=iU,a.entries=eZ,a.entriesIn=eY,a.extend=fx,a.extendWith=dW,fy(a,a),a.add=hz,a.attempt=fi,a.camelCase=gO,a.capitalize=gP,a.ceil=hA,a.clamp=lT,a.clone=kb,a.cloneDeep=kd,a.cloneDeepWith=ke,a.cloneWith=kc,a.conformsTo=kf,a.deburr=gR,a.defaultTo=mD,a.divide=hD,a.endsWith=lZ,a.eq=bE,a.escape=l_,a.escapeRegExp=l$,a.every=jf,a.find=iW,a.findIndex=hU,a.findKey=lk,a.findLast=iT,a.findLastIndex=hV,a.findLastKey=ll,a.floor=hE,a.forEach=iS,a.forEachRight=iK,a.forIn=lm,a.forInRight=ln,a.forOwn=lo,a.forOwnRight=lp,a.get=fR,a.gt=h$,a.gte=hZ,a.has=lt,a.hasIn=fB,a.head=h_,a.identity=bp,a.includes=jp,a.indexOf=kh,a.inRange=lU,a.invoke=gj,a.isArguments=b$,a.isArray=k,a.isArrayBuffer=hT,a.isArrayLike=bo,a.isArrayLikeObject=aB,a.isBoolean=ko,a.isBuffer=bL,a.isDate=hP,a.isElement=kr,a.isEmpty=ks,a.isEqual=kt,a.isEqualWith=ku,a.isError=fD,a.isFinite=kw,a.isFunction=bR,a.isInteger=hJ,a.isLength=eD,a.isMap=fC,a.isMatch=kD,a.isMatchWith=kE,a.isNaN=kF,a.isNative=kG,a.isNil=kI,a.isNull=kH,a.isNumber=hr,a.isObject=ax,a.isObjectLike=ay,a.isPlainObject=d_,a.isRegExp=ei,a.isSafeInteger=kM,a.isSet=fr,a.isString=em,a.isSymbol=bq,a.isTypedArray=dm,a.isUndefined=kR,a.isWeakMap=kS,a.isWeakSet=kT,a.join=jW,a.kebabCase=gS,a.last=bx,a.lastIndexOf=jV,a.lowerCase=gT,a.lowerFirst=gv,a.lt=hb,a.lte=g$,a.max=nh,a.maxBy=ni,a.mean=nj,a.meanBy=nk,a.min=nl,a.minBy=nm,a.stubArray=fJ,a.stubFalse=fM,a.stubObject=mZ,a.stubString=m_,a.stubTrue=m$,a.multiply=hF,a.nth=jU,a.noConflict=mN,a.noop=fA,a.now=dT,a.pad=md,a.padEnd=me,a.padStart=mf,a.parseInt=mg,a.random=lV,a.reduce=jv,a.reduceRight=jw,a.repeat=mh,a.replace=mi,a.result=lI,a.round=hG,a.runInContext=lL,a.sample=jy,a.size=jB,a.snakeCase=gW,a.some=jC,a.sortedIndex=jN,a.sortedIndexBy=jM,a.sortedIndexOf=jL,a.sortedLastIndex=jK,a.sortedLastIndexBy=jJ,a.sortedLastIndexOf=jI,a.startCase=gX,a.startsWith=mm,a.subtract=hH,a.sum=nq,a.sumBy=nr,a.template=mn,a.times=na,a.toFinite=bJ,a.toInteger=A,a.toLength=gK,a.toLower=mo,a.toNumber=bC,a.toSafeInteger=la,a.toString=$,a.toUpper=mp,a.trim=mq,a.trimEnd=mr,a.trimStart=ms,a.truncate=mt,a.unescape=mu,a.uniqueId=nc,a.upperCase=hd,a.upperFirst=eo,a.each=iS,a.eachRight=iK,a.first=h_,fy(a,function(){var b={};return bG(a,function(d,c){ak.call(a.prototype,c)||(b[c]=d)}),b}(),{chain:!1}),a.VERSION=dr,j(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){a[b].placeholder=a}),j(["drop","take"],function(a,b){Y.prototype[a]=function(e){e=e===c?1:aG(A(e),0);var d=this.__filtered__&&!b?new Y(this):this.clone();return d.__filtered__?d.__takeCount__=bd(e,d.__takeCount__):d.__views__.push({size:bd(e,r),type:a+(d.__dir__<0?"Right":"")}),d},Y.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),j(["filter","map","takeWhile"],function(c,d){var a=d+1,e=a==bw||a==c_;Y.prototype[c]=function(d){var c=this.clone();return c.__iteratees__.push({iteratee:b(d,3),type:a}),c.__filtered__=c.__filtered__||e,c}}),j(["head","last"],function(a,b){var c="take"+(b?"Right":"");Y.prototype[a]=function(){return this[c](1).value()[0]}}),j(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");Y.prototype[a]=function(){return this.__filtered__?new Y(this):this[c](1)}}),Y.prototype.compact=function(){return this.filter(bp)},Y.prototype.find=function(a){return this.filter(a).head()},Y.prototype.findLast=function(a){return this.reverse().find(a)},Y.prototype.invokeMap=L(function(a,b){return typeof a=="function"?new Y(this):this.map(function(c){return dK(c,a,b)})}),Y.prototype.reject=function(a){return this.filter(et(b(a)))},Y.prototype.slice=function(b,d){b=A(b);var a=this;return a.__filtered__&&(b>0||d<0)?new Y(a):(b<0?a=a.takeRight(-b):b&&(a=a.drop(b)),d!==c&&(d=A(d),a=d<0?a.dropRight(-d):a.take(d-b)),a)},Y.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Y.prototype.toArray=function(){return this.take(r)},bG(Y.prototype,function(e,b){var h=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),f=a[d?"take"+(b=="last"?"Right":""):b],g=d||/^find/.test(b);f&&(a.prototype[b]=function(){var i=this.__wrapped__,j=d?[1]:arguments,l=i instanceof Y,o=j[0],n=l||k(i),p=function(c){var b=f.apply(a,y([c],j));return d&&m?b[0]:b},m,s,q,r,b;return n&&h&&typeof o=="function"&&o.length!=1&&(l=n=!1),m=this.__chain__,s=!!this.__actions__.length,q=g&&!m,r=l&&!s,!g&&n?(i=r?i:new Y(this),b=e.apply(i,j),b.__actions__.push({func:es,args:[p],thisArg:c}),new bu(b,m)):q&&r?e.apply(this,j):(b=this.thru(p),q?d?b.value()[0]:b.value():b)})}),j(["pop","push","shift","sort","splice","unshift"],function(b){var c=dU[b],d=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",e=/^(?:pop|shift)$/.test(b);a.prototype[b]=function(){var a=arguments,b;return e&&!this.__chain__?(b=this.value(),c.apply(k(b)?b:[],a)):this[d](function(b){return c.apply(k(b)?b:[],a)})}}),bG(Y.prototype,function(e,d){var b=a[d],c;b&&(c=b.name+"",ak.call(cg,c)||(cg[c]=[]),cg[c].push({name:d,func:b}))}),cg[eg(c,C).name]=[{name:"wrapper",func:c}],Y.prototype.clone=np,Y.prototype.reverse=no,Y.prototype.value=iZ,a.prototype.at=iY,a.prototype.chain=je,a.prototype.commit=i_,a.prototype.next=i$,a.prototype.plant=jb,a.prototype.reverse=jc,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=jd,a.prototype.first=a.prototype.head,dA&&(a.prototype[dA]=ja),a},J=dw(),A?((A.exports=J)._=J,aw._=J):g._=J}).call(cr)}(eM,eM.exports),pR=Object.defineProperty,pS=Object.defineProperties,pT=Object.getOwnPropertyDescriptors,jG=Object.getOwnPropertySymbols,pV=Object.prototype.hasOwnProperty,pW=Object.prototype.propertyIsEnumerable,jF=(a,b,c)=>b in a?pR(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,dH=(c,b)=>{var a;for(a in b||(b={}))pV.call(b,a)&&jF(c,a,b[a]);if(jG)for(a of jG(b))pW.call(b,a)&&jF(c,a,b[a]);return c},pZ=(a,b)=>pS(a,pT(b));function $(d,b,e){let a;const c=eP(d);return b.rpcMap&&(a=b.rpcMap[c]),a||(a=`${pN}?chainId=eip155:${c}&projectId=${e}`),a}function eP(a){return a.includes("eip155")?Number(a.split(":")[1]):Number(a)}function qa(a,b){if(!b.includes(a))throw new Error(`Chain '${a}' not approved. Please use one of the following: ${b.toString()}`)}function qb(a){return a.map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`)}function qc(d,a){const b=Object.keys(a.namespaces).filter(a=>a.includes(d));if(!b.length)return[];const c=[];return b.forEach(b=>{const d=a.namespaces[b].accounts;c.push(...d)}),c}function qd(a,b={}){const c=jB(a),d=jB(b);return eM.exports.merge(c,d)}function jB(b){var c,d,e,f;const a={};if(!bx(b))return a;for(const[i,h]of Object.entries(b)){const j=hl(i)?[i]:h.chains,k=h.methods||[],l=h.events||[],m=h.rpcMap||{},g=cP(i);a[g]=pZ(dH(dH({},a[g]),h),{chains:fS(j,(c=a[g])==null?void 0:c.chains),methods:fS(k,(d=a[g])==null?void 0:d.methods),events:fS(l,(e=a[g])==null?void 0:e.events),rpcMap:dH(dH({},m),(f=a[g])==null?void 0:f.rpcMap)})}return a}const bj=(a,b)=>{const c=d=>{d.request!==b.request||d.topic!==b.topic||(a.events.removeListener("session_request_sent",c),qg(b,a.core.storage))};a.on("session_request_sent",c)};async function qg(a,b){try{const d=await b.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(!d)return;const g=typeof d=="string"?JSON.parse(d):d;let c=g?.href;if(typeof c!="string")return;c.endsWith("/")&&(c=c.slice(0,-1));const e=`${c}/wc?requestId=${a.id}&sessionTopic=${a.topic}`,f=iz();f===aP.browser?window.open(e,"_self","noreferrer noopener"):f===aP.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(e)}catch(a){console.error(a)}}const jz={},y=a=>jz[a],eV=(a,b)=>{jz[a]=b};class qk{constructor(a){this.name="polkadot",this.namespace=a.namespace,this.events=y("events"),this.client=y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const a=this.namespace.chains[0];if(!a)throw new Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?(bj(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){const c=b||$(`${this.name}:${a}`,this.namespace);if(!c)throw new Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(az.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const a=this.namespace.accounts;return a?a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2])||[]:[]}createHttpProviders(){const a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,(c=this.namespace.rpcMap)==null?void 0:c[b])}),a}getHttpProvider(){const a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw new Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,c){const b=this.createHttpProvider(a,c);b&&(this.httpProviders[a]=b)}createHttpProvider(b,c){const a=c||$(b,this.namespace);return typeof a>"u"?void 0:new aI(new bg(a,y("disableProviderPing")))}}class ql{constructor(a){this.name="eip155",this.namespace=a.namespace,this.events=y("events"),this.client=y("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(a){var b;switch(a.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(a.request.params?(b=a.request.params[0])==null?void 0:b.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(a.request.method)?(bj(this.client,a),await this.client.request(a)):this.getHttpProvider().request(a.request)}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}setDefaultChain(b,c){const a=eP(b);if(!this.httpProviders[a]){const b=c||$(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!b)throw new Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,b)}this.chainId=a,this.events.emit(az.DEFAULT_CHAIN_CHANGED,`${this.name}:${a}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const a=this.namespace.chains[0];if(!a)throw new Error("ChainId not found");return a.split(":")[1]}createHttpProvider(b,c){const a=c||$(`${this.name}:${b}`,this.namespace,this.client.core.projectId);return typeof a>"u"?void 0:new aI(new bg(a,y("disableProviderPing")))}setHttpProvider(a,c){const b=this.createHttpProvider(a,c);b&&(this.httpProviders[a]=b)}createHttpProviders(){const a={};return this.namespace.chains.forEach(b=>{var c;const d=eP(b);a[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[b])}),a}getAccounts(){const a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}getHttpProvider(){const a=this.chainId,b=this.httpProviders[a];if(typeof b>"u")throw new Error(`JSON-RPC provider for ${a} not found`);return b}handleSwitchChain(b){const a=parseInt(b,16),c=`${this.name}:${a}`;qa(c,this.namespace.chains),this.setDefaultChain(`${a}`)}}class qm{constructor(a){this.name="solana",this.namespace=a.namespace,this.events=y("events"),this.client=y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?(bj(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){const c=b||$(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(az.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const a=this.namespace.chains[0];if(!a)throw new Error("ChainId not found");return a.split(":")[1]}getAccounts(){const a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){const a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,(c=this.namespace.rpcMap)==null?void 0:c[b])}),a}getHttpProvider(){const a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw new Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,c){const b=this.createHttpProvider(a,c);b&&(this.httpProviders[a]=b)}createHttpProvider(b,c){const a=c||$(b,this.namespace,this.client.core.projectId);return typeof a>"u"?void 0:new aI(new bg(a,y("disableProviderPing")))}}class qn{constructor(a){this.name="cosmos",this.namespace=a.namespace,this.events=y("events"),this.client=y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const a=this.namespace.chains[0];if(!a)throw new Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?(bj(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){const c=b||$(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(az.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){const a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,(c=this.namespace.rpcMap)==null?void 0:c[b])}),a}getHttpProvider(){const a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw new Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,c){const b=this.createHttpProvider(a,c);b&&(this.httpProviders[a]=b)}createHttpProvider(b,c){const a=c||$(b,this.namespace,this.client.core.projectId);return typeof a>"u"?void 0:new aI(new bg(a,y("disableProviderPing")))}}class qo{constructor(a){this.name="cip34",this.namespace=a.namespace,this.events=y("events"),this.client=y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const a=this.namespace.chains[0];if(!a)throw new Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?(bj(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){const c=b||this.getCardanoRPCUrl(a);if(!c)throw new Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(az.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){const a={};return this.namespace.chains.forEach(b=>{const c=this.getCardanoRPCUrl(b);a[b]=this.createHttpProvider(b,c)}),a}getHttpProvider(){const a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw new Error(`JSON-RPC provider for ${a} not found`);return b}getCardanoRPCUrl(b){const a=this.namespace.rpcMap;if(a)return a[b]}setHttpProvider(a,c){const b=this.createHttpProvider(a,c);b&&(this.httpProviders[a]=b)}createHttpProvider(b,c){const a=c||this.getCardanoRPCUrl(b);return typeof a>"u"?void 0:new aI(new bg(a,y("disableProviderPing")))}}class qp{constructor(a){this.name="elrond",this.namespace=a.namespace,this.events=y("events"),this.client=y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?(bj(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){const c=b||$(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(az.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const a=this.namespace.chains[0];if(!a)throw new Error("ChainId not found");return a.split(":")[1]}getAccounts(){const a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){const a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,(c=this.namespace.rpcMap)==null?void 0:c[b])}),a}getHttpProvider(){const a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw new Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,c){const b=this.createHttpProvider(a,c);b&&(this.httpProviders[a]=b)}createHttpProvider(b,c){const a=c||$(b,this.namespace,this.client.core.projectId);return typeof a>"u"?void 0:new aI(new bg(a,y("disableProviderPing")))}}class qq{constructor(a){this.name="multiversx",this.namespace=a.namespace,this.events=y("events"),this.client=y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?(bj(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){const c=b||$(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(az.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const a=this.namespace.chains[0];if(!a)throw new Error("ChainId not found");return a.split(":")[1]}getAccounts(){const a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){const a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,(c=this.namespace.rpcMap)==null?void 0:c[b])}),a}getHttpProvider(){const a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw new Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,c){const b=this.createHttpProvider(a,c);b&&(this.httpProviders[a]=b)}createHttpProvider(b,c){const a=c||$(b,this.namespace,this.client.core.projectId);return typeof a>"u"?void 0:new aI(new bg(a,y("disableProviderPing")))}}qr=Object.defineProperty,qs=Object.defineProperties,qt=Object.getOwnPropertyDescriptors,jp=Object.getOwnPropertySymbols,qv=Object.prototype.hasOwnProperty,qw=Object.prototype.propertyIsEnumerable,jm=(a,b,c)=>b in a?qr(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,dA=(c,b)=>{var a;for(a in b||(b={}))qv.call(b,a)&&jm(c,a,b[a]);if(jp)for(a of jp(b))qw.call(b,a)&&jm(c,a,b[a]);return c},e$=(a,b)=>qs(a,qt(b));class jj{constructor(a){this.events=new I.exports,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=a,this.logger=typeof a?.logger<"u"&&typeof a?.logger!="string"?a.logger:q.pino(q.getDefaultLoggerOptions({level:a?.logger||jL})),this.disableProviderPing=a?.disableProviderPing||!1}static async init(b){const a=new jj(b);return await a.initialize(),a}async request(b,c){const[a,d]=this.validateChain(c);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(a).request({request:dA({},b),chainId:`${a}:${d}`,topic:this.session.topic})}sendAsync(b,a,c){this.request(b,c).then(b=>a(null,b)).catch(b=>a(b,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var a;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(a=this.session)==null?void 0:a.topic,reason:x("USER_DISCONNECTED")}),await this.cleanup()}async connect(a){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(a),await this.cleanupPendingPairings(),!a.skipPairing)return await this.pair(a.pairingTopic)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}removeListener(a,b){this.events.removeListener(a,b)}off(a,b){this.events.off(a,b)}get isWalletConnect(){return!0}async pair(b){this.shouldAbortPairingAttempt=!1;let a=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(a>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:c,approval:d}=await this.client.connect({pairingTopic:b,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});c&&(this.uri=c,this.events.emit("display_uri",c)),await d().then(a=>{this.session=a}).catch(b=>{if(b.message!==kh)throw b;a++})}while(!this.session)return this.onConnect(),this.session}setDefaultChain(a,b){try{const[c,d]=this.validateChain(a);this.getProvider(c).setDefaultChain(d,b)}catch(a){if(!/Please call connect/.test(a.message))throw a}}async cleanupPendingPairings(b={}){this.logger.info("Cleaning up inactive pairings...");const a=this.client.pairing.getAll();if(ax(a)){for(const c of a)b.deletePairings?this.client.core.expirer.set(c.topic,0):await this.client.core.relayer.subscriber.unsubscribe(c.topic);this.logger.info(`Inactive pairings cleared: ${a.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const a=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[a]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await jX.init({logger:this.providerOpts.logger||jL,relayUrl:this.providerOpts.relayUrl||pJ,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const a=[...new Set(Object.keys(this.session.namespaces).map(a=>cP(a)))];eV("client",this.client),eV("events",this.events),eV("disableProviderPing",this.disableProviderPing),a.forEach(a=>{if(!this.session)return;const c=qc(a,this.session),d=qb(c),e=qd(this.namespaces,this.optionalNamespaces),b=e$(dA({},e[a]),{accounts:c,chains:d});switch(a){case"eip155":this.rpcProviders[a]=new ql({namespace:b});break;case"solana":this.rpcProviders[a]=new qm({namespace:b});break;case"cosmos":this.rpcProviders[a]=new qn({namespace:b});break;case"polkadot":this.rpcProviders[a]=new qk({namespace:b});break;case"cip34":this.rpcProviders[a]=new qo({namespace:b});break;case"elrond":this.rpcProviders[a]=new qp({namespace:b});break;case"multiversx":this.rpcProviders[a]=new qq({namespace:b});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",a=>{this.events.emit("session_ping",a)}),this.client.on("session_event",b=>{const{params:c}=b,{event:a}=c;a.name==="accountsChanged"?this.events.emit("accountsChanged",a.data):a.name==="chainChanged"?this.onChainChanged(c.chainId):this.events.emit(a.name,a.data),this.events.emit("session_event",b)}),this.client.on("session_update",({topic:a,params:b})=>{var c;const{namespaces:d}=b,e=(c=this.client)==null?void 0:c.session.get(a);this.session=e$(dA({},e),{namespaces:d}),this.onSessionUpdate(),this.events.emit("session_update",{topic:a,params:b})}),this.client.on("session_delete",async a=>{await this.cleanup(),this.events.emit("session_delete",a),this.events.emit("disconnect",e$(dA({},x("USER_DISCONNECTED")),{data:a.topic}))}),this.on(az.DEFAULT_CHAIN_CHANGED,a=>{this.onChainChanged(a,!0)})}getProvider(a){if(!this.rpcProviders[a])throw new Error(`Provider not found: ${a}`);return this.rpcProviders[a]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(a=>{var b;this.getProvider(a).updateNamespace((b=this.session)==null?void 0:b.namespaces[a])})}setNamespaces(c){const{namespaces:a,optionalNamespaces:b,sessionProperties:d}=c;if(!a||!Object.keys(a).length)throw new Error("Namespaces must be not empty");this.namespaces=a,this.optionalNamespaces=b,this.sessionProperties=d,this.persist("namespaces",a),this.persist("optionalNamespaces",b)}validateChain(d){const[a,b]=d?.split(":")||["",""];if(a&&!Object.keys(this.namespaces).map(a=>cP(a)).includes(a))throw new Error(`Namespace '${a}' is not configured. Please call connect() first with namespace config.`);if(a&&b)return[a,b];const c=cP(Object.keys(this.namespaces)[0]),e=this.rpcProviders[c].getDefaultChain();return[c,e]}async requestAccounts(){const[a]=this.validateChain();return await this.getProvider(a).requestAccounts()}onChainChanged(d,e=!1){var c;const[b,a]=this.validateChain(d);e||this.getProvider(b).setDefaultChain(a),((c=this.namespaces[b])!=null?c:this.namespaces[`${b}:${a}`]).defaultChain=a,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",a)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(a,b){this.client.core.storage.setItem(`${jK}/${a}`,b)}async getFromStore(a){return await this.client.core.storage.getItem(`${jK}/${a}`)}}const qB=jj,qC="wc",qD="ethereum_provider",qE=`${qC}@${2}:${qD}:`,qF="https://rpc.walletconnect.com/v1/",dx=["eth_sendTransaction","personal_sign"],qH=["eth_accounts","eth_requestAccounts","eth_call","eth_getBalance","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],dw=["chainChanged","accountsChanged"],qJ=["message","disconnect","connect"];qK=Object.defineProperty,qL=Object.defineProperties,qM=Object.getOwnPropertyDescriptors,jg=Object.getOwnPropertySymbols,qO=Object.prototype.hasOwnProperty,qP=Object.prototype.propertyIsEnumerable,jf=(a,b,c)=>b in a?qK(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,ff=(c,b)=>{var a;for(a in b||(b={}))qO.call(b,a)&&jf(c,a,b[a]);if(jg)for(a of jg(b))qP.call(b,a)&&jf(c,a,b[a]);return c},jd=(a,b)=>qL(a,qM(b));function fg(a){return Number(a[0].split(":")[1])}function fh(a){return`0x${a.toString(16)}`}function qV(n){const{chains:l,optionalChains:a,methods:i,optionalMethods:g,events:f,optionalEvents:e,rpcMap:h}=n;if(!ax(l))throw new Error("Invalid chains");const b=l,j=i||dx,k=f||dw,o={[fg(b)]:h[fg(b)]},m={chains:b,methods:j,events:k,rpcMap:o},c=f?.filter(a=>!dw.includes(a)),d=i?.filter(a=>!dx.includes(a));if(!a&&!e&&!g&&!(c!=null&&c.length)&&!(d!=null&&d.length))return{required:m};const p=c?.length&&d?.length||!a,q={chains:[...new Set(p?b.concat(a||[]):a)],methods:[...new Set(j.concat(g||[]))],events:[...new Set(k.concat(e||[]))],rpcMap:h};return{required:m,optional:q}}class fk{constructor(){this.events=new I.exports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=qE,this.on=(a,b)=>(this.events.on(a,b),this),this.once=(a,b)=>(this.events.once(a,b),this),this.removeListener=(a,b)=>(this.events.removeListener(a,b),this),this.off=(a,b)=>(this.events.off(a,b),this),this.parseAccount=a=>this.isCompatibleChainId(a)?this.parseAccountId(a).address:a,this.signer={},this.rpc={}}static async init(b){const a=new fk;return await a.initialize(b),a}async request(a){return await this.signer.request(a,this.formatChainId(this.chainId))}sendAsync(a,b){this.signer.sendAsync(a,b,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(a){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(a);const{required:c,optional:b}=qV(this.rpc);try{const d=await new Promise(async(f,d)=>{var e;this.rpc.showQrModal&&((e=this.modal)==null||e.subscribeModal(a=>{!a.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),d(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(jd(ff({namespaces:{[this.namespace]:c}},b&&{optionalNamespaces:{[this.namespace]:b}}),{pairingTopic:a?.pairingTopic})).then(a=>{f(a)}).catch(a=>{d(new Error(a.message))})});if(!d)return;this.setChainIds(this.rpc.chains);const e=uy(d.namespaces,[this.namespace]);this.setAccounts(e),this.events.emit("connect",{chainId:fh(this.chainId)})}catch(a){throw this.signer.logger.error(a),a}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",b=>{const{params:c}=b,{event:a}=c;a.name==="accountsChanged"?(this.accounts=this.parseAccounts(a.data),this.events.emit("accountsChanged",this.accounts)):a.name==="chainChanged"?this.setChainId(this.formatChainId(a.data)):this.events.emit(a.name,a.data),this.events.emit("session_event",b)}),this.signer.on("chainChanged",a=>{const b=parseInt(a);this.chainId=b,this.events.emit("chainChanged",fh(this.chainId)),this.persist()}),this.signer.on("session_update",a=>{this.events.emit("session_update",a)}),this.signer.on("session_delete",a=>{this.reset(),this.events.emit("session_delete",a),this.events.emit("disconnect",jd(ff({},x("USER_DISCONNECTED")),{data:a.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",a=>{var b,c;this.rpc.showQrModal&&((b=this.modal)==null||b.closeModal(),(c=this.modal)==null||c.openModal({uri:a})),this.events.emit("display_uri",a)})}setHttpProvider(a){this.request({method:"wallet_switchEthereumChain",params:[{chainId:a.toString(16)}]})}isCompatibleChainId(a){return typeof a=="string"&&a.startsWith(`${this.namespace}:`)}formatChainId(a){return`${this.namespace}:${a}`}parseChainId(a){return Number(a.split(":")[1])}setChainIds(b){const a=b.filter(a=>this.isCompatibleChainId(a)).map(a=>this.parseChainId(a));a.length&&(this.chainId=a[0],this.events.emit("chainChanged",fh(this.chainId)),this.persist())}setChainId(a){if(this.isCompatibleChainId(a)){const b=this.parseChainId(a);this.chainId=b,this.setHttpProvider(b)}}parseAccountId(a){const[b,c,d]=a.split(":");return{chainId:`${b}:${c}`,address:d}}setAccounts(a){this.accounts=a.filter(a=>this.parseChainId(this.parseAccountId(a).chainId)===this.chainId).map(a=>this.parseAccountId(a).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(a){var b,c;return{chains:((b=a.chains)==null?void 0:b.map(a=>this.formatChainId(a)))||[`${this.namespace}:1`],optionalChains:a.optionalChains?a.optionalChains.map(a=>this.formatChainId(a)):void 0,methods:a?.methods||dx,events:a?.events||dw,optionalMethods:a?.optionalMethods||[],optionalEvents:a?.optionalEvents||[],rpcMap:a?.rpcMap||this.buildRpcMap(a.chains.concat(a.optionalChains||[]),a.projectId),showQrModal:Boolean(a?.showQrModal),qrModalOptions:(c=a?.qrModalOptions)!=null?c:void 0,projectId:a.projectId,metadata:a.metadata}}buildRpcMap(b,c){const a={};return b.forEach(b=>{a[b]=this.getRpcUrl(b,c)}),a}async initialize(a){if(this.rpc=this.getRpcConfig(a),this.chainId=fg(this.rpc.chains),this.signer=await qB.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:a.disableProviderPing}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal)try{const{Web3Modal:a}=await Promise.resolve().then(function(){return su});this.modal=new a(ff({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch{throw new Error("To use QR modal, please install @web3modal/standalone package")}}loadConnectOpts(c){if(!c)return;const{chains:a,optionalChains:b,rpcMap:d}=c;a&&ax(a)&&(this.rpc.chains=a.map(a=>this.formatChainId(a)),a.forEach(a=>{this.rpc.rpcMap[a]=d?.[a]||this.getRpcUrl(a)})),b&&ax(b)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=b?.map(a=>this.formatChainId(a)),b.forEach(a=>{this.rpc.rpcMap[a]=d?.[a]||this.getRpcUrl(a)}))}getRpcUrl(a,c){var b;return((b=this.rpc.rpcMap)==null?void 0:b[a])||`${qF}?chainId=eip155:${a}&projectId=${c||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const a=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);this.setChainIds(a?[this.formatChainId(a)]:this.session.namespaces[this.namespace].accounts),this.setAccounts(this.session.namespaces[this.namespace].accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(a){return typeof a=="string"||a instanceof String?[this.parseAccount(a)]:a.map(a=>this.parseAccount(a))}}const qX=fk,qY=Symbol(),iY=Object.getPrototypeOf,gy=new WeakMap,q$=a=>a&&(gy.has(a)?gy.get(a):iY(a)===Object.prototype||iY(a)===Array.prototype),ra=a=>q$(a)&&a[qY]||null,iW=(a,b=!0)=>{gy.set(a,b)},fl=a=>typeof a=="object"&&a!==null,ay=new WeakMap,dr=new WeakSet,rf=(e=Object.is,h=(a,b)=>new Proxy(a,b),f=a=>fl(a)&&!dr.has(a)&&(Array.isArray(a)||!(Symbol.iterator in a))&&!(a instanceof WeakMap)&&!(a instanceof WeakSet)&&!(a instanceof Error)&&!(a instanceof Number)&&!(a instanceof Date)&&!(a instanceof String)&&!(a instanceof RegExp)&&!(a instanceof ArrayBuffer),g=a=>{switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a}},c=new WeakMap,d=(a,e,f=g)=>{const h=c.get(a);if(h?.[0]===e)return h[1];const b=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return iW(b,!0),c.set(a,[e,b]),Reflect.ownKeys(a).forEach(g=>{if(Object.getOwnPropertyDescriptor(b,g))return;const c=Reflect.get(a,g),e={value:c,enumerable:!0,configurable:!0};if(dr.has(c))iW(c,!1);else if(c instanceof Promise)delete e.value,e.get=()=>f(c);else if(ay.has(c)){const[a,b]=ay.get(c);e.value=d(a,b(),f)}Object.defineProperty(b,g,e)}),b},a=new WeakMap,b=[1,1],i=g=>{if(!fl(g))throw new Error("object required");const q=a.get(g);if(q)return q;let k=b[0];const j=new Set,l=(c,a=++b[0])=>{k!==a&&(k=a,j.forEach(b=>b(c,a)))};let p=b[1];const u=(a=++b[1])=>(p!==a&&!j.size&&(p=a,c.forEach(([c])=>{const b=c[1](a);b>k&&(k=b)})),k),o=a=>(c,d)=>{const b=[...c];b[1]=[a,...b[1]],l(b,d)},c=new Map,t=(a,b)=>{if(void 0!=="production"&&c.has(a))throw new Error("prop listener already exists");if(j.size){const d=b[3](o(a));c.set(a,[b,d])}else c.set(a,[b])},r=b=>{var d;const a=c.get(b);a&&(c.delete(b),(d=a[1])==null||d.call(a))},s=a=>(j.add(a),j.size===1&&c.forEach(([a,d],b)=>{if(void 0!=="production"&&d)throw new Error("remove already exists");const e=a[3](o(b));c.set(b,[a,e])}),()=>{j.delete(a),j.size===0&&c.forEach(([b,a],d)=>{a&&(a(),c.set(d,[b]))})}),n=Array.isArray(g)?[]:Object.create(Object.getPrototypeOf(g)),m=h(n,{deleteProperty(b,a){const d=Reflect.get(b,a);r(a);const c=Reflect.deleteProperty(b,a);return c&&l(["delete",[a],d]),c},set(h,c,b,j){const k=Reflect.has(h,c),g=Reflect.get(h,c,j);if(k&&(e(g,b)||a.has(b)&&e(g,a.get(b))))return!0;r(c),fl(b)&&(b=ra(b)||b);let d=b;if(b instanceof Promise)b.then(a=>{b.status="fulfilled",b.value=a,l(["resolve",[c],a])}).catch(a=>{b.status="rejected",b.reason=a,l(["reject",[c],a])});else{!ay.has(b)&&f(b)&&(d=i(b));const a=!dr.has(d)&&ay.get(d);a&&t(c,a)}return Reflect.set(h,c,d,j),l(["set",[c],b,g]),!0}});a.set(g,m);const v=[n,u,d,s];return ay.set(m,v),Reflect.ownKeys(g).forEach(a=>{const b=Object.getOwnPropertyDescriptor(g,a);"value"in b&&(m[a]=g[a],delete b.value,delete b.writable),Object.defineProperty(n,a,b)}),m})=>[i,ay,dr,e,h,f,g,c,d,a,b],[rg]=rf();function ak(a={}){return rg(a)}function ap(f,e,g){const d=ay.get(f);void 0!=="production"&&!d&&console.warn("Please use proxy object");let b;const c=[],h=d[3];let a=!1;const i=h(d=>{if(c.push(d),g){e(c.splice(0));return}b||(b=Promise.resolve().then(()=>{b=void 0,a&&e(c.splice(0))}))});return a=!0,()=>{a=!1,i()}}function rj(b,c){const a=ay.get(b);void 0!=="production"&&!a&&console.warn("Please use proxy object");const[d,e,f]=a;return f(d,e(),c)}iN={},d$={},d$.byteLength=rt,d$.toByteArray=rv,d$.fromByteArray=ry;for(aj=[],aa=[],ro=typeof Uint8Array<"u"?Uint8Array:Array,fx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bp=0,rr=fx.length;bp<rr;++bp)aj[bp]=fx[bp],aa[fx.charCodeAt(bp)]=bp;aa["-".charCodeAt(0)]=62,aa["_".charCodeAt(0)]=63;function it(c){var b=c.length,a,d;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return a=c.indexOf("="),a===-1&&(a=b),d=a===b?0:4-a%4,[a,d]}function rt(c){var a=it(c),d=a[0],b=a[1];return(d+b)*3/4-b}function ru(c,b,a){return(b+a)*3/4-a}function rv(b){var c,h=it(b),g=h[0],f=h[1],d=new ro(ru(b,g,f)),e=0,i=f>0?g-4:g,a;for(a=0;a<i;a+=4)c=aa[b.charCodeAt(a)]<<18|aa[b.charCodeAt(a+1)]<<12|aa[b.charCodeAt(a+2)]<<6|aa[b.charCodeAt(a+3)],d[e++]=c>>16&255,d[e++]=c>>8&255,d[e++]=c&255;return f===2&&(c=aa[b.charCodeAt(a)]<<2|aa[b.charCodeAt(a+1)]>>4,d[e++]=c&255),f===1&&(c=aa[b.charCodeAt(a)]<<10|aa[b.charCodeAt(a+1)]<<4|aa[b.charCodeAt(a+2)]>>2,d[e++]=c>>8&255,d[e++]=c&255),d}function rw(a){return aj[a>>18&63]+aj[a>>12&63]+aj[a>>6&63]+aj[a&63]}function rx(b,e,f){for(var c,d=[],a=e;a<f;a+=3)c=(b[a]<<16&16711680)+(b[a+1]<<8&65280)+(b[a+2]&255),d.push(rw(c));return d.join("")}function ry(b){for(var a,c=b.length,f=c%3,e=[],g=16383,d=0,h=c-f;d<h;d+=g)e.push(rx(b,d,d+g>h?h:d+g));return f===1?(a=b[c-1],e.push(aj[a>>2]+aj[a<<4&63]+"==")):f===2&&(a=(b[c-2]<<8)+b[c-1],e.push(aj[a>>10]+aj[a>>4&63]+aj[a<<2&63]+"=")),e.join("")}fD={},fD.read=function(i,h,m,f,l){var a,c,n=l*8-f-1,k=(1<<n)-1,j=k>>1,b=-7,d=m?l-1:0,g=m?-1:1,e=i[h+d];for(d+=g,a=e&(1<<-b)-1,e>>=-b,b+=n;b>0;a=a*256+i[h+d],d+=g,b-=8);for(c=a&(1<<-b)-1,a>>=-b,b+=f;b>0;c=c*256+i[h+d],d+=g,b-=8);if(a===0)a=1-j;else{if(a===k)return c?NaN:(e?-1:1)*(1/0);c=c+Math.pow(2,f),a=a-j}return(e?-1:1)*c*Math.pow(2,a-f)},fD.write=function(j,b,l,o,c,n){var a,d,f,i=n*8-c-1,h=(1<<i)-1,e=h>>1,m=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:n-1,k=o?1:-1,p=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(d=isNaN(b)?1:0,a=h):(a=Math.floor(Math.log(b)/Math.LN2),b*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+e>=1?b+=m/f:b+=m*Math.pow(2,1-e),b*f>=2&&(a++,f/=2),a+e>=h?(d=0,a=h):a+e>=1?(d=(b*f-1)*Math.pow(2,c),a=a+e):(d=b*Math.pow(2,e-1)*Math.pow(2,c),a=0));c>=8;j[l+g]=d&255,g+=k,d/=256,c-=8);for(a=a<<c|d,i+=c;i>0;j[l+g]=a&255,g+=k,a/=256,i-=8);j[l+g-k]|=p*128},function(l){const t=d$,j=fD,F=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=a,l.SlowBuffer=ab,l.INSPECT_MAX_BYTES=50;const m=2147483647;l.kMaxLength=m,a.TYPED_ARRAY_SUPPORT=ah(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ah(){try{const a=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(a,b),a.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function e(b){if(b>m)throw new RangeError('The value "'+b+'" is invalid for option "size"');const c=new Uint8Array(b);return Object.setPrototypeOf(c,a.prototype),c}function a(a,b,c){if(typeof a=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return q(a)}return D(a,b,c)}a.poolSize=8192;function D(b,c,e){if(typeof b=="string")return ae(b,c);if(ArrayBuffer.isView(b))return ad(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(d(b,ArrayBuffer)||b&&d(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(d(b,SharedArrayBuffer)||b&&d(b.buffer,SharedArrayBuffer)))return A(b,c,e);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const f=b.valueOf&&b.valueOf();if(f!=null&&f!==b)return a.from(f,c,e);const g=ac(b);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return a.from(b[Symbol.toPrimitive]("string"),c,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}a.from=function(a,b,c){return D(a,b,c)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function C(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function af(a,b,c){return C(a),a<=0?e(a):b!==void 0?typeof c=="string"?e(a).fill(b,c):e(a).fill(b):e(a)}a.alloc=function(a,b,c){return af(a,b,c)};function q(a){return C(a),e(a<0?0:r(a)|0)}a.allocUnsafe=function(a){return q(a)},a.allocUnsafeSlow=function(a){return q(a)};function ae(d,b){if((typeof b!="string"||b==="")&&(b="utf8"),!a.isEncoding(b))throw new TypeError("Unknown encoding: "+b);const f=y(d,b)|0;let c=e(f);const g=c.write(d,b);return g!==f&&(c=c.slice(0,g)),c}function p(a){const b=a.length<0?0:r(a.length)|0,c=e(b);for(let d=0;d<b;d+=1)c[d]=a[d]&255;return c}function ad(a){if(d(a,Uint8Array)){const b=new Uint8Array(a);return A(b.buffer,b.byteOffset,b.byteLength)}return p(a)}function A(c,b,e){if(b<0||c.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<b+(e||0))throw new RangeError('"length" is outside of buffer bounds');let d;return b===void 0&&e===void 0?d=new Uint8Array(c):e===void 0?d=new Uint8Array(c,b):d=new Uint8Array(c,b,e),Object.setPrototypeOf(d,a.prototype),d}function ac(b){if(a.isBuffer(b)){const c=r(b.length)|0,a=e(c);return a.length===0||b.copy(a,0,0,c),a}if(b.length!==void 0)return typeof b.length!="number"||o(b.length)?e(0):p(b);if(b.type==="Buffer"&&Array.isArray(b.data))return p(b.data)}function r(a){if(a>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return a|0}function ab(b){return+b!=b&&(b=0),a.alloc(+b)}a.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==a.prototype},a.compare=function(b,c){if(d(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),d(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(b)||!a.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===c)return 0;let e=b.length,f=c.length;for(let a=0,d=Math.min(e,f);a<d;++a)if(b[a]!==c[a]){e=b[a],f=c[a];break}return e<f?-1:f<e?1:0},a.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(c,g){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let b;if(g===void 0)for(g=0,b=0;b<c.length;++b)g+=c[b].length;const e=a.allocUnsafe(g);let f=0;for(b=0;b<c.length;++b){let g=c[b];if(d(g,Uint8Array))f+g.length>e.length?(a.isBuffer(g)||(g=a.from(g)),g.copy(e,f)):Uint8Array.prototype.set.call(e,g,f);else if(a.isBuffer(g))g.copy(e,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=g.length}return e};function y(b,e){if(a.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||d(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const c=b.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&c===0)return 0;let g=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return u(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return z(b).length;default:if(g)return f?-1:u(b).length;e=(""+e).toLowerCase(),g=!0}}a.byteLength=y;function $(c,a,b){let d=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,a>>>=0,b<=a))return"";for(c||(c="utf8");;)switch(c){case"hex":return O(this,a,b);case"utf8":case"utf-8":return E(this,a,b);case"ascii":return Q(this,a,b);case"latin1":case"binary":return P(this,a,b);case"base64":return S(this,a,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,a,b);default:if(d)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),d=!0}}a.prototype._isBuffer=!0;function g(a,b,c){const d=a[b];a[b]=a[c],a[c]=d}a.prototype.swap16=function(){const a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<a;b+=2)g(this,b,b+1);return this},a.prototype.swap32=function(){const a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<a;b+=4)g(this,b,b+3),g(this,b+1,b+2);return this},a.prototype.swap64=function(){const a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<a;b+=8)g(this,b,b+7),g(this,b+1,b+6),g(this,b+2,b+5),g(this,b+3,b+4);return this},a.prototype.toString=function(){const a=this.length;return a===0?"":arguments.length===0?E(this,0,a):$.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||a.compare(this,b)===0},a.prototype.inspect=function(){let a="";const b=l.INSPECT_MAX_BYTES;return a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(a+=" ... "),"<Buffer "+a+">"},F&&(a.prototype[F]=a.prototype.inspect),a.prototype.compare=function(b,c,e,f,g){if(d(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(c===void 0&&(c=0),e===void 0&&(e=b?b.length:0),f===void 0&&(f=0),g===void 0&&(g=this.length),c<0||e>b.length||f<0||g>this.length)throw new RangeError("out of range index");if(f>=g&&c>=e)return 0;if(f>=g)return-1;if(c>=e)return 1;if(c>>>=0,e>>>=0,f>>>=0,g>>>=0,this===b)return 0;let h=g-f,i=e-c;const l=Math.min(h,i),j=this.slice(f,g),k=b.slice(c,e);for(let a=0;a<l;++a)if(j[a]!==k[a]){h=j[a],i=k[a];break}return h<i?-1:i<h?1:0};function w(d,c,b,f,e){if(d.length===0)return-1;if(typeof b=="string"?(f=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,o(b)&&(b=e?0:d.length-1),b<0&&(b=d.length+b),b>=d.length){if(e)return-1;b=d.length-1}else if(b<0)if(e)b=0;else return-1;if(typeof c=="string"&&(c=a.from(c,f)),a.isBuffer(c))return c.length===0?-1:x(d,c,b,f,e);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?e?Uint8Array.prototype.indexOf.call(d,c,b):Uint8Array.prototype.lastIndexOf.call(d,c,b):x(d,[c],b,f,e);throw new TypeError("val must be string, number or Buffer")}function x(e,h,d,b,j){let f=1,g=e.length,c=h.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(e.length<2||h.length<2)return-1;f=2,g/=2,c/=2,d/=2}function i(a,b){return f===1?a[b]:a.readUInt16BE(b*f)}let a;if(j){let b=-1;for(a=d;a<g;a++)if(i(e,a)===i(h,b===-1?0:a-b)){if(b===-1&&(b=a),a-b+1===c)return b*f}else b!==-1&&(a-=a-b),b=-1}else for(d+c>g&&(d=g-c),a=d;a>=0;a--){let b=!0;for(let d=0;d<c;d++)if(i(e,a+d)!==i(h,d)){b=!1;break}if(b)return a}return-1}a.prototype.includes=function(a,b,c){return this.indexOf(a,b,c)!==-1},a.prototype.indexOf=function(a,b,c){return w(this,a,b,c,!0)},a.prototype.lastIndexOf=function(a,b,c){return w(this,a,b,c,!1)};function M(g,e,c,a){c=Number(c)||0;const d=g.length-c;a?(a=Number(a),a>d&&(a=d)):a=d;const f=e.length;a>f/2&&(a=f/2);let b;for(b=0;b<a;++b){const d=parseInt(e.substr(b*2,2),16);if(o(d))return b;g[c+b]=d}return b}function Y(a,c,b,d){return n(u(c,a.length-b),a,b,d)}function X(a,b,c,d){return n(aa(b),a,c,d)}function U(a,b,c,d){return n(z(b),a,c,d)}function T(a,c,b,d){return n(ai(c,a.length-b),a,b,d)}a.prototype.write=function(d,b,a,c){if(b===void 0)c="utf8",a=this.length,b=0;else if(a===void 0&&typeof b=="string")c=b,a=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(a)?(a=a>>>0,c===void 0&&(c="utf8")):(c=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const e=this.length-b;if((a===void 0||a>e)&&(a=e),d.length>0&&(a<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");let f=!1;for(;;)switch(c){case"hex":return M(this,d,b,a);case"utf8":case"utf-8":return Y(this,d,b,a);case"ascii":case"latin1":case"binary":return X(this,d,b,a);case"base64":return U(this,d,b,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,d,b,a);default:if(f)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(a,b,c){return b===0&&c===a.length?t.fromByteArray(a):t.fromByteArray(a.slice(b,c))}function E(b,e,c){c=Math.min(b.length,c);const d=[];let a=e;for(;a<c;){const f=b[a];let e=null,g=f>239?4:f>223?3:f>191?2:1;if(a+g<=c){let d,h,i,c;switch(g){case 1:f<128&&(e=f);break;case 2:d=b[a+1],(d&192)===128&&(c=(f&31)<<6|d&63,c>127&&(e=c));break;case 3:d=b[a+1],h=b[a+2],(d&192)===128&&(h&192)===128&&(c=(f&15)<<12|(d&63)<<6|h&63,c>2047&&(c<55296||c>57343)&&(e=c));break;case 4:d=b[a+1],h=b[a+2],i=b[a+3],(d&192)===128&&(h&192)===128&&(i&192)===128&&(c=(f&15)<<18|(d&63)<<12|(h&63)<<6|i&63,c>65535&&c<1114112&&(e=c))}}e===null?(e=65533,g=1):e>65535&&(e-=65536,d.push(e>>>10&1023|55296),e=56320|e&1023),d.push(e),a+=g}return R(d)}const L=4096;function R(a){const c=a.length;if(c<=L)return String.fromCharCode.apply(String,a);let d="",b=0;for(;b<c;)d+=String.fromCharCode.apply(String,a.slice(b,b+=L));return d}function Q(b,d,a){let c="";a=Math.min(b.length,a);for(let e=d;e<a;++e)c+=String.fromCharCode(b[e]&127);return c}function P(b,d,a){let c="";a=Math.min(b.length,a);for(let e=d;e<a;++e)c+=String.fromCharCode(b[e]);return c}function O(c,b,a){const d=c.length;(!b||b<0)&&(b=0),(!a||a<0||a>d)&&(a=d);let e="";for(let d=b;d<a;++d)e+=ag[c[d]];return e}function N(c,d,e){const a=c.slice(d,e);let b="";for(let c=0;c<a.length-1;c+=2)b+=String.fromCharCode(a[c]+a[c+1]*256);return b}a.prototype.slice=function(c,b){const d=this.length;c=~~c,b=b===void 0?d:~~b,c<0?(c+=d,c<0&&(c=0)):c>d&&(c=d),b<0?(b+=d,b<0&&(b=0)):b>d&&(b=d),b<c&&(b=c);const e=this.subarray(c,b);return Object.setPrototypeOf(e,a.prototype),e};function b(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(a,c,g){a=a>>>0,c=c>>>0,g||b(a,c,this.length);let d=this[a],e=1,f=0;for(;++f<c&&(e*=256);)d+=this[a+f]*e;return d},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,a,f){c=c>>>0,a=a>>>0,f||b(c,a,this.length);let d=this[c+--a],e=1;for(;a>0&&(e*=256);)d+=this[c+--a]*e;return d},a.prototype.readUint8=a.prototype.readUInt8=function(a,c){return a=a>>>0,c||b(a,1,this.length),this[a]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(a,c){return a=a>>>0,c||b(a,2,this.length),this[a]|this[a+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(a,c){return a=a>>>0,c||b(a,2,this.length),this[a]<<8|this[a+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(a,c){return a=a>>>0,c||b(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(a,c){return a=a>>>0,c||b(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},a.prototype.readBigUInt64LE=f(function(a){a=a>>>0,h(a,"offset");const b=this[a],c=this[a+7];(b===void 0||c===void 0)&&k(a,this.length-8);const d=b+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24,e=this[++a]+this[++a]*2**8+this[++a]*2**16+c*2**24;return BigInt(d)+(BigInt(e)<<BigInt(32))}),a.prototype.readBigUInt64BE=f(function(a){a=a>>>0,h(a,"offset");const b=this[a],c=this[a+7];(b===void 0||c===void 0)&&k(a,this.length-8);const d=b*2**24+this[++a]*2**16+this[++a]*2**8+this[++a],e=this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+c;return(BigInt(d)<<BigInt(32))+BigInt(e)}),a.prototype.readIntLE=function(a,c,g){a=a>>>0,c=c>>>0,g||b(a,c,this.length);let d=this[a],e=1,f=0;for(;++f<c&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*c)),d},a.prototype.readIntBE=function(a,c,g){a=a>>>0,c=c>>>0,g||b(a,c,this.length);let f=c,d=1,e=this[a+--f];for(;f>0&&(d*=256);)e+=this[a+--f]*d;return d*=128,e>=d&&(e-=Math.pow(2,8*c)),e},a.prototype.readInt8=function(a,c){return a=a>>>0,c||b(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},a.prototype.readInt16LE=function(a,d){a=a>>>0,d||b(a,2,this.length);const c=this[a]|this[a+1]<<8;return c&32768?c|4294901760:c},a.prototype.readInt16BE=function(a,d){a=a>>>0,d||b(a,2,this.length);const c=this[a+1]|this[a]<<8;return c&32768?c|4294901760:c},a.prototype.readInt32LE=function(a,c){return a=a>>>0,c||b(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},a.prototype.readInt32BE=function(a,c){return a=a>>>0,c||b(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},a.prototype.readBigInt64LE=f(function(a){a=a>>>0,h(a,"offset");const b=this[a],c=this[a+7];(b===void 0||c===void 0)&&k(a,this.length-8);const d=this[a+4]+this[a+5]*2**8+this[a+6]*2**16+(c<<24);return(BigInt(d)<<BigInt(32))+BigInt(b+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24)}),a.prototype.readBigInt64BE=f(function(a){a=a>>>0,h(a,"offset");const b=this[a],c=this[a+7];(b===void 0||c===void 0)&&k(a,this.length-8);const d=(b<<24)+this[++a]*2**16+this[++a]*2**8+this[++a];return(BigInt(d)<<BigInt(32))+BigInt(this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+c)}),a.prototype.readFloatLE=function(a,c){return a=a>>>0,c||b(a,4,this.length),j.read(this,a,!0,23,4)},a.prototype.readFloatBE=function(a,c){return a=a>>>0,c||b(a,4,this.length),j.read(this,a,!1,23,4)},a.prototype.readDoubleLE=function(a,c){return a=a>>>0,c||b(a,8,this.length),j.read(this,a,!0,52,8)},a.prototype.readDoubleBE=function(a,c){return a=a>>>0,c||b(a,8,this.length),j.read(this,a,!1,52,8)};function c(b,c,d,e,f,g){if(!a.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>f||c<g)throw new RangeError('"value" argument is out of bounds');if(d+e>b.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,a,b,g){if(d=+d,a=a>>>0,b=b>>>0,!g){const e=Math.pow(2,8*b)-1;c(this,d,a,b,e,0)}let e=1,f=0;for(this[a]=d&255;++f<b&&(e*=256);)this[a+f]=d/e&255;return a+b},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,a,b,g){if(d=+d,a=a>>>0,b=b>>>0,!g){const e=Math.pow(2,8*b)-1;c(this,d,a,b,e,0)}let e=b-1,f=1;for(this[a+e]=d&255;--e>=0&&(f*=256);)this[a+e]=d/f&255;return a+b},a.prototype.writeUint8=a.prototype.writeUInt8=function(b,a,d){return b=+b,a=a>>>0,d||c(this,b,a,1,255,0),this[a]=b&255,a+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(b,a,d){return b=+b,a=a>>>0,d||c(this,b,a,2,65535,0),this[a]=b&255,this[a+1]=b>>>8,a+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(b,a,d){return b=+b,a=a>>>0,d||c(this,b,a,2,65535,0),this[a]=b>>>8,this[a+1]=b&255,a+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(b,a,d){return b=+b,a=a>>>0,d||c(this,b,a,4,4294967295,0),this[a+3]=b>>>24,this[a+2]=b>>>16,this[a+1]=b>>>8,this[a]=b&255,a+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(b,a,d){return b=+b,a=a>>>0,d||c(this,b,a,4,4294967295,0),this[a]=b>>>24,this[a+1]=b>>>16,this[a+2]=b>>>8,this[a+3]=b&255,a+4};function K(d,e,b,f,g){v(e,f,g,d,b,7);let c=Number(e&BigInt(4294967295));d[b++]=c,c=c>>8,d[b++]=c,c=c>>8,d[b++]=c,c=c>>8,d[b++]=c;let a=Number(e>>BigInt(32)&BigInt(4294967295));return d[b++]=a,a=a>>8,d[b++]=a,a=a>>8,d[b++]=a,a=a>>8,d[b++]=a,b}function J(d,e,b,f,g){v(e,f,g,d,b,7);let c=Number(e&BigInt(4294967295));d[b+7]=c,c=c>>8,d[b+6]=c,c=c>>8,d[b+5]=c,c=c>>8,d[b+4]=c;let a=Number(e>>BigInt(32)&BigInt(4294967295));return d[b+3]=a,a=a>>8,d[b+2]=a,a=a>>8,d[b+1]=a,a=a>>8,d[b]=a,b+8}a.prototype.writeBigUInt64LE=f(function(a,b=0){return K(this,a,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=f(function(a,b=0){return J(this,a,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(b,a,d,h){if(b=+b,a=a>>>0,!h){const e=Math.pow(2,8*d-1);c(this,b,a,d,e-1,-e)}let e=0,g=1,f=0;for(this[a]=b&255;++e<d&&(g*=256);)b<0&&f===0&&this[a+e-1]!==0&&(f=1),this[a+e]=(b/g>>0)-f&255;return a+d},a.prototype.writeIntBE=function(b,a,d,h){if(b=+b,a=a>>>0,!h){const e=Math.pow(2,8*d-1);c(this,b,a,d,e-1,-e)}let e=d-1,g=1,f=0;for(this[a+e]=b&255;--e>=0&&(g*=256);)b<0&&f===0&&this[a+e+1]!==0&&(f=1),this[a+e]=(b/g>>0)-f&255;return a+d},a.prototype.writeInt8=function(a,b,d){return a=+a,b=b>>>0,d||c(this,a,b,1,127,-128),a<0&&(a=255+a+1),this[b]=a&255,b+1},a.prototype.writeInt16LE=function(b,a,d){return b=+b,a=a>>>0,d||c(this,b,a,2,32767,-32768),this[a]=b&255,this[a+1]=b>>>8,a+2},a.prototype.writeInt16BE=function(b,a,d){return b=+b,a=a>>>0,d||c(this,b,a,2,32767,-32768),this[a]=b>>>8,this[a+1]=b&255,a+2},a.prototype.writeInt32LE=function(b,a,d){return b=+b,a=a>>>0,d||c(this,b,a,4,2147483647,-2147483648),this[a]=b&255,this[a+1]=b>>>8,this[a+2]=b>>>16,this[a+3]=b>>>24,a+4},a.prototype.writeInt32BE=function(a,b,d){return a=+a,b=b>>>0,d||c(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255,b+4},a.prototype.writeBigInt64LE=f(function(a,b=0){return K(this,a,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=f(function(a,b=0){return J(this,a,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(b,d,a,c,e,f){if(a+c>b.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function H(c,b,a,d,e){return b=+b,a=a>>>0,e||I(c,b,a,4),j.write(c,b,a,d,23,4),a+4}a.prototype.writeFloatLE=function(a,b,c){return H(this,a,b,!0,c)},a.prototype.writeFloatBE=function(a,b,c){return H(this,a,b,!1,c)};function G(c,b,a,d,e){return b=+b,a=a>>>0,e||I(c,b,a,8),j.write(c,b,a,d,52,8),a+8}a.prototype.writeDoubleLE=function(a,b,c){return G(this,a,b,!0,c)},a.prototype.writeDoubleBE=function(a,b,c){return G(this,a,b,!1,c)},a.prototype.copy=function(e,d,c,b){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(c||(c=0),!b&&b!==0&&(b=this.length),d>=e.length&&(d=e.length),d||(d=0),b>0&&b<c&&(b=c),b===c||e.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),e.length-d<b-c&&(b=e.length-d+c);const f=b-c;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,c,b):Uint8Array.prototype.set.call(e,this.subarray(c,b),d),f},a.prototype.fill=function(b,c,d,e){if(typeof b=="string"){{if(typeof c=="string"?(e=c,c=0,d=this.length):typeof d=="string"&&(e=d,d=this.length),e!==void 0&&typeof e!="string")throw new TypeError("encoding must be a string");if(typeof e=="string"&&!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(b.length===1){const a=b.charCodeAt(0);(e==="utf8"&&a<128||e==="latin1")&&(b=a)}}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(c<0||this.length<c||this.length<d)throw new RangeError("Out of range index");if(d<=c)return this;c=c>>>0,d=d===void 0?this.length:d>>>0,b||(b=0);let f;if(typeof b=="number")for(f=c;f<d;++f)this[f]=b;else{const g=a.isBuffer(b)?b:a.from(b,e),h=g.length;if(h===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(f=0;f<d-c;++f)this[f+c]=g[f%h]}return this};const i={};function s(a,b,c){i[a]=class extends c{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}s("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),s("ERR_INVALID_ARG_TYPE",function(a,b){return`The "${a}" argument must be of type number. Received type ${typeof b}`},TypeError),s("ERR_OUT_OF_RANGE",function(d,e,a){let c=`The value of "${d}" is out of range.`,b=a;return Number.isInteger(a)&&Math.abs(a)>2**32?b=B(String(a)):typeof a=="bigint"&&(b=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(b=B(b)),b+="n"),c+=` It must be ${e}. Received ${b}`,c},RangeError);function B(b){let c="",a=b.length;const d=b[0]==="-"?1:0;for(;a>=d+4;a-=3)c=`_${b.slice(a-3,a)}${c}`;return`${b.slice(0,a)}${c}`}function V(b,a,c){h(a,"offset"),(b[a]===void 0||b[a+c]===void 0)&&k(a,b.length-(c+1))}function v(c,a,d,e,f,b){if(c>d||c<a){const e=typeof a=="bigint"?"n":"";let f;throw b>3?a===0||a===BigInt(0)?f=`>= 0${e} and < 2${e} ** ${(b+1)*8}${e}`:f=`>= -(2${e} ** ${(b+1)*8-1}${e}) and < 2 ** ${(b+1)*8-1}${e}`:f=`>= ${a}${e} and <= ${d}${e}`,new i.ERR_OUT_OF_RANGE("value",f,c)}V(e,f,b)}function h(a,b){if(typeof a!="number")throw new i.ERR_INVALID_ARG_TYPE(b,"number",a)}function k(a,c,b){throw Math.floor(a)!==a?(h(a,b),new i.ERR_OUT_OF_RANGE(b||"offset","an integer",a)):c<0?new i.ERR_BUFFER_OUT_OF_BOUNDS:new i.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${c}`,a)}const Z=/[^+/0-9A-Za-z-_]/g;function _(a){if(a=a.split("=")[0],a=a.trim().replace(Z,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function u(e,b){b=b||1/0;let a;const f=e.length;let d=null;const c=[];for(let g=0;g<f;++g){if(a=e.charCodeAt(g),a>55295&&a<57344){if(!d){if(a>56319){(b-=3)>-1&&c.push(239,191,189);continue}if(g+1===f){(b-=3)>-1&&c.push(239,191,189);continue}d=a;continue}if(a<56320){(b-=3)>-1&&c.push(239,191,189),d=a;continue}a=(d-55296<<10|a-56320)+65536}else d&&(b-=3)>-1&&c.push(239,191,189);if(d=null,a<128){if((b-=1)<0)break;c.push(a)}else if(a<2048){if((b-=2)<0)break;c.push(a>>6|192,a&63|128)}else if(a<65536){if((b-=3)<0)break;c.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((b-=4)<0)break;c.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return c}function aa(a){const b=[];for(let c=0;c<a.length;++c)b.push(a.charCodeAt(c)&255);return b}function ai(c,f){let a,d,e;const b=[];for(let g=0;g<c.length&&!((f-=2)<0);++g)a=c.charCodeAt(g),d=a>>8,e=a%256,b.push(e),b.push(d);return b}function z(a){return t.toByteArray(_(a))}function n(b,c,d,e){let a;for(a=0;a<e&&!(a+d>=c.length||a>=b.length);++a)c[a+d]=b[a];return a}function d(a,b){return a instanceof b||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===b.name}function o(a){return a!==a}const ag=function(){const a="0123456789abcdef",b=new Array(256);for(let c=0;c<16;++c){const d=c*16;for(let e=0;e<16;++e)b[d+e]=a[c]+a[e]}return b}();function f(a){return typeof BigInt>"u"?W:a}function W(){throw new Error("BigInt not supported")}}(iN);let fE;const u={ethereumClient:void 0,setEthereumClient(a){fE=a},client(){if(fE)return fE;throw new Error("ClientCtrl has no client set")}},F=ak({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),n={state:F,subscribe(a){return ap(F,()=>a(F))},push(a,b){a!==F.view&&(F.view=a,b&&(F.data=b),F.history.push(a))},reset(a){F.view=a,F.history=[a]},replace(a){F.history.length>1&&(F.history[F.history.length-1]=a,F.view=a)},goBack(){if(F.history.length>1){F.history.pop();const[a]=F.history.slice(-1);F.view=a}},setData(a){F.data=a}},d={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"&&!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},isAndroid(){return d.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const a=navigator.userAgent.toLowerCase();return d.isMobile()&&(a.includes("iphone")||a.includes("ipad"))},isHttpUrl(a){return a.startsWith("http://")||a.startsWith("https://")},isArray(a){return Array.isArray(a)&&a.length>0},formatNativeUrl(b,c,e){if(d.isHttpUrl(b))return this.formatUniversalUrl(b,c,e);let a=b;a.includes("://")||(a=b.replaceAll("/","").replaceAll(":",""),a=`${a}://`),this.setWalletConnectDeepLink(a,e);const f=encodeURIComponent(c);return`${a}wc?uri=${f}`},formatUniversalUrl(a,c,e){if(!d.isHttpUrl(a))return this.formatNativeUrl(a,c,e);let b=a;a.endsWith("/")&&(b=a.slice(0,-1)),this.setWalletConnectDeepLink(b,e);const f=encodeURIComponent(c);return`${b}/wc?uri=${f}`},async wait(a){return new Promise(b=>{setTimeout(b,a)})},openHref(a,b){window.open(a,b,"noreferrer noopener")},setWalletConnectDeepLink(a,b){localStorage.setItem(d.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:a,name:b}))},setWalletConnectAndroidDeepLink(a){const[b]=a.split("?");localStorage.setItem(d.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:b,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(d.WALLETCONNECT_DEEPLINK_CHOICE)},setWeb3ModalVersionInStorage(){typeof localStorage<"u"&&localStorage.setItem(d.W3M_VERSION,"2.4.1")},getWalletRouterData(){var a;const b=(a=n.state.data)==null?void 0:a.Wallet;if(!b)throw new Error('Missing "Wallet" view data');return b},getSwitchNetworkRouterData(){var a;const b=(a=n.state.data)==null?void 0:a.SwitchNetwork;if(!b)throw new Error('Missing "SwitchNetwork" view data');return b},isPreferInjectedFlag(){return typeof location<"u"&&new URLSearchParams(location.search).has(d.W3M_PREFER_INJECTED_URL_FLAG)}},rF=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),K=ak({enabled:rF,userSessionId:"",events:[],connectedWalletId:void 0}),aN={state:K,subscribe(a){return ap(K.events,()=>a(rj(K.events[K.events.length-1])))},initialize(){K.enabled&&typeof crypto<"u"&&(K.userSessionId=crypto.randomUUID())},setConnectedWalletId(a){K.connectedWalletId=a},click(a){if(K.enabled){const b={type:"CLICK",name:a.name,userSessionId:K.userSessionId,timestamp:Date.now(),data:a};K.events.push(b)}},track(a){if(K.enabled){const b={type:"TRACK",name:a.name,userSessionId:K.userSessionId,timestamp:Date.now(),data:a};K.events.push(b)}},view(a){if(K.enabled){const b={type:"VIEW",name:a.name,userSessionId:K.userSessionId,timestamp:Date.now(),data:a};K.events.push(b)}}},H=ak({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,isStandalone:!1,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1,walletConnectVersion:1}),f={state:H,subscribe(a){return ap(H,()=>a(H))},setChains(a){H.chains=a},setStandaloneChains(a){H.standaloneChains=a},setStandaloneUri(a){H.standaloneUri=a},getSelectedChain(){const a=u.client().getNetwork().chain;return a&&(H.selectedChain=a),H.selectedChain},setSelectedChain(a){H.selectedChain=a},setIsStandalone(a){H.isStandalone=a},setIsCustomDesktop(a){H.isCustomDesktop=a},setIsCustomMobile(a){H.isCustomMobile=a},setIsDataLoaded(a){H.isDataLoaded=a},setIsUiLoaded(a){H.isUiLoaded=a},setWalletConnectVersion(a){H.walletConnectVersion=a},setIsPreferInjected(a){H.isPreferInjected=a},setIsAuth(a){H.isAuth=a}},di=ak({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableAuthMode:!1,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),v={state:di,subscribe(a){return ap(di,()=>a(di))},setConfig(a){var b,c,e,g;aN.initialize(),f.setStandaloneChains(a.standaloneChains),f.setIsStandalone(!!((b=a.standaloneChains)!=null&&b.length)||!!a.enableStandaloneMode),f.setIsAuth(!!a.enableAuthMode),f.setIsCustomMobile(!!((c=a.mobileWallets)!=null&&c.length)),f.setIsCustomDesktop(!!((e=a.desktopWallets)!=null&&e.length)),f.setWalletConnectVersion((g=a.walletConnectVersion)!=null?g:1),f.state.isStandalone||(f.setChains(u.client().chains),f.setIsPreferInjected(u.client().isInjectedProviderInstalled()&&d.isPreferInjectedFlag())),a.defaultChain&&f.setSelectedChain(a.defaultChain),d.setWeb3ModalVersionInStorage(),Object.assign(di,a)}},w=ak({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),r={state:w,subscribe(a){return ap(w,()=>a(w))},getAccount(){const a=u.client().getAccount();w.address=a.address,w.isConnected=a.isConnected},async fetchProfile(b,c){var a;try{w.profileLoading=!0;const d=c??w.address,e=(a=f.state.chains)==null?void 0:a.find(a=>a.id===1);if(d&&e){const a=await u.client().fetchEnsName({address:d,chainId:1});if(a){const c=await u.client().fetchEnsAvatar({name:a,chainId:1});c&&await b(c),w.profileAvatar=c}w.profileName=a}}finally{w.profileLoading=!1}},async fetchBalance(a){try{const{chain:b}=u.client().getNetwork(),{tokenContracts:c}=v.state;let d;b&&c&&(d=c[b.id]),w.balanceLoading=!0;const e=a??w.address;if(e){const a=await u.client().fetchBalance({address:e,token:d});w.balance={amount:a.formatted,symbol:a.symbol}}}finally{w.balanceLoading=!1}},setAddress(a){w.address=a},setIsConnected(a){w.isConnected=a},resetBalance(){w.balance=void 0},resetAccount(){w.address=void 0,w.isConnected=!1,w.profileName=void 0,w.profileAvatar=void 0,w.balance=void 0}},fO="https://explorer-api.walletconnect.com";async function dg(b,c){const a=new URL(b,fO);return a.searchParams.append("projectId",v.state.projectId),Object.entries(c).forEach(([c,b])=>{b&&a.searchParams.append(c,String(b))}),(await fetch(a)).json()}const aB={async getDesktopListings(a){return dg("/w3m/v1/getDesktopListings",a)},async getMobileListings(a){return dg("/w3m/v1/getMobileListings",a)},async getInjectedListings(a){return dg("/w3m/v1/getInjectedListings",a)},async getAllListings(a){return dg("/w3m/v1/getAllListings",a)},getWalletImageUrl(a){return`${fO}/w3m/v1/getWalletImage/${a}?projectId=${v.state.projectId}`},getAssetImageUrl(a){return`${fO}/w3m/v1/getAssetImage/${a}?projectId=${v.state.projectId}`}};rR=Object.defineProperty,hZ=Object.getOwnPropertySymbols,rT=Object.prototype.hasOwnProperty,rU=Object.prototype.propertyIsEnumerable,iX=(a,b,c)=>b in a?rR(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,rW=(c,b)=>{var a;for(a in b||(b={}))rT.call(b,a)&&iX(c,a,b[a]);if(hZ)for(a of hZ(b))rU.call(b,a)&&iX(c,a,b[a]);return c};const hU=d.isMobile(),_=ak({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),B={state:_,async getRecomendedWallets(){const{explorerRecommendedWalletIds:a,explorerExcludedWalletIds:b}=v.state;if(a==="NONE"||b==="ALL"&&!a)return _.recomendedWallets;if(d.isArray(a)){const c={recommendedIds:a.join(",")},{listings:d}=await aB.getAllListings(c),b=Object.values(d);b.sort((b,c)=>{const d=a.indexOf(b.id),e=a.indexOf(c.id);return d-e}),_.recomendedWallets=b}else{const{standaloneChains:c,walletConnectVersion:e,isAuth:g}=f.state,h=c?.join(","),i=d.isArray(b),a={page:1,sdks:g?"auth_v1":void 0,entries:d.RECOMMENDED_WALLET_AMOUNT,chains:h,version:e,excludedIds:i?b.join(","):void 0},{listings:j}=hU?await aB.getMobileListings(a):await aB.getDesktopListings(a);_.recomendedWallets=Object.values(j)}return _.recomendedWallets},async getWallets(c){const a=rW({},c),{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:b}=v.state,{recomendedWallets:g}=_;if(b==="ALL")return _.wallets;a.search||(g.length?a.excludedIds=g.map(a=>a.id).join(","):d.isArray(e)&&(a.excludedIds=e.join(","))),d.isArray(b)&&(a.excludedIds=[a.excludedIds,b].filter(Boolean).join(",")),f.state.isAuth&&(a.sdks="auth_v1");const{page:k,search:l}=c,{listings:m,total:h}=hU?await aB.getMobileListings(a):await aB.getDesktopListings(a),i=Object.values(m),j=l?"search":"wallets";return _[j]={listings:[..._[j].listings,...i],total:h,page:k??1},{listings:i,total:h}},async getInjectedWallets(){const{listings:a}=await aB.getInjectedListings({}),b=Object.values(a);return _.injectedWallets=b,_.injectedWallets},getWalletImageUrl(a){return aB.getWalletImageUrl(a)},getAssetImageUrl(a){return aB.getAssetImageUrl(a)},resetSearch(){_.search={listings:[],total:0,page:1}}},cf=ak({pairingUri:"",pairingError:!1}),C={state:cf,subscribe(a){return ap(cf,()=>a(cf))},setPairingUri(a){cf.pairingUri=a},setPairingError(a){cf.pairingError=a}},bF=ak({open:!1}),N={state:bF,subscribe(a){return ap(bF,()=>a(bF))},async open(a){return new Promise(b=>{const{isStandalone:d,isUiLoaded:e,isDataLoaded:g,isPreferInjected:h,selectedChain:i}=f.state,{pairingUri:j}=C.state,{isConnected:c}=r.state,{enableNetworkView:k}=v.state;if(d)f.setStandaloneUri(a?.uri),f.setStandaloneChains(a?.standaloneChains),n.reset("ConnectWallet");else if(a!=null&&a.route)n.reset(a.route);else if(c)n.reset("Account");else if(k)n.reset("SelectNetwork");else if(h){u.client().connectConnector("injected",i?.id).catch(a=>console.error(a)),b();return}else n.reset("ConnectWallet");if(e&&g&&(d||j||c))bF.open=!0,b()})},close(){bF.open=!1}};sc=Object.defineProperty,hC=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,sf=Object.prototype.propertyIsEnumerable,hB=(a,b,c)=>b in a?sc(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,sh=(c,b)=>{var a;for(a in b||(b={}))se.call(b,a)&&hB(c,a,b[a]);if(hC)for(a of hC(b))sf.call(b,a)&&hB(c,a,b[a]);return c};function si(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const bS=ak({themeMode:si()?"dark":"light"}),al={state:bS,subscribe(a){return ap(bS,()=>a(bS))},setThemeConfig(c){const{themeMode:a,themeVariables:b}=c;a&&(bS.themeMode=a),b&&(bS.themeVariables=sh({},b))}},a$=ak({open:!1,message:"",variant:"success"}),W={state:a$,subscribe(a){return ap(a$,()=>a(a$))},openToast(a,b){a$.open=!0,a$.message=a,a$.variant=b},closeToast(){a$.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=iN.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}})),sn=Object.defineProperty,hu=Object.getOwnPropertySymbols,sp=Object.prototype.hasOwnProperty,sq=Object.prototype.propertyIsEnumerable,ht=(a,b,c)=>b in a?sn(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,ss=(c,b)=>{var a;for(a in b||(b={}))sp.call(b,a)&&ht(c,a,b[a]);if(hu)for(a of hu(b))sq.call(b,a)&&ht(c,a,b[a]);return c};class st{constructor(a){this.openModal=N.open,this.closeModal=N.close,this.subscribeModal=N.subscribe,this.setTheme=al.setThemeConfig,al.setThemeConfig(a),v.setConfig(ss({enableStandaloneMode:!0},a)),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(function(){return acO});const a=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",a),f.setIsUiLoaded(!0)}}}su=Object.freeze({__proto__:null,Web3Modal:st});const cX=window,gf=cX.ShadowRoot&&(cX.ShadyCSS===void 0||cX.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gh=Symbol(),ho=new WeakMap;class hn{constructor(a,b,c){if(this._$cssResult$=!0,c!==gh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a,this.t=b}get styleSheet(){let a=this.o;const b=this.t;if(gf&&a===void 0){const c=b!==void 0&&b.length===1;c&&(a=ho.get(b)),a===void 0&&((this.o=a=new CSSStyleSheet).replaceSync(this.cssText),c&&ho.set(b,a))}return a}toString(){return this.cssText}}const sA=a=>new hn(typeof a=="string"?a:a+"",void 0,gh),l=(a,...b)=>{const c=a.length===1?a[0]:b.reduce((b,c,d)=>b+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(c)+a[d+1],a[0]);return new hn(c,a,gh)},sC=(a,b)=>{gf?a.adoptedStyleSheets=b.map(a=>a instanceof CSSStyleSheet?a:a.styleSheet):b.forEach(d=>{const b=document.createElement("style"),c=cX.litNonce;c!==void 0&&b.setAttribute("nonce",c),b.textContent=d.cssText,a.appendChild(b)})},hj=gf?a=>a:a=>a instanceof CSSStyleSheet?(b=>{let a="";for(const c of b.cssRules)a+=c.cssText;return sA(a)})(a):a,cW=window,hg=cW.trustedTypes,sH=hg?hg.emptyScript:"",sI=cW.reactiveElementPolyfillSupport,gp={toAttribute(a,b){switch(b){case Boolean:a=a?sH:null;break;case Object:case Array:a=a==null?a:JSON.stringify(a)}return a},fromAttribute(a,c){let b=a;switch(c){case Boolean:b=a!==null;break;case Number:b=a===null?null:Number(a);break;case Object:case Array:try{b=JSON.parse(a)}catch{b=null}}return b}},he=(a,b)=>b!==a&&(b==b||a==a),gq={attribute:!0,type:String,converter:gp,reflect:!1,hasChanged:he};class bw extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(b){var a;this.finalize(),((a=this.h)!==null&&a!==void 0?a:this.h=[]).push(b)}static get observedAttributes(){this.finalize();const a=[];return this.elementProperties.forEach((d,c)=>{const b=this._$Ep(c,d);b!==void 0&&(this._$Ev.set(b,c),a.push(b))}),a}static createProperty(a,b=gq){if(b.state&&(b.attribute=!1),this.finalize(),this.elementProperties.set(a,b),!b.noAccessor&&!this.prototype.hasOwnProperty(a)){const d=typeof a=="symbol"?Symbol():"__"+a,c=this.getPropertyDescriptor(a,d,b);c!==void 0&&Object.defineProperty(this.prototype,a,c)}}static getPropertyDescriptor(a,b,c){return{get(){return this[b]},set(d){const e=this[a];this[b]=d,this.requestUpdate(a,e,c)},configurable:!0,enumerable:!0}}static getPropertyOptions(a){return this.elementProperties.get(a)||gq}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const a=Object.getPrototypeOf(this);if(a.finalize(),a.h!==void 0&&(this.h=[...a.h]),this.elementProperties=new Map(a.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const a=this.properties,b=[...Object.getOwnPropertyNames(a),...Object.getOwnPropertySymbols(a)];for(const c of b)this.createProperty(c,a[c])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(a){const b=[];if(Array.isArray(a)){const c=new Set(a.flat(1/0).reverse());for(const a of c)b.unshift(hj(a))}else a!==void 0&&b.push(hj(a));return b}static _$Ep(b,c){const a=c.attribute;return a===!1?void 0:typeof a=="string"?a:typeof b=="string"?b.toLowerCase():void 0}u(){var a;this._$E_=new Promise(a=>this.enableUpdating=a),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(a=this.constructor.h)===null||a===void 0||a.forEach(a=>a(this))}addController(a){var b,c;((b=this._$ES)!==null&&b!==void 0?b:this._$ES=[]).push(a),this.renderRoot!==void 0&&this.isConnected&&((c=a.hostConnected)===null||c===void 0||c.call(a))}removeController(b){var a;(a=this._$ES)===null||a===void 0||a.splice(this._$ES.indexOf(b)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((b,a)=>{this.hasOwnProperty(a)&&(this._$Ei.set(a,this[a]),delete this[a])})}createRenderRoot(){var a;const b=(a=this.shadowRoot)!==null&&a!==void 0?a:this.attachShadow(this.constructor.shadowRootOptions);return sC(b,this.constructor.elementStyles),b}connectedCallback(){var a;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(a=this._$ES)===null||a===void 0||a.forEach(b=>{var a;return(a=b.hostConnected)===null||a===void 0?void 0:a.call(b)})}enableUpdating(a){}disconnectedCallback(){var a;(a=this._$ES)===null||a===void 0||a.forEach(b=>{var a;return(a=b.hostDisconnected)===null||a===void 0?void 0:a.call(b)})}attributeChangedCallback(a,c,b){this._$AK(a,b)}_$EO(d,e,a=gq){var b;const c=this.constructor._$Ep(d,a);if(c!==void 0&&a.reflect===!0){const f=(((b=a.converter)===null||b===void 0?void 0:b.toAttribute)!==void 0?a.converter:gp).toAttribute(e,a.type);this._$El=d,f==null?this.removeAttribute(c):this.setAttribute(c,f),this._$El=null}}_$AK(d,e){var b;const c=this.constructor,a=c._$Ev.get(d);if(a!==void 0&&this._$El!==a){const d=c.getPropertyOptions(a),f=typeof d.converter=="function"?{fromAttribute:d.converter}:((b=d.converter)===null||b===void 0?void 0:b.fromAttribute)!==void 0?d.converter:gp;this._$El=a,this[a]=f.fromAttribute(e,d.type),this._$El=null}}requestUpdate(a,c,b){let d=!0;a!==void 0&&(((b=b||this.constructor.getPropertyOptions(a)).hasChanged||he)(this[a],c)?(this._$AL.has(a)||this._$AL.set(a,c),b.reflect===!0&&this._$El!==a&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(a,b))):d=!1),!this.isUpdatePending&&d&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(a){Promise.reject(a)}const a=this.scheduleUpdate();return a!=null&&await a,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var c;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((a,b)=>this[b]=a),this._$Ei=void 0);let a=!1;const b=this._$AL;try{a=this.shouldUpdate(b),a?(this.willUpdate(b),(c=this._$ES)===null||c===void 0||c.forEach(b=>{var a;return(a=b.hostUpdate)===null||a===void 0?void 0:a.call(b)}),this.update(b)):this._$Ek()}catch(b){throw a=!1,this._$Ek(),b}a&&this._$AE(b)}willUpdate(a){}_$AE(b){var a;(a=this._$ES)===null||a===void 0||a.forEach(b=>{var a;return(a=b.hostUpdated)===null||a===void 0?void 0:a.call(b)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(b)),this.updated(b)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(a){return!0}update(a){this._$EC!==void 0&&(this._$EC.forEach((b,a)=>this._$EO(a,this[a],b)),this._$EC=void 0),this._$Ek()}updated(a){}firstUpdated(a){}}bw.finalized=!0,bw.elementProperties=new Map,bw.elementStyles=[],bw.shadowRootOptions={mode:"open"},sI?.({ReactiveElement:bw}),((gm=cW.reactiveElementVersions)!==null&&gm!==void 0?gm:cW.reactiveElementVersions=[]).push("1.6.1");const cS=window,bE=cS.trustedTypes,gV=bE?bE.createPolicy("lit-html",{createHTML:a=>a}):void 0,gA="$lit$",aE=`lit$${(Math.random()+"").slice(9)}$`,gR="?"+aE,sU=`<${gR}>`,be=document,cq=()=>be.createComment(""),cs=a=>a===null||typeof a!="object"&&typeof a!="function",gM=Array.isArray,sZ=a=>gM(a)||typeof a?.[Symbol.iterator]=="function",gD=`[ 	
\f\r]`,cu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gG=/-->/g,gF=/>/g,aO=RegExp(`>|${gD}(?:([^\\s"'>=/]+)(${gD}*=${gD}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),gJ=/'/g,gO=/"/g,gU=/^(?:script|style|textarea|title)$/i,gX=a=>(b,...c)=>({_$litType$:a,strings:b,values:c}),a=gX(1),o=gX(2),bf=Symbol.for("lit-noChange"),E=Symbol.for("lit-nothing"),hi=new WeakMap,aS=be.createTreeWalker(be,129,null,!1),tn=(b,e)=>{const f=b.length-1,c=[];let d,g=e===2?"<svg>":"",a=cu;for(let j=0;j<f;j++){const i=b[j];let l,e,h=-1,k=0;for(;k<i.length&&(a.lastIndex=k,e=a.exec(i),e!==null);)k=a.lastIndex,a===cu?e[1]==="!--"?a=gG:e[1]!==void 0?a=gF:e[2]!==void 0?(gU.test(e[2])&&(d=RegExp("</"+e[2],"g")),a=aO):e[3]!==void 0&&(a=aO):a===aO?e[0]===">"?(a=d??cu,h=-1):e[1]===void 0?h=-2:(h=a.lastIndex-e[2].length,l=e[1],a=e[3]===void 0?aO:e[3]==='"'?gO:gJ):a===gO||a===gJ?a=aO:a===gG||a===gF?a=cu:(a=aO,d=void 0);const m=a===aO&&b[j+1].startsWith("/>")?" ":"";g+=a===cu?i+sU:h>=0?(c.push(l),i.slice(0,h)+gA+i.slice(h)+aE+m):i+aE+(h===-2?(c.push(void 0),j):m)}const h=g+(b[f]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(b)||!b.hasOwnProperty("raw"))throw Error("invalid template strings array");return[gV!==void 0?gV.createHTML(h):h,c]};class dS{constructor({strings:d,_$litType$:e},f){let a;this.parts=[];let c=0,g=0;const h=d.length-1,b=this.parts,[i,j]=tn(d,e);if(this.el=dS.createElement(i,f),aS.currentNode=this.el.content,e===2){const a=this.el.content,b=a.firstChild;b.remove(),a.append(...b.childNodes)}for(;(a=aS.nextNode())!==null&&b.length<h;){if(a.nodeType===1){{if(a.hasAttributes()){const d=[];for(const e of a.getAttributeNames())if(e.endsWith(gA)||e.startsWith(aE)){const f=j[g++];if(d.push(e),f!==void 0){const e=a.getAttribute(f.toLowerCase()+gA).split(aE),d=/([.?@])?(.*)/.exec(f);b.push({type:1,index:c,name:d[2],strings:e,ctor:d[1]==="."?tt:d[1]==="?"?tv:d[1]==="@"?tw:cO})}else b.push({type:6,index:c})}for(const b of d)a.removeAttribute(b)}if(gU.test(a.tagName)){const d=a.textContent.split(aE),e=d.length-1;if(e>0){a.textContent=bE?bE.emptyScript:"";for(let f=0;f<e;f++)a.append(d[f],cq()),aS.nextNode(),b.push({type:2,index:++c});a.append(d[e],cq())}}}}else if(a.nodeType===8)if(a.data===gR)b.push({type:2,index:c});else{let d=-1;for(;(d=a.data.indexOf(aE,d+1))!==-1;)b.push({type:7,index:c}),d+=aE.length-1}c++}}static createElement(b,c){const a=be.createElement("template");return a.innerHTML=b,a}}function bB(d,b,e=d,c){var f,g,h,j;if(b===bf)return b;let a=c!==void 0?(f=e._$Co)===null||f===void 0?void 0:f[c]:e._$Cl;const i=cs(b)?void 0:b._$litDirective$;return a?.constructor!==i&&((g=a?._$AO)===null||g===void 0||g.call(a,!1),i===void 0?a=void 0:(a=new i(d),a._$AT(d,e,c)),c!==void 0?((h=(j=e)._$Co)!==null&&h!==void 0?h:j._$Co=[])[c]=a:e._$Cl=a),a!==void 0&&(b=bB(d,a._$AS(d,b.values),a,c)),b}class tq{constructor(a,b){this._$AV=[],this._$AN=void 0,this._$AD=a,this._$AM=b}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(c){var d;const{el:{content:i},parts:f}=this._$AD,g=((d=c?.creationScope)!==null&&d!==void 0?d:be).importNode(i,!0);aS.currentNode=g;let b=aS.nextNode(),e=0,h=0,a=f[0];for(;a!==void 0;){if(e===a.index){let d;a.type===2?d=new cM(b,b.nextSibling,this,c):a.type===1?d=new a.ctor(b,a.name,a.strings,this,c):a.type===6&&(d=new tx(b,this,c)),this._$AV.push(d),a=f[++h]}e!==a?.index&&(b=aS.nextNode(),e++)}return aS.currentNode=be,g}v(b){let a=0;for(const c of this._$AV)c!==void 0&&(c.strings!==void 0?(c._$AI(b,c,a),a+=c.strings.length-2):c._$AI(b[a])),a++}}class cM{constructor(c,d,e,b){var a;this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=c,this._$AB=d,this._$AM=e,this.options=b,this._$Cp=(a=b?.isConnected)===null||a===void 0||a}get _$AU(){var a,b;return(b=(a=this._$AM)===null||a===void 0?void 0:a._$AU)!==null&&b!==void 0?b:this._$Cp}get parentNode(){let a=this._$AA.parentNode;const b=this._$AM;return b!==void 0&&a?.nodeType===11&&(a=b.parentNode),a}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(a,b=this){a=bB(this,a,b),cs(a)?a===E||a==null||a===""?(this._$AH!==E&&this._$AR(),this._$AH=E):a!==this._$AH&&a!==bf&&this._(a):a._$litType$!==void 0?this.g(a):a.nodeType!==void 0?this.$(a):sZ(a)?this.T(a):this._(a)}k(a){return this._$AA.parentNode.insertBefore(a,this._$AB)}$(a){this._$AH!==a&&(this._$AR(),this._$AH=this.k(a))}_(a){this._$AH!==E&&cs(this._$AH)?this._$AA.nextSibling.data=a:this.$(be.createTextNode(a)),this._$AH=a}g(c){var b;const{values:d,_$litType$:a}=c,e=typeof a=="number"?this._$AC(c):(a.el===void 0&&(a.el=dS.createElement(a.h,this.options)),a);if(((b=this._$AH)===null||b===void 0?void 0:b._$AD)===e)this._$AH.v(d);else{const a=new tq(e,this),b=a.u(this.options);a.v(d),this.$(b),this._$AH=a}}_$AC(a){let b=hi.get(a.strings);return b===void 0&&hi.set(a.strings,b=new dS(a)),b}T(d){gM(this._$AH)||(this._$AH=[],this._$AR());const b=this._$AH;let c,a=0;for(const e of d)a===b.length?b.push(c=new cM(this.k(cq()),this.k(cq()),this,this.options)):c=b[a],c._$AI(e),a++;a<b.length&&(this._$AR(c&&c._$AB.nextSibling,a),b.length=a)}_$AR(a=this._$AA.nextSibling,c){var b;for((b=this._$AP)===null||b===void 0||b.call(this,!1,!0,c);a&&a!==this._$AB;){const d=a.nextSibling;a.remove(),a=d}}setConnected(b){var a;this._$AM===void 0&&(this._$Cp=b,(a=this._$AP)===null||a===void 0||a.call(this,b))}}class cO{constructor(b,c,a,d,e){this.type=1,this._$AH=E,this._$AN=void 0,this.element=b,this.name=c,this._$AM=d,this.options=e,a.length>2||a[0]!==""||a[1]!==""?(this._$AH=Array(a.length-1).fill(new String),this.strings=a):this._$AH=E}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(a,d=this,e,f){const c=this.strings;let b=!1;if(c===void 0)a=bB(this,a,d,0),b=!cs(a)||a!==this._$AH&&a!==bf,b&&(this._$AH=a);else{const h=a;let f,g;for(a=c[0],f=0;f<c.length-1;f++)g=bB(this,h[e+f],d,f),g===bf&&(g=this._$AH[f]),b||(b=!cs(g)||g!==this._$AH[f]),g===E?a=E:a!==E&&(a+=(g??"")+c[f+1]),this._$AH[f]=g}b&&!f&&this.j(a)}j(a){a===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,a??"")}}class tt extends cO{constructor(){super(...arguments),this.type=3}j(a){this.element[this.name]=a===E?void 0:a}}const tu=bE?bE.emptyScript:"";class tv extends cO{constructor(){super(...arguments),this.type=4}j(a){a&&a!==E?this.element.setAttribute(this.name,tu):this.element.removeAttribute(this.name)}}class tw extends cO{constructor(a,b,c,d,e){super(a,b,c,d,e),this.type=5}_$AI(a,e=this){var c;if((a=(c=bB(this,a,e,0))!==null&&c!==void 0?c:E)===bf)return;const b=this._$AH,d=a===E&&b!==E||a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive,f=a!==E&&(b===E||d);d&&this.element.removeEventListener(this.name,this,b),f&&this.element.addEventListener(this.name,this,a),this._$AH=a}handleEvent(c){var a,b;typeof this._$AH=="function"?this._$AH.call((b=(a=this.options)===null||a===void 0?void 0:a.host)!==null&&b!==void 0?b:this.element,c):this._$AH.handleEvent(c)}}class tx{constructor(a,b,c){this.element=a,this.type=6,this._$AN=void 0,this._$AM=b,this.options=c}get _$AU(){return this._$AM._$AU}_$AI(a){bB(this,a)}}const ty=cS.litHtmlPolyfillSupport;ty?.(dS,cM),((gx=cS.litHtmlVersions)!==null&&gx!==void 0?gx:cS.litHtmlVersions=[]).push("2.7.4");const tz=(g,e,b)=>{var c,d;const f=(c=b?.renderBefore)!==null&&c!==void 0?c:e;let a=f._$litPart$;if(a===void 0){const c=(d=b?.renderBefore)!==null&&d!==void 0?d:null;f._$litPart$=a=new cM(e.insertBefore(cq(),c),c,void 0,b??{})}return a._$AI(g),a};class g extends bw{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var a,b;const c=super.createRenderRoot();return(a=(b=this.renderOptions).renderBefore)!==null&&a!==void 0||(b.renderBefore=c.firstChild),c}update(a){const b=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(a),this._$Do=tz(b,this.renderRoot,this.renderOptions)}connectedCallback(){var a;super.connectedCallback(),(a=this._$Do)===null||a===void 0||a.setConnected(!0)}disconnectedCallback(){var a;super.disconnectedCallback(),(a=this._$Do)===null||a===void 0||a.setConnected(!1)}render(){return bf}}g.finalized=!0,g._$litElement$=!0,(gd=globalThis.litElementHydrateSupport)===null||gd===void 0||gd.call(globalThis,{LitElement:g});const tD=globalThis.litElementPolyfillSupport;tD?.({LitElement:g}),((gc=globalThis.litElementVersions)!==null&&gc!==void 0?gc:globalThis.litElementVersions=[]).push("3.3.2");const h=a=>b=>typeof b=="function"?((b,a)=>(customElements.define(b,a),a))(a,b):((a,b)=>{const{kind:c,elements:d}=b;return{kind:c,elements:d,finisher(b){customElements.define(a,b)}}})(a,b),tF=(b,a)=>a.kind==="method"&&a.descriptor&&!("value"in a.descriptor)?{...a,finisher(c){c.createProperty(a.key,b)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:a.key,initializer(){typeof a.initializer=="function"&&(this[a.key]=a.initializer.call(this))},finisher(c){c.createProperty(a.key,b)}};function e(a){return(b,c)=>c!==void 0?((a,b,c)=>{b.constructor.createProperty(c,a)})(a,b,c):tF(a,b)}function p(a){return e({...a,state:!0})}((fR=window.HTMLSlotElement)===null||fR===void 0?void 0:fR.prototype.assignedElements)!=null;const tJ={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},tK=a=>(...b)=>({_$litDirective$:a,values:b});class tL{constructor(a){}get _$AU(){return this._$AM._$AU}_$AT(a,b,c){this._$Ct=a,this._$AM=b,this._$Ci=c}_$AS(a,b){return this.update(a,b)}update(b,a){return this.render(...a)}}const T=tK(class extends tL{constructor(a){var b;if(super(a),a.type!==tJ.ATTRIBUTE||a.name!=="class"||((b=a.strings)===null||b===void 0?void 0:b.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(a){return" "+Object.keys(a).filter(b=>a[b]).join(" ")+" "}update(b,[a]){var c,d;if(this.it===void 0){this.it=new Set,b.strings!==void 0&&(this.nt=new Set(b.strings.join(" ").split(/\s/).filter(a=>a!=="")));for(const b in a)a[b]&&!(!((c=this.nt)===null||c===void 0)&&c.has(b))&&this.it.add(b);return this.render(a)}const e=b.element.classList;this.it.forEach(b=>{b in a||(e.remove(b),this.it.delete(b))});for(const b in a){const c=!!a[b];c===this.it.has(b)||!((d=this.nt)===null||d===void 0)&&d.has(b)||(c?(e.add(b),this.it.add(b)):(e.remove(b),this.it.delete(b)))}return bf}});function tN(a,b){a.indexOf(b)===-1&&a.push(b)}const hW=(a,b,c)=>Math.min(Math.max(c,a),b),ac={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},de=a=>typeof a=="number",bG=a=>Array.isArray(a)&&!de(a[0]),tS=(a,c,d)=>{const b=c-a;return((d-a)%b+b)%b+a};function tT(a,b){return bG(a)?a[tS(0,a.length,b)]:a}const ir=(a,c,b)=>-b*a+b*c+a,is=()=>{},aF=a=>a,fB=(a,b,c)=>b-a===0?1:(c-a)/(b-a);function iu(a,b){const c=a[a.length-1];for(let d=1;d<=b;d++){const e=fB(0,b,d);a.push(ir(c,1,e))}}function tZ(b){const a=[0];return iu(a,b-1),a}function t_(b,a=tZ(b.length),e=aF){const c=b.length,d=c-a.length;return d>0&&iu(a,d),g=>{let d=0;for(;d<c-2&&!(g<a[d+1]);d++);let f=hW(0,1,fB(a[d],a[d+1],g));return f=tT(e,d)(f),ir(b[d],b[d+1],f)}}const iD=a=>Array.isArray(a)&&de(a[0]),ft=a=>typeof a=="object"&&Boolean(a.createAnimation),aZ=a=>typeof a=="function",uc=a=>typeof a=="string",cl={ms:a=>a*1e3,s:a=>a/1e3},iQ=(a,b,c)=>(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a,uf=1e-7,ug=12;function uh(g,b,d,e,f){let c,a,h=0;do a=b+(d-b)/2,c=iQ(a,e,f)-g,c>0?d=a:b=a;while(Math.abs(c)>uf&&++h<ug)return a}function cH(a,b,c,d){if(a===b&&c===d)return aF;const e=b=>uh(b,0,1,a,c);return a=>a===0||a===1?a:iQ(e(a),b,d)}const uj=(a,b="end")=>c=>{c=b==="end"?Math.min(c,.999):Math.max(c,.001);const d=c*a,e=b==="end"?Math.floor(d):Math.ceil(d);return hW(0,1,e/a)},i_={ease:cH(.25,.1,.25,1),"ease-in":cH(.42,0,1,1),"ease-in-out":cH(.42,0,.58,1),"ease-out":cH(0,0,.58,1)},ul=/\((.*?)\)/;function ja(a){if(aZ(a))return a;if(iD(a))return cH(...a);if(i_[a])return i_[a];if(a.startsWith("steps")){const b=ul.exec(a);if(b){const a=b[1].split(",");return uj(parseFloat(a[0]),a[1].trim())}}return aF}class jb{constructor(f,b=[0,1],{easing:a,duration:c=ac.duration,delay:d=ac.delay,endDelay:g=ac.endDelay,repeat:h=ac.repeat,offset:i,direction:e="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=aF,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((a,b)=>{this.resolve=a,this.reject=b}),a=a||ac.easing,ft(a)){const d=a.createAnimation(b);a=d.easing,b=d.keyframes||b,c=d.duration||c}this.repeat=h,this.easing=bG(a)?aF:ja(a),this.updateDuration(c);const j=t_(b,i,bG(a)?a.map(ja):aF);this.tick=m=>{var c;d=d;let a=0;this.pauseTime!==void 0?a=this.pauseTime:a=(m-this.startTime)*this.rate,this.t=a,a/=1e3,a=Math.max(a-d,0),this.playState==="finished"&&this.pauseTime===void 0&&(a=this.totalDuration);const h=a/this.duration;let k=Math.floor(h),b=h%1;!b&&h>=1&&(b=1),b===1&&k--;const i=k%2;(e==="reverse"||e==="alternate"&&i||e==="alternate-reverse"&&!i)&&(b=1-b);const n=a>=this.totalDuration?1:Math.min(b,1),l=j(this.easing(n));f(l),this.pauseTime===void 0&&(this.playState==="finished"||a>=this.totalDuration+g)?(this.playState="finished",(c=this.resolve)===null||c===void 0||c.call(this,l)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const a=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=a-this.pauseTime:this.startTime||(this.startTime=a),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var a;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(a=this.reject)===null||a===void 0||a.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(a){this.duration=a,this.totalDuration=a*(this.repeat+1)}get currentTime(){return this.t}set currentTime(a){this.pauseTime!==void 0||this.rate===0?this.pauseTime=a:this.startTime=performance.now()-a/this.rate}get playbackRate(){return this.rate}set playbackRate(a){this.rate=a}}fe=function(){},process.env.NODE_ENV!=="production"&&(fe=function(a,b){if(!a)throw new Error(b)});class up{setAnimation(a){this.animation=a,a?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const fc=new WeakMap;function ji(a){return fc.has(a)||fc.set(a,{transforms:[],values:new Map}),fc.get(a)}function us(a,b){return a.has(b)||a.set(b,new up),a.get(b)}const ut=["","X","Y","Z"],uu=["translate","scale","rotate","skew"],dF={x:"translateX",y:"translateY",z:"translateZ"},jn={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:a=>a+"deg"},ux={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:a=>a+"px"},rotate:jn,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:aF},skew:jn},cv=new Map,eO=a=>`--motion-${a}`,dK=["x","y","z"];uu.forEach(a=>{ut.forEach(b=>{dK.push(a+b),cv.set(eO(a+b),ux[a])})});const uB=(a,b)=>dK.indexOf(a)-dK.indexOf(b),uC=new Set(dK),jH=a=>uC.has(a),uE=(b,a)=>{dF[a]&&(a=dF[a]);const{transforms:c}=ji(b);tN(c,a),b.style.transform=uF(c)},uF=a=>a.sort(uB).reduce(uG,"").trim(),uG=(b,a)=>`${b} ${a}(var(${eO(a)}))`,eL=a=>a.startsWith("--"),jM=new Set;function uJ(a){if(!jM.has(a)){jM.add(a);try{const{syntax:b,initialValue:c}=cv.has(a)?cv.get(a):{};CSS.registerProperty({name:a,inherits:!1,syntax:b,initialValue:c})}catch{}}}const eJ=(a,b)=>document.createElement("div").animate(a,b),jY={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{eJ({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(eJ({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{eJ({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},eC={},by={};for(const a in jY)by[a]=()=>(eC[a]===void 0&&(eC[a]=jY[a]()),eC[a]);const uO=.015,uP=(c,d)=>{let a="";const b=Math.round(d/uO);for(let d=0;d<b;d++)a+=c(fB(0,b-1,d))+", ";return a.substring(0,a.length-2)},ki=(a,b)=>aZ(a)?by.linearEasing()?`linear(${uP(a,b)})`:ac.easing:iD(a)?uR(a):a,uR=([a,b,c,d])=>`cubic-bezier(${a}, ${b}, ${c}, ${d})`;function uS(a,b){for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c?a[c-1]:b());return a}const uT=a=>Array.isArray(a)?a:[a];function ew(a){return dF[a]&&(a=dF[a]),jH(a)?eO(a):a}const dR={get:(c,a)=>{a=ew(a);let b=eL(a)?c.style.getPropertyValue(a):getComputedStyle(c)[a];if(!b&&b!==0){const c=cv.get(a);c&&(b=c.initialValue)}return b},set:(b,a,c)=>{a=ew(a),eL(a)?b.style.setProperty(a,c):b.style[a]=c}};function kn(a,b=!0){if(!(!a||a.playState==="finished"))try{a.stop?a.stop():(b&&a.commitStyles(),a.cancel())}catch{}}function uX(b,e){var a;let c=e?.toDefaultUnit||aF;const d=b[b.length-1];if(uc(d)){const b=((a=d.match(/(-?[\d.]+)([a-z%]*)/))===null||a===void 0?void 0:a[2])||"";b&&(c=a=>a+b)}return c}function uY(){return window.__MOTION_DEV_TOOLS_RECORD}function uZ(d,g,u,i={},l){const n=uY(),o=i.record!==!1&&n;let b,{duration:e=ac.duration,delay:m=ac.delay,endDelay:v=ac.endDelay,repeat:q=ac.repeat,easing:a=ac.easing,persist:t=!1,direction:w,offset:p,allowWebkitAcceleration:s=!1}=i;const r=ji(d),k=jH(g);let j=by.waapi();k&&uE(d,g);const c=ew(g),h=us(r.values,c),f=cv.get(c);return kn(h.animation,!(ft(a)&&h.generator)&&i.record!==!1),()=>{const x=()=>{var a,b;return(b=(a=dR.get(d,c))!==null&&a!==void 0?a:f?.initialValue)!==null&&b!==void 0?b:0};let r=uS(uT(u),x);const y=uX(r,f);if(ft(a)){const b=a.createAnimation(r,g!=="opacity",x,c,h);a=b.easing,r=b.keyframes||r,e=b.duration||e}if(eL(c)&&(by.cssRegisterProperty()?uJ(c):j=!1),k&&!by.linearEasing()&&(aZ(a)||bG(a)&&a.some(aZ))&&(j=!1),j){f&&(r=r.map(a=>de(a)?f.toDefaultUnit(a):a)),r.length===1&&(!by.partialKeyframes()||o)&&r.unshift(x());const g={delay:cl.ms(m),duration:cl.ms(e),endDelay:cl.ms(v),easing:bG(a)?void 0:ki(a,e),direction:w,iterations:q+1,fill:"both"};b=d.animate({[c]:r,offset:p,easing:bG(a)?a.map(a=>ki(a,e)):void 0},g),b.finished||(b.finished=new Promise((a,c)=>{b.onfinish=a,b.oncancel=c}));const h=r[r.length-1];b.finished.then(()=>{t||(dR.set(d,c,h),b.cancel())}).catch(is),s||(b.playbackRate=1.000001)}else if(l&&k)r=r.map(a=>typeof a=="string"?parseFloat(a):a),r.length===1&&r.unshift(parseFloat(x())),b=new l(a=>{dR.set(d,c,y?y(a):a)},r,Object.assign(Object.assign({},i),{duration:e,easing:a}));else{const a=r[r.length-1];dR.set(d,c,f&&de(a)?f.toDefaultUnit(a):a)}return o&&n(d,g,r,{duration:e,delay:m,easing:a,repeat:q,offset:p},"motion-one"),h.setAnimation(b),b}}const u_=(a,b)=>a[b]?Object.assign(Object.assign({},a),a[b]):Object.assign({},a);function kw(a,b){var c;return typeof a=="string"?b?((c=b[a])!==null&&c!==void 0||(b[a]=document.querySelectorAll(a)),a=b[a]):a=document.querySelectorAll(a):a instanceof Element&&(a=[a]),Array.from(a||[])}const va=a=>a(),ky=(a,b,c=ac.duration)=>new Proxy({animations:a.map(va).filter(Boolean),duration:c,options:b},vd),vc=a=>a.animations[0],vd={get:(a,b)=>{const c=vc(a);switch(b){case"duration":return a.duration;case"currentTime":return cl.s(c?.[b]||0);case"playbackRate":case"playState":return c?.[b];case"finished":return a.finished||(a.finished=Promise.all(a.animations.map(ve)).catch(is)),a.finished;case"stop":return()=>{a.animations.forEach(a=>kn(a))};case"forEachNative":return b=>{a.animations.forEach(c=>b(c,a))};default:return typeof c?.[b]>"u"?void 0:()=>a.animations.forEach(a=>a[b]())}},set:(b,c,a)=>{switch(c){case"currentTime":a=cl.ms(a);case"currentTime":case"playbackRate":for(let d=0;d<b.animations.length;d++)b.animations[d][c]=a;return!0}return!1}},ve=a=>a.finished;function vf(a,b,c){return aZ(a)?a(b,c):a}function vg(a){return function(b,c,d={}){b=kw(b);const e=b.length;fe(Boolean(e),"No valid element provided."),fe(Boolean(c),"No keyframes defined.");const f=[];for(let g=0;g<e;g++){const h=b[g];for(const b in c){const i=u_(d,b);i.delay=vf(i.delay,g,e);const j=uZ(h,b,c[b],i,a);f.push(j)}}return ky(f,d,d.duration)}}const vh=vg(jb);function vi(b,e){var d={},a,c;for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&e.indexOf(a)<0&&(d[a]=b[a]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}const vj={any:0,all:1};function vk(g,d,{root:i,margin:e,amount:c="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const f=kw(g),a=new WeakMap,h=c=>{c.forEach(c=>{const e=a.get(c.target);if(c.isIntersecting!==Boolean(e))if(c.isIntersecting){const e=d(c);aZ(e)?a.set(c.target,e):b.unobserve(c.target)}else e&&(e(c),a.delete(c.target))})},b=new IntersectionObserver(h,{root:i,rootMargin:e,threshold:typeof c=="number"?c:vj[c]});return f.forEach(a=>b.observe(a)),()=>b.disconnect()}function ep(a,b,c){a.dispatchEvent(new CustomEvent(b,{detail:{originalEvent:c}}))}function kJ(a,b,c){a.dispatchEvent(new CustomEvent(b,{detail:{originalEntry:c}}))}const vn={isActive:a=>Boolean(a.inView),subscribe:(a,{enable:c,disable:d},{inViewOptions:b={}})=>{const{once:e}=b,f=vi(b,["once"]);return vk(a,b=>{if(c(),kJ(a,"viewenter",b),!e)return b=>{d(),kJ(a,"viewleave",b)}},f)}},kP=(a,b,c)=>d=>{d.pointerType&&d.pointerType!=="mouse"||(c(),ep(a,b,d))};[...Object.keys({inView:vn,hover:{isActive:a=>Boolean(a.hover),subscribe:(a,{enable:d,disable:e})=>{const b=kP(a,"hoverstart",d),c=kP(a,"hoverend",e);return a.addEventListener("pointerenter",b),a.addEventListener("pointerleave",c),()=>{a.removeEventListener("pointerenter",b),a.removeEventListener("pointerleave",c)}}},press:{isActive:a=>Boolean(a.press),subscribe:(a,{enable:d,disable:e})=>{const b=c=>{e(),ep(a,"pressend",c),window.removeEventListener("pointerup",b)},c=c=>{d(),ep(a,"pressstart",c),window.addEventListener("pointerup",b)};return a.addEventListener("pointerdown",c),()=>{a.removeEventListener("pointerdown",c),window.removeEventListener("pointerup",b)}}}})];function vp(b,a={}){return ky([()=>{const c=new jb(b,[0,1],a);return c.finished.catch(()=>{}),c}],a,a.duration)}function bl(a,b,c){return(aZ(a)?vp:vh)(a,b,c)}cG={},vs=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},lF={},X={};let ee;const vw=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];X.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},X.getSymbolTotalCodewords=function(a){return vw[a]},X.getBCHDigit=function(a){let b=0;for(;a!==0;)b++,a>>>=1;return b},X.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');ee=a},X.isKanjiModeEnabled=function(){return typeof ee<"u"},X.toSJIS=function(a){return ee(a)},dV={},function(a){a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2};function b(b){if(typeof b!="string")throw new Error("Param is not a string");switch(b.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+b)}}a.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},a.from=function(c,d){if(a.isValid(c))return c;try{return b(c)}catch{return d}}}(dV);function kQ(){this.buffer=[],this.length=0}kQ.prototype={get:function(a){const b=Math.floor(a/8);return(this.buffer[b]>>>7-a%8&1)===1},put:function(b,a){for(let c=0;c<a;c++)this.putBit((b>>>a-c-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(b){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),b&&(this.buffer[a]|=128>>>this.length%8),this.length++}},vz=kQ;function cy(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}cy.prototype.set=function(b,c,d,e){const a=b*this.size+c;this.data[a]=d,e&&(this.reservedBit[a]=!0)},cy.prototype.get=function(a,b){return this.data[a*this.size+b]},cy.prototype.xor=function(a,b,c){this.data[a*this.size+b]^=c},cy.prototype.isReserved=function(a,b){return this.reservedBit[a*this.size+b]},vB=cy,jC={},function(a){const b=X.getSymbolSize;a.getRowColCoords=function(c){if(c===1)return[];const e=Math.floor(c/7)+2,d=b(c),f=d===145?26:Math.ceil((d-13)/(2*e-2))*2,a=[d-7];for(let b=1;b<e-1;b++)a[b]=a[b-1]-f;return a.push(6),a.reverse()},a.getPositions=function(e){const d=[],c=a.getRowColCoords(e),b=c.length;for(let a=0;a<b;a++)for(let e=0;e<b;e++)a===0&&e===0||a===0&&e===b-1||a===b-1&&e===0||d.push([c[a],c[e]]);return d}}(jC),jt={};const vE=X.getSymbolSize,jq=7;jt.getPositions=function(b){const a=vE(b);return[[0,0],[a-jq,0],[0,a-jq]]},jk={},function(a){a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const b={N1:3,N2:3,N3:40,N4:10};a.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},a.from=function(b){return a.isValid(b)?parseInt(b,10):void 0},a.getPenaltyN1=function(e){const h=e.size;let d=0,a=0,c=0,f=null,g=null;for(let i=0;i<h;i++){a=c=0,f=g=null;for(let k=0;k<h;k++){let j=e.get(i,k);j===f?a++:(a>=5&&(d+=b.N1+(a-5)),f=j,a=1),j=e.get(k,i),j===g?c++:(c>=5&&(d+=b.N1+(c-5)),g=j,c=1)}a>=5&&(d+=b.N1+(a-5)),c>=5&&(d+=b.N1+(c-5))}return d},a.getPenaltyN2=function(a){const c=a.size;let d=0;for(let b=0;b<c-1;b++)for(let e=0;e<c-1;e++){const f=a.get(b,e)+a.get(b,e+1)+a.get(b+1,e)+a.get(b+1,e+1);(f===4||f===0)&&d++}return d*b.N2},a.getPenaltyN3=function(d){const f=d.size;let e=0,a=0,c=0;for(let b=0;b<f;b++){a=c=0;for(let g=0;g<f;g++)a=a<<1&2047|d.get(b,g),g>=10&&(a===1488||a===93)&&e++,c=c<<1&2047|d.get(g,b),g>=10&&(c===1488||c===93)&&e++}return e*b.N3},a.getPenaltyN4=function(a){let c=0;const d=a.data.length;for(let b=0;b<d;b++)c+=a.data[b];return Math.abs(Math.ceil(c*100/d/5)-10)*b.N4};function c(d,b,c){switch(d){case a.Patterns.PATTERN000:return(b+c)%2===0;case a.Patterns.PATTERN001:return b%2===0;case a.Patterns.PATTERN010:return c%3===0;case a.Patterns.PATTERN011:return(b+c)%3===0;case a.Patterns.PATTERN100:return(Math.floor(b/2)+Math.floor(c/3))%2===0;case a.Patterns.PATTERN101:return b*c%2+b*c%3===0;case a.Patterns.PATTERN110:return(b*c%2+b*c%3)%2===0;case a.Patterns.PATTERN111:return(b*c%3+(b+c)%2)%2===0;default:throw new Error("bad maskPattern:"+d)}}a.applyMask=function(d,a){const b=a.size;for(let e=0;e<b;e++)for(let f=0;f<b;f++)a.isReserved(f,e)||a.xor(f,e,c(d,f,e))},a.getBestMask=function(b,e){const f=Object.keys(a.Patterns).length;let c=0,d=1/0;for(let g=0;g<f;g++){e(g),a.applyMask(g,b);const h=a.getPenaltyN1(b)+a.getPenaltyN2(b)+a.getPenaltyN3(b)+a.getPenaltyN4(b);a.applyMask(g,b),h<d&&(d=h,c=g)}return c}}(jk),dE={};const aA=dV,dC=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],dB=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];dE.getBlocksCount=function(a,b){switch(b){case aA.L:return dC[(a-1)*4+0];case aA.M:return dC[(a-1)*4+1];case aA.Q:return dC[(a-1)*4+2];case aA.H:return dC[(a-1)*4+3];default:return}},dE.getTotalCodewordsCount=function(a,b){switch(b){case aA.L:return dB[(a-1)*4+0];case aA.M:return dB[(a-1)*4+1];case aA.Q:return dB[(a-1)*4+2];case aA.H:return dB[(a-1)*4+3];default:return}},jh={},dy={};const co=new Uint8Array(512),du=new Uint8Array(256);(function(){let a=1;for(let b=0;b<255;b++)co[b]=a,du[a]=b,a<<=1,a&256&&(a^=285);for(let a=255;a<512;a++)co[a]=co[a-255]})(),dy.log=function(a){if(a<1)throw new Error("log("+a+")");return du[a]},dy.exp=function(a){return co[a]},dy.mul=function(a,b){return a===0||b===0?0:co[du[a]+du[b]]},function(a){const b=dy;a.mul=function(a,c){const d=new Uint8Array(a.length+c.length-1);for(let e=0;e<a.length;e++)for(let f=0;f<c.length;f++)d[e+f]^=b.mul(a[e],c[f]);return d},a.mod=function(d,c){let a=new Uint8Array(d);for(;a.length-c.length>=0;){const e=a[0];for(let d=0;d<c.length;d++)a[d]^=b.mul(c[d],e);let d=0;for(;d<a.length&&a[d]===0;)d++;a=a.slice(d)}return a},a.generateECPolynomial=function(d){let c=new Uint8Array([1]);for(let e=0;e<d;e++)c=a.mul(c,new Uint8Array([1,b.exp(e)]));return c}}(jh);const iZ=jh;function fp(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}fp.prototype.initialize=function(a){this.degree=a,this.genPoly=iZ.generateECPolynomial(this.degree)},fp.prototype.encode=function(b){if(!this.genPoly)throw new Error("Encoder not initialized");const c=new Uint8Array(b.length+this.degree);c.set(b);const a=iZ.mod(c,this.genPoly),d=this.degree-a.length;if(d>0){const b=new Uint8Array(this.degree);return b.set(a,d),b}return a},vR=fp,iO={},aK={},fu={},fu.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40},ai={};const iA="[0-9]+",vX="[A-Z $%*+\\-./:]+";let ch="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ch=ch.replace(/u/g,"\\u");const vZ="(?:(?![A-Z0-9 $%*+\\-./:]|"+ch+`)(?:.|[\r
]))+`;ai.KANJI=new RegExp(ch,"g"),ai.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ai.BYTE=new RegExp(vZ,"g"),ai.NUMERIC=new RegExp(iA,"g"),ai.ALPHANUMERIC=new RegExp(vX,"g");const v_=new RegExp("^"+ch+"$"),v$=new RegExp("^"+iA+"$"),wa=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ai.testKanji=function(a){return v_.test(a)},ai.testNumeric=function(a){return v$.test(a)},ai.testAlphanumeric=function(a){return wa.test(a)},function(a){const c=fu,b=ai;a.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(a,b){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!c.isValid(b))throw new Error("Invalid version: "+b);return b>=1&&b<10?a.ccBits[0]:b<27?a.ccBits[1]:a.ccBits[2]},a.getBestModeForData=function(c){return b.testNumeric(c)?a.NUMERIC:b.testAlphanumeric(c)?a.ALPHANUMERIC:b.testKanji(c)?a.KANJI:a.BYTE},a.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},a.isValid=function(a){return a&&a.bit&&a.ccBits};function d(b){if(typeof b!="string")throw new Error("Param is not a string");switch(b.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+b)}}a.from=function(b,c){if(a.isValid(b))return b;try{return d(b)}catch{return c}}}(aK),function(b){const c=X,i=dE,e=dV,a=aK,d=fu,f=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,g=c.getBCHDigit(f);function j(a,c,d){for(let e=1;e<=40;e++)if(c<=b.getCapacity(e,d,a))return e}function h(b,c){return a.getCharCountIndicator(b,c)+4}function k(b,c){let a=0;return b.forEach(function(b){const d=h(b.mode,c);a+=d+b.getBitsLength()}),a}function l(c,d){for(let e=1;e<=40;e++)if(k(c,e)<=b.getCapacity(e,d,a.MIXED))return e}b.from=function(a,b){return d.isValid(a)?parseInt(a,10):b},b.getCapacity=function(e,j,b){if(!d.isValid(e))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=a.BYTE);const k=c.getSymbolTotalCodewords(e),l=i.getTotalCodewordsCount(e,j),g=(k-l)*8;if(b===a.MIXED)return g;const f=g-h(b,e);switch(b){case a.NUMERIC:return Math.floor(f/10*3);case a.ALPHANUMERIC:return Math.floor(f/11*2);case a.KANJI:return Math.floor(f/13);case a.BYTE:default:return Math.floor(f/8)}},b.getBestVersionForData=function(a,d){let b;const c=e.from(d,e.M);if(Array.isArray(a)){if(a.length>1)return l(a,c);if(a.length===0)return 1;b=a[0]}else b=a;return j(b.mode,b.getLength(),c)},b.getEncodedBits=function(a){if(!d.isValid(a)||a<7)throw new Error("Invalid QR Code version");let b=a<<12;for(;c.getBCHDigit(b)-g>=0;)b^=f<<c.getBCHDigit(b)-g;return a<<12|b}}(iO),iq={};const fJ=X,il=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,we=1<<14|1<<12|1<<10|1<<4|1<<1,ig=fJ.getBCHDigit(il);iq.getEncodedBits=function(c,d){const b=c.bit<<3|d;let a=b<<10;for(;fJ.getBCHDigit(a)-ig>=0;)a^=il<<fJ.getBCHDigit(a)-ig;return(b<<10|a)^we},h_={};const wh=aK;function bL(a){this.mode=wh.NUMERIC,this.data=a.toString()}bL.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},bL.prototype.getLength=function(){return this.data.length},bL.prototype.getBitsLength=function(){return bL.getBitsLength(this.data.length)},bL.prototype.write=function(d){let a,b,c;for(a=0;a+3<=this.data.length;a+=3)b=this.data.substr(a,3),c=parseInt(b,10),d.put(c,10);const e=this.data.length-a;e>0&&(b=this.data.substr(a),c=parseInt(b,10),d.put(c,e*3+1))},wj=bL;const wk=aK,fV=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function bs(a){this.mode=wk.ALPHANUMERIC,this.data=a}bs.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},bs.prototype.getLength=function(){return this.data.length},bs.prototype.getBitsLength=function(){return bs.getBitsLength(this.data.length)},bs.prototype.write=function(b){let a;for(a=0;a+2<=this.data.length;a+=2){let c=fV.indexOf(this.data[a])*45;c+=fV.indexOf(this.data[a+1]),b.put(c,11)}this.data.length%2&&b.put(fV.indexOf(this.data[a]),6)},wn=bs,wo=function(d){for(var b=[],f=d.length,c=0,a,e;c<f;c++){if(a=d.charCodeAt(c),a>=55296&&a<=56319&&f>c+1&&(e=d.charCodeAt(c+1),e>=56320&&e<=57343&&(a=(a-55296)*1024+e-56320+65536,c+=1)),a<128){b.push(a);continue}if(a<2048){b.push(a>>6|192),b.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){b.push(a>>12|224),b.push(a>>6&63|128),b.push(a&63|128);continue}if(a>=65536&&a<=1114111){b.push(a>>18|240),b.push(a>>12&63|128),b.push(a>>6&63|128),b.push(a&63|128);continue}b.push(239,191,189)}return new Uint8Array(b).buffer};const wp=wo,wq=aK;function br(a){this.mode=wq.BYTE,typeof a=="string"&&(a=wp(a)),this.data=new Uint8Array(a)}br.getBitsLength=function(a){return a*8},br.prototype.getLength=function(){return this.data.length},br.prototype.getBitsLength=function(){return br.getBitsLength(this.data.length)},br.prototype.write=function(a){for(let b=0,c=this.data.length;b<c;b++)a.put(this.data[b],8)},ws=br;const wt=aK,wu=X;function bP(a){this.mode=wt.KANJI,this.data=a}bP.getBitsLength=function(a){return a*13},bP.prototype.getLength=function(){return this.data.length},bP.prototype.getBitsLength=function(){return bP.getBitsLength(this.data.length)},bP.prototype.write=function(b){let a;for(a=0;a<this.data.length;a++){let c=wu.toSJIS(this.data[a]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);c=(c>>>8&255)*192+(c&255),b.put(c,13)}},ww=bP,hS={exports:{}},function(b){var a={single_source_shortest_paths:function(p,g,j){var n={},c={},f,h,i,b,l,d,m,e,o,k,q;c[g]=0,f=a.PriorityQueue.make(),f.push(g,0);for(h,i,b,l,d,m,e,o,k;!f.empty();){h=f.pop(),i=h.value,l=h.cost,d=p[i]||{};for(b in d)d.hasOwnProperty(b)&&(m=d[b],e=l+m,o=c[b],k=typeof c[b]>"u",(k||o>e)&&(c[b]=e,f.push(b,e),n[b]=i))}if(typeof j<"u"&&typeof c[j]>"u")throw q=["Could not find a path from ",g," to ",j,"."].join(""),new Error(q);return n},extract_shortest_path_from_predecessor_list:function(c,d){for(var b=[],a=d;a;)b.push(a),c[a],a=c[a];return b.reverse(),b},find_path:function(c,d,b){var e=a.single_source_shortest_paths(c,d,b);return a.extract_shortest_path_from_predecessor_list(e,b)},PriorityQueue:{make:function(e){var b=a.PriorityQueue,c={},d;e=e||{};for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c.queue=[],c.sorter=e.sorter||b.default_sorter,c},default_sorter:function(a,b){return a.cost-b.cost},push:function(a,b){var c={value:a,cost:b};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};b.exports=a}(hS),function(d){const a=aK,m=wj,k=wn,i=ws,h=ww,b=ai,e=X,q=hS.exports;function j(a){return unescape(encodeURIComponent(a)).length}function c(c,d,e){const b=[];let a;for(;(a=c.exec(e))!==null;)b.push({data:a[0],index:a.index,mode:d,length:a[0].length});return b}function l(d){const h=c(b.NUMERIC,a.NUMERIC,d),i=c(b.ALPHANUMERIC,a.ALPHANUMERIC,d);let f,g;return e.isKanjiModeEnabled()?(f=c(b.BYTE,a.BYTE,d),g=c(b.KANJI,a.KANJI,d)):(f=c(b.BYTE_KANJI,a.BYTE,d),g=[]),h.concat(i,f,g).sort(function(a,b){return a.index-b.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function f(b,c){switch(c){case a.NUMERIC:return m.getBitsLength(b);case a.ALPHANUMERIC:return k.getBitsLength(b);case a.KANJI:return h.getBitsLength(b);case a.BYTE:return i.getBitsLength(b)}}function n(a){return a.reduce(function(a,b){const c=a.length-1>=0?a[a.length-1]:null;return c&&c.mode===b.mode?(a[a.length-1].data+=b.data,a):(a.push(b),a)},[])}function o(c){const b=[];for(let e=0;e<c.length;e++){const d=c[e];switch(d.mode){case a.NUMERIC:b.push([d,{data:d.data,mode:a.ALPHANUMERIC,length:d.length},{data:d.data,mode:a.BYTE,length:d.length}]);break;case a.ALPHANUMERIC:b.push([d,{data:d.data,mode:a.BYTE,length:d.length}]);break;case a.KANJI:b.push([d,{data:d.data,mode:a.BYTE,length:j(d.data)}]);break;case a.BYTE:b.push([{data:d.data,mode:a.BYTE,length:j(d.data)}])}}return b}function p(e,g){const b={},c={start:{}};let d=["start"];for(let h=0;h<e.length;h++){const i=e[h],j=[];for(let l=0;l<i.length;l++){const e=i[l],k=""+h+l;j.push(k),b[k]={node:e,lastCount:0},c[k]={};for(let i=0;i<d.length;i++){const h=d[i];b[h]&&b[h].node.mode===e.mode?(c[h][k]=f(b[h].lastCount+e.length,e.mode)-f(b[h].lastCount,e.mode),b[h].lastCount+=e.length):(b[h]&&(b[h].lastCount=e.length),c[h][k]=f(e.length,e.mode)+4+a.getCharCountIndicator(e.mode,g))}}d=j}for(let a=0;a<d.length;a++)c[d[a]].end=0;return{map:c,table:b}}function g(c,f){let b;const d=a.getBestModeForData(c);if(b=a.from(f,d),b!==a.BYTE&&b.bit<d.bit)throw new Error('"'+c+'" cannot be encoded with mode '+a.toString(b)+`.
 Suggested mode is: `+a.toString(d));switch(b===a.KANJI&&!e.isKanjiModeEnabled()&&(b=a.BYTE),b){case a.NUMERIC:return new m(c);case a.ALPHANUMERIC:return new k(c);case a.KANJI:return new h(c);case a.BYTE:return new i(c)}}d.fromArray=function(a){return a.reduce(function(b,a){return typeof a=="string"?b.push(g(a,null)):a.data&&b.push(g(a.data,a.mode)),b},[])},d.fromString=function(i,f){const g=l(i,e.isKanjiModeEnabled()),h=o(g),b=p(h,f),c=q.find_path(b.map,"start","end"),a=[];for(let d=1;d<c.length-1;d++)a.push(b.table[c[d]].node);return d.fromArray(n(a))},d.rawSplit=function(a){return d.fromArray(l(a,e.isKanjiModeEnabled()))}}(h_);const cV=X,fZ=dV,wA=vz,wB=vB,wC=jC,wD=jt,gg=jk,gi=dE,wG=vR,cN=iO,wI=iq,wJ=aK,gl=h_;function wL(a,d){const c=a.size,b=wD.getPositions(d);for(let d=0;d<b.length;d++){const e=b[d][0],f=b[d][1];for(let b=-1;b<=7;b++)if(!(e+b<=-1||c<=e+b))for(let d=-1;d<=7;d++)f+d<=-1||c<=f+d||(b>=0&&b<=6&&(d===0||d===6)||d>=0&&d<=6&&(b===0||b===6)||b>=2&&b<=4&&d>=2&&d<=4?a.set(e+b,f+d,!0,!0):a.set(e+b,f+d,!1,!0))}}function wM(a){const b=a.size;for(let c=8;c<b-8;c++){const d=c%2===0;a.set(c,6,d,!0),a.set(6,c,d,!0)}}function wN(b,c){const a=wC.getPositions(c);for(let c=0;c<a.length;c++){const d=a[c][0],e=a[c][1];for(let a=-2;a<=2;a++)for(let c=-2;c<=2;c++)a===-2||a===2||c===-2||c===2||a===0&&c===0?b.set(d+a,e+c,!0,!0):b.set(d+a,e+c,!1,!0)}}function wO(a,e){const f=a.size,g=cN.getEncodedBits(e);let b,c,d;for(let e=0;e<18;e++)b=Math.floor(e/3),c=e%3+f-8-3,d=(g>>e&1)===1,a.set(b,c,d,!0),a.set(c,b,d,!0)}function gn(b,e,f){const d=b.size,g=wI.getEncodedBits(e,f);let a,c;for(a=0;a<15;a++)c=(g>>a&1)===1,a<6?b.set(a,8,c,!0):a<8?b.set(a+1,8,c,!0):b.set(d-15+a,8,c,!0),a<8?b.set(8,d-a-1,c,!0):a<9?b.set(8,15-a-1+1,c,!0):b.set(8,15-a-1,c,!0);b.set(d-8,8,1,!0)}function wQ(d,g){const e=d.size;let b=-1,a=e-1,c=7,f=0;for(let h=e-1;h>0;h-=2)for(h===6&&h--;;){for(let b=0;b<2;b++)if(!d.isReserved(a,h-b)){let e=!1;f<g.length&&(e=(g[f]>>>c&1)===1),d.set(a,h-b,e),c--,c===-1&&(f++,c=7)}if(a+=b,a<0||e<=a){a-=b,b=-b;break}}}function wR(b,c,e){const a=new wA;e.forEach(function(c){a.put(c.mode.bit,4),a.put(c.getLength(),wJ.getCharCountIndicator(c.mode,b)),c.write(a)});const f=cV.getSymbolTotalCodewords(b),g=gi.getTotalCodewordsCount(b,c),d=(f-g)*8;for(a.getLengthInBits()+4<=d&&a.put(0,4);a.getLengthInBits()%8!==0;)a.putBit(0);const h=(d-a.getLengthInBits())/8;for(let b=0;b<h;b++)a.put(b%2?17:236,8);return wS(a,b,c)}function wS(w,h,m){const e=cV.getSymbolTotalCodewords(h),v=gi.getTotalCodewordsCount(h,m),u=e-v,a=gi.getBlocksCount(h,m),t=e%a,r=a-t,q=Math.floor(e/a),f=Math.floor(u/a),o=f+1,n=q-f,p=new wG(n);let j=0;const d=new Array(a),k=new Array(a);let g=0;const s=new Uint8Array(w.buffer);for(let b=0;b<a;b++){const c=b<r?f:o;d[b]=s.slice(j,j+c),k[b]=p.encode(d[b]),j+=c,g=Math.max(g,c)}const i=new Uint8Array(e);let l=0,c,b;for(c=0;c<g;c++)for(b=0;b<a;b++)c<d[b].length&&(i[l++]=d[b][c]);for(c=0;c<n;c++)for(b=0;b<a;b++)i[l++]=k[b][c];return i}function wT(d,a,c,e){let f;if(Array.isArray(d))f=gl.fromArray(d);else if(typeof d=="string"){let b=a;if(!b){const a=gl.rawSplit(d);b=cN.getBestVersionForData(a,c)}f=gl.fromString(d,b||40)}else throw new Error("Invalid data");const g=cN.getBestVersionForData(f,c);if(!g)throw new Error("The amount of data is too big to be stored in a QR Code");if(a){if(a<g)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+g+`.
`)}else a=g;const h=wR(a,c,f),i=cV.getSymbolSize(a),b=new wB(i);return wL(b,a),wM(b),wN(b,a),gn(b,c,0),a>=7&&wO(b,a),wQ(b,h),isNaN(e)&&(e=gg.getBestMask(b,gn.bind(null,b,c))),gg.applyMask(e,b),gn(b,c,e),{modules:b,version:a,errorCorrectionLevel:c,maskPattern:e,segments:f}}lF.create=function(b,a){if(typeof b>"u"||b==="")throw new Error("No input text");let c=fZ.M,d,e;return typeof a<"u"&&(c=fZ.from(a.errorCorrectionLevel,fZ.M),d=cN.from(a.version),e=gg.from(a.maskPattern),a.toSJISFunc&&cV.setToSJISFunction(a.toSJISFunc)),wT(b,d,c,e)},hf={},gr={},function(a){function b(b){if(typeof b=="number"&&(b=b.toString()),typeof b!="string")throw new Error("Color should be defined as hex string");let a=b.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+b);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(a){return[a,a]}))),a.length===6&&a.push("F","F");const c=parseInt(a.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+a.slice(0,6).join("")}}a.getOptions=function(a){a||(a={}),a.color||(a.color={});const d=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,e=a.scale||4;return{width:c,scale:c?4:e,margin:d,color:{dark:b(a.color.dark||"#000000ff"),light:b(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},a.getScale=function(b,a){return a.width&&a.width>=b+a.margin*2?a.width/(b+a.margin*2):a.scale},a.getImageWidth=function(b,c){const d=a.getScale(b,c);return Math.floor((b+c.margin*2)*d)},a.qrToImageData=function(f,h,c){const g=h.modules.size,i=h.modules.data,e=a.getScale(g,c),d=Math.floor((g+c.margin*2)*e),b=c.margin*e,j=[c.color.light,c.color.dark];for(let a=0;a<d;a++)for(let h=0;h<d;h++){let l=(a*d+h)*4,k=c.color.light;if(a>=b&&h>=b&&a<d-b&&h<d-b){const c=Math.floor((a-b)/e),d=Math.floor((h-b)/e);k=j[i[c*g+d]?1:0]}f[l++]=k.r,f[l++]=k.g,f[l++]=k.b,f[l]=k.a}}}(gr),function(a){const b=gr;function c(c,a,b){c.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=b,a.width=b,a.style.height=b+"px",a.style.width=b+"px"}function d(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}a.render=function(i,a,k){let e=k,f=a;typeof e>"u"&&(!a||!a.getContext)&&(e=a,a=void 0),a||(f=d()),e=b.getOptions(e);const h=b.getImageWidth(i.modules.size,e),g=f.getContext("2d"),j=g.createImageData(h,h);return b.qrToImageData(j.data,i,e),c(g,f,h),g.putImageData(j,0,0),f},a.renderToDataURL=function(d,c,e){let b=e;typeof b>"u"&&(!c||!c.getContext)&&(b=c,c=void 0),b||(b={});const f=a.render(d,c,b),g=b.type||"image/png",h=b.rendererOpts||{};return f.toDataURL(g,h.quality)}}(hf),gZ={};const wX=gr;function gH(a,b){const c=a.a/255,d=b+'="'+a.hex+'"';return c<1?d+" "+b+'-opacity="'+c.toFixed(2).slice(1)+'"':d}function ea(c,d,a){let b=c+d;return typeof a<"u"&&(b+=" "+a),b}function w_(a,c,g){let d="",e=0,b=!1,f=0;for(let h=0;h<a.length;h++){const i=Math.floor(h%c),j=Math.floor(h/c);!i&&!b&&(b=!0),a[h]?(f++,h>0&&i>0&&a[h-1]||(d+=b?ea("M",i+g,.5+j+g):ea("m",e,0),e=0,b=!1),i+1<c&&a[h+1]||(d+=ea("h",f),f=0)):e++}return d}gZ.render=function(e,g,c){const a=wX.getOptions(g),d=e.modules.size,h=e.modules.data,b=d+a.margin*2,i=a.color.light.a?"<path "+gH(a.color.light,"fill")+' d="M0 0h'+b+"v"+b+'H0z"/>':"",j="<path "+gH(a.color.dark,"stroke")+' d="'+w_(h,d,a.margin)+'"/>',k='viewBox="0 0 '+b+" "+b+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+k+' shape-rendering="crispEdges">'+i+j+`</svg>
`;return typeof c=="function"&&c(null,f),f};const w$=vs,gC=lF,gN=hf,xc=gZ;function gB(g,a,c,b,e){const f=[].slice.call(arguments,1),d=f.length,h=typeof f[d-1]=="function";if(!h&&!w$())throw new Error("Callback required as last argument");if(h){if(d<2)throw new Error("Too few arguments provided");d===2?(e=c,c=a,a=b=void 0):d===3&&(a.getContext&&typeof e>"u"?(e=b,b=void 0):(e=b,b=c,c=a,a=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(c=a,a=b=void 0):d===2&&!a.getContext&&(b=c,c=a,a=void 0),new Promise(function(d,e){try{const e=gC.create(c,b);d(g(e,a,b))}catch(a){e(a)}})}try{const d=gC.create(c,b);e(null,g(d,a,b))}catch(a){e(a)}}cG.create=gC.create,cG.toCanvas=gB.bind(null,gN.render),cG.toDataURL=gB.bind(null,gN.renderToDataURL),cG.toString=gB.bind(null,function(a,c,b){return xc.render(a,b)}),xe=Object.defineProperty,gP=Object.getOwnPropertySymbols,xg=Object.prototype.hasOwnProperty,xh=Object.prototype.propertyIsEnumerable,gQ=(a,b,c)=>b in a?xe(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,cR=(c,b)=>{var a;for(a in b||(b={}))xg.call(b,a)&&gQ(c,a,b[a]);if(gP)for(a of gP(b))xh.call(b,a)&&gQ(c,a,b[a]);return c};function xk(){var b;const c=(b=al.state.themeMode)!=null?b:"dark",a={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[c];return{"--w3m-color-fg-1":a.foreground[1],"--w3m-color-fg-2":a.foreground[2],"--w3m-color-fg-3":a.foreground[3],"--w3m-color-bg-1":a.background[1],"--w3m-color-bg-2":a.background[2],"--w3m-color-bg-3":a.background[3],"--w3m-color-overlay":a.overlay}}function gS(){return{"--w3m-accent-color":"#3396FF","--w3m-accent-fill-color":"#FFFFFF","--w3m-z-index":"89","--w3m-background-color":"#3396FF","--w3m-background-border-radius":"8px","--w3m-container-border-radius":"30px","--w3m-wallet-icon-border-radius":"15px","--w3m-wallet-icon-large-border-radius":"30px","--w3m-wallet-icon-small-border-radius":"7px","--w3m-input-border-radius":"28px","--w3m-button-border-radius":"10px","--w3m-notification-border-radius":"36px","--w3m-secondary-button-border-radius":"28px","--w3m-icon-button-border-radius":"50%","--w3m-button-hover-highlight-border-radius":"10px","--w3m-text-big-bold-size":"20px","--w3m-text-big-bold-weight":"600","--w3m-text-big-bold-line-height":"24px","--w3m-text-big-bold-letter-spacing":"-0.03em","--w3m-text-big-bold-text-transform":"none","--w3m-text-xsmall-bold-size":"10px","--w3m-text-xsmall-bold-weight":"700","--w3m-text-xsmall-bold-line-height":"12px","--w3m-text-xsmall-bold-letter-spacing":"0.02em","--w3m-text-xsmall-bold-text-transform":"uppercase","--w3m-text-xsmall-regular-size":"12px","--w3m-text-xsmall-regular-weight":"600","--w3m-text-xsmall-regular-line-height":"14px","--w3m-text-xsmall-regular-letter-spacing":"-0.03em","--w3m-text-xsmall-regular-text-transform":"none","--w3m-text-small-thin-size":"14px","--w3m-text-small-thin-weight":"500","--w3m-text-small-thin-line-height":"16px","--w3m-text-small-thin-letter-spacing":"-0.03em","--w3m-text-small-thin-text-transform":"none","--w3m-text-small-regular-size":"14px","--w3m-text-small-regular-weight":"600","--w3m-text-small-regular-line-height":"16px","--w3m-text-small-regular-letter-spacing":"-0.03em","--w3m-text-small-regular-text-transform":"none","--w3m-text-medium-regular-size":"16px","--w3m-text-medium-regular-weight":"600","--w3m-text-medium-regular-line-height":"20px","--w3m-text-medium-regular-letter-spacing":"-0.03em","--w3m-text-medium-regular-text-transform":"none","--w3m-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--w3m-success-color":"rgb(38,181,98)","--w3m-error-color":"rgb(242, 90, 103)"}}function xm(){const{themeVariables:a}=al.state;return{"--w3m-background-image-url":a!=null&&a["--w3m-background-image-url"]?`url(${a["--w3m-background-image-url"]})`:"none"}}const j={getPreset(a){return gS()[a]},setTheme(){const a=document.querySelector(":root"),{themeVariables:b}=al.state;if(a){const c=cR(cR(cR(cR({},xk()),gS()),b),xm());Object.entries(c).forEach(([b,c])=>a.style.setProperty(b,c))}},globalCss:l`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button w3m-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--w3m-accent-fill-color);background:var(--w3m-accent-color)}`},xo=l`button{display:flex;border-radius:var(--w3m-button-hover-highlight-border-radius);flex-direction:column;justify-content:center;padding:5px;width:100px}button:active{background-color:var(--w3m-color-overlay)}@media(hover:hover){button:hover{background-color:var(--w3m-color-overlay)}}button>div{display:flex;justify-content:center;align-items:center;width:32px;height:32px;box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);background-color:var(--w3m-accent-color);border-radius:var(--w3m-icon-button-border-radius);margin-bottom:4px}button path{fill:var(--w3m-accent-fill-color)}`;xp=Object.defineProperty,xq=Object.getOwnPropertyDescriptor,cT=(g,b,e,c)=>{for(var a=c>1?void 0:c?xq(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&xp(b,e,a),a};let bI=class extends g{constructor(){super(...arguments),this.icon=void 0,this.label="",this.onClick=()=>null}render(){return a`<button @click="${this.onClick}"><div>${this.icon}</div><w3m-text variant="xsmall-regular" color="accent">${this.label}</w3m-text></button>`}};bI.styles=[j.globalCss,xo],cT([e()],bI.prototype,"icon",2),cT([e()],bI.prototype,"label",2),cT([e()],bI.prototype,"onClick",2),bI=cT([h("w3m-box-button")],bI);const xt=l`button{border-radius:var(--w3m-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--w3m-accent-color)}button path{fill:var(--w3m-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--w3m-color-overlay)}button:disabled::after{background-color:transparent}.w3m-icon-left svg{margin-right:5px}.w3m-icon-right svg{margin-left:5px}button:active::after{background-color:var(--w3m-color-overlay)}.w3m-ghost,.w3m-ghost:active::after,.w3m-outline{background-color:transparent}.w3m-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--w3m-color-overlay)}.w3m-ghost:hover::after{background-color:transparent}.w3m-ghost:hover{opacity:.5}}button:disabled{background-color:var(--w3m-color-bg-3);pointer-events:none}.w3m-ghost::after{border-color:transparent}.w3m-ghost path{fill:var(--w3m-color-fg-2)}.w3m-outline path{fill:var(--w3m-accent-color)}.w3m-outline:disabled{background-color:transparent;opacity:.5}`;xu=Object.defineProperty,xv=Object.getOwnPropertyDescriptor,bM=(g,b,e,c)=>{for(var a=c>1?void 0:c?xv(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&xu(b,e,a),a};let aG=class extends g{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const c={"w3m-icon-left":this.iconLeft!==void 0,"w3m-icon-right":this.iconRight!==void 0,"w3m-ghost":this.variant==="ghost","w3m-outline":this.variant==="outline"};let b="inverse";return this.variant==="ghost"&&(b="secondary"),this.variant==="outline"&&(b="accent"),a`<button class="${T(c)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<w3m-text variant="small-regular" color="${b}"><slot></slot></w3m-text>${this.iconRight}</button>`}};aG.styles=[j.globalCss,xt],bM([e()],aG.prototype,"disabled",2),bM([e()],aG.prototype,"iconLeft",2),bM([e()],aG.prototype,"iconRight",2),bM([e()],aG.prototype,"onClick",2),bM([e()],aG.prototype,"variant",2),aG=bM([h("w3m-button")],aG);const xy=l`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--w3m-button-border-radius);color:var(--w3m-accent-fill-color);background-color:var(--w3m-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--w3m-color-overlay)}button:active::after{background-color:var(--w3m-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--w3m-color-bg-3);color:var(--w3m-color-fg-3)}.w3m-secondary{color:var(--w3m-accent-color);background-color:transparent}.w3m-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--w3m-color-overlay)}}`;xz=Object.defineProperty,xA=Object.getOwnPropertyDescriptor,go=(g,b,e,c)=>{for(var a=c>1?void 0:c?xA(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&xz(b,e,a),a};let cc=class extends g{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const b={"w3m-secondary":this.variant==="secondary"};return a`<button ?disabled="${this.disabled}" class="${T(b)}"><slot></slot></button>`}};cc.styles=[j.globalCss,xy],go([e()],cc.prototype,"disabled",2),go([e()],cc.prototype,"variant",2),cc=go([h("w3m-button-big")],cc);const xD=l`:host{background-color:var(--w3m-color-bg-2);border-top:1px solid var(--w3m-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;xE=Object.defineProperty,xF=Object.getOwnPropertyDescriptor,xG=(g,b,e,c)=>{for(var a=c>1?void 0:c?xF(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&xE(b,e,a),a};let gj=class extends g{render(){return a`<div><slot></slot></div>`}};gj.styles=[j.globalCss,xD],gj=xG([h("w3m-info-footer")],gj);const i={CROSS_ICON:o`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:o`<svg width="178" height="29" viewBox="0 0 178 29" id="w3m-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:o`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:o`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:o`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:o`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:o`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:o`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:o`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:o`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:o`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:o`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:o`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:o`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:o`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,HELP_ETH_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#j)"><rect width="60" height="60" rx="30" fill="#987DE8"/><path fill-rule="evenodd" clip-rule="evenodd" d="m15.48 28.367 11.966-19.3c1.174-1.892 3.927-1.892 5.1 0l11.97 19.306a6 6 0 0 1 .9 3.142v.028a6 6 0 0 1-1.154 3.56L33.227 50.208c-1.599 2.188-4.864 2.188-6.461 0L15.733 35.095a6 6 0 0 1-1.154-3.538v-.029a6 6 0 0 1 .9-3.161Z" fill="#fff"/><path d="M30.84 10.112a.992.992 0 0 0-.844-.464V24.5l12.598 5.53c.081-.466-.001-.963-.27-1.398L30.84 10.112Z" fill="#643CDD"/><path d="M29.996 9.648a.991.991 0 0 0-.845.465l-11.489 18.53a1.991 1.991 0 0 0-.264 1.387l12.598-5.53V9.648Z" fill="#BDADEB"/><path d="M29.996 50.544a.994.994 0 0 0 .808-.41l11.235-15.38c.307-.434-.193-.988-.658-.72L31.49 39.71a2.998 2.998 0 0 1-1.494.398v10.437Z" fill="#643CDD"/><path d="M17.966 34.762 29.19 50.134c.2.274.503.41.807.41V40.108a2.998 2.998 0 0 1-1.493-.398l-9.884-5.676c-.468-.27-.971.292-.653.728Z" fill="#BDADEB"/><path d="M42.594 30.03 29.996 24.5v13.138a3 3 0 0 0 1.495-.399l10.149-5.83c.525-.31.856-.823.954-1.38Z" fill="#401AB3"/><path d="M29.996 37.638V24.462l-12.598 5.566c.098.564.437 1.083.974 1.392l10.13 5.82c.462.265.978.398 1.494.398Z" fill="#7C5AE2"/></g><rect class="help-img-highlight" x=".5" y=".5" width="59" height="59" rx="29.5"/><defs><clipPath id="j"><rect width="60" height="60" rx="30" fill="#fff"/></clipPath></defs></svg>`,HELP_PAINTING_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#k)"><rect width="60" height="60" rx="3" fill="#C653C6"/><path d="M52.094 47.344c0-4.246-1.436-9.557-5.885-12.4a2.876 2.876 0 0 0-1.615-3.891v-.819a4.037 4.037 0 0 0-1.34-3.007 4.75 4.75 0 0 0-2.41-6.252v-5.506c0-6.248-5.065-11.313-11.313-11.313-6.247 0-11.312 5.065-11.312 11.313v2.152a3.343 3.343 0 0 0-1.18 5.045 4.738 4.738 0 0 0-1.633 3.584 4.73 4.73 0 0 0 .956 2.858 5.218 5.218 0 0 0-2.358 6.815c-3.06 4.129-6.098 8.298-6.098 15.64 0 2.668.364 4.856.731 6.385.184.765.368 1.366.509 1.78a12.721 12.721 0 0 0 .225.611l.015.037.005.011.001.004v.002h.001l.92-.393-.92.394.26.606h38.26l.291-.49-.86-.51.86.51v-.001l.002-.002.002-.005.01-.017.035-.06.127-.225c.108-.195.26-.477.441-.835.363-.714.845-1.732 1.328-2.953.959-2.427 1.945-5.725 1.945-9.068Z" fill="#E87DE8" stroke="#fff" stroke-width="2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M26.5 29.5c-3-.5-5.5-3-5.503-7l.002-7c0-.466 0-.698.026-.893a3 3 0 0 1 2.582-2.582c.195-.026.428-.026.893-.026 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.398 0 2.097 0 2.648.229a3 3 0 0 1 1.624 1.623c.228.552.228 1.25.228 2.649v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.495 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z" fill="#fff"/></g><rect class="help-img-highlight" x=".5" y=".5" width="59" height="59" rx="2.5"/><defs><clipPath id="k"><rect width="60" height="60" rx="3" fill="#fff"/></clipPath></defs></svg>`,HELP_CHART_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#l)"><path d="M0 25.01C0 15.76 0 11.133 1.97 7.678a15 15 0 0 1 5.598-5.597C11.023.11 15.648.11 24.9.11h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.597C60 11.133 60 15.758 60 25.01v10.2c0 9.252 0 13.877-1.97 17.332a15 15 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a14.999 14.999 0 0 1-5.597-5.598C0 49.087 0 44.462 0 35.21v-10.2Z" fill="#1DC956"/><path d="M.5 25.01c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.289a14.5 14.5 0 0 1 5.412-5.41c1.639-.936 3.579-1.418 6.289-1.661C16.822.61 20.265.61 24.9.61h10.2c4.635 0 8.078 0 10.795.245 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.579 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.795-.244 2.71-.726 4.65-1.66 6.29a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.412C1.47 50.655.988 48.716.745 46.005.5 43.288.5 39.845.5 35.21v-10.2Z" stroke="#fff" stroke-opacity=".1"/><path d="M16.109 60c-3.833-.179-6.41-.645-8.541-1.86a15 15 0 0 1-5.598-5.598C.553 50.057.155 46.967.043 41.985l4.146-1.382a4 4 0 0 0 2.48-2.39l4.654-12.409a2 2 0 0 1 2.505-1.195l2.526.842a2 2 0 0 0 2.422-1.003l2.968-5.938c.81-1.62 3.185-1.415 3.705.32l3.774 12.581a2 2 0 0 0 3.025 1.09l3.342-2.228c.27-.18.49-.422.646-.706l5.297-9.712a2 2 0 0 1 1.428-1.016l4.134-.689a2 2 0 0 1 1.61.437l3.892 3.243a2 2 0 0 0 2.694-.122l4.633-4.632C60 19.28 60 21.88 60 25.01v10.2c0 9.252 0 13.877-1.97 17.332a14.998 14.998 0 0 1-5.598 5.598c-2.131 1.215-4.708 1.681-8.54 1.86H16.108Z" fill="#2BEE6C"/><path d="M.072 43.03a112.37 112.37 0 0 1-.048-2.093l3.85-1.283a3 3 0 0 0 1.86-1.793l4.653-12.408a3 3 0 0 1 3.758-1.793l2.526.842a1 1 0 0 0 1.21-.501l2.97-5.938c1.214-2.43 4.775-2.123 5.556.48l3.774 12.58a1 1 0 0 0 1.513.545l3.341-2.227a1 1 0 0 0 .323-.353l5.298-9.712a3 3 0 0 1 2.14-1.523l4.135-.69a3 3 0 0 1 2.414.655l3.892 3.244a1 1 0 0 0 1.347-.061l5.28-5.28c.046.845.077 1.752.097 2.732l-3.962 3.962a3 3 0 0 1-4.042.183l-3.893-3.243a1 1 0 0 0-.804-.218l-4.135.689a1 1 0 0 0-.714.507l-5.297 9.712c-.233.427-.565.79-.97 1.06l-3.34 2.228a3 3 0 0 1-4.538-1.635l-3.775-12.58c-.26-.868-1.447-.97-1.852-.16l-2.969 5.937a3 3 0 0 1-3.632 1.505l-2.526-.842a1 1 0 0 0-1.252.597L7.606 38.564a5 5 0 0 1-3.1 2.988L.072 43.029Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z" fill="#2BEE6C"/><path d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" fill="#fff"/><path d="M45 .283v59.654c-.63.042-1.294.074-2 .098V.185c.706.025 1.37.056 2 .098Z" fill="#fff"/><path class="help-img-highlight" d="M.5 25.01c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.289a14.5 14.5 0 0 1 5.412-5.41c1.639-.936 3.579-1.418 6.289-1.661C16.822.61 20.265.61 24.9.61h10.2c4.635 0 8.078 0 10.795.245 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.579 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.795-.244 2.71-.726 4.65-1.66 6.29a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.412C1.47 50.655.988 48.716.745 46.005.5 43.288.5 39.845.5 35.21v-10.2Z"/></g><defs><clipPath id="l"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,HELP_KEY_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#m)"><path fill="#EB8B47" d="M0 24.9c0-9.252 0-13.878 1.97-17.332A15 15 0 0 1 7.569 1.97C11.023 0 15.648 0 24.9 0h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.022 60 15.648 60 24.899v10.2c0 9.252 0 13.878-1.97 17.332a15.001 15.001 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.351 0 35.1V24.9Z"/><path class="help-img-highlight" d="M.5 24.9c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.29a14.5 14.5 0 0 1 5.412-5.41C9.455 1.468 11.395.986 14.105.743 16.822.5 20.265.5 24.9.5h10.2c4.635 0 8.078 0 10.795.244 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.58 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.796-.244 2.71-.726 4.65-1.66 6.289a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.411c-.935-1.64-1.417-3.58-1.66-6.29C.5 43.178.5 39.734.5 35.1V24.9Z"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M39.192 29.192c5.077-5.077 5.077-13.308 0-18.385-5.076-5.077-13.308-5.077-18.384 0-5.077 5.077-5.077 13.308 0 18.385l1.287 1.291c1.137 1.142 1.706 1.712 2.097 2.387.267.462.472.957.608 1.473.2.755.2 1.56.2 3.171V48.75c0 1.077 0 1.615.134 2.119a4 4 0 0 0 .407.984c.262.45.643.831 1.404 1.592l.294.295c.654.654.982.981 1.365 1.086.26.07.533.07.792 0 .383-.105.71-.432 1.365-1.086l3.478-3.479c.655-.654.982-.981 1.087-1.365a1.5 1.5 0 0 0 0-.791c-.105-.384-.432-.711-1.087-1.365l-.478-.479c-.655-.654-.982-.981-1.087-1.365a1.5 1.5 0 0 1 0-.791c.105-.384.432-.711 1.087-1.365l.478-.479c.655-.654.982-.981 1.087-1.365a1.5 1.5 0 0 0 0-.791c-.105-.384-.432-.711-1.087-1.365l-.492-.493c-.65-.65-.974-.974-1.08-1.355a1.5 1.5 0 0 1-.003-.788c.102-.382.425-.71 1.069-1.364l5.46-5.547Z"/><circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/></g><defs><clipPath id="m"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,HELP_USER_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#n)"><rect width="60" height="60" fill="#00ACE6" rx="30"/><path fill="#1AC6FF" stroke="#fff" stroke-width="2" d="M59 73c0 16.016-12.984 29-29 29S1 89.016 1 73c0-16.017 11-29 29-29s29 12.983 29 29ZM18.69 19.902a11 11 0 0 1 9.281-8.692 14.842 14.842 0 0 1 4.058 0 11 11 0 0 1 9.28 8.692c.178.866.322 1.75.44 2.625.132.977.132 1.968 0 2.945a39.467 39.467 0 0 1-.44 2.625 11 11 0 0 1-9.28 8.692 14.862 14.862 0 0 1-4.058 0 11 11 0 0 1-9.28-8.692 39.467 39.467 0 0 1-.44-2.625 11.004 11.004 0 0 1 0-2.945c.118-.876.262-1.759.44-2.625Z"/><circle cx="24.5" cy="23.5" r="1.5" fill="#fff"/><circle cx="35.5" cy="23.5" r="1.5" fill="#fff"/><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m31 20-3 8h4"/></g><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="29.5"/><defs><clipPath id="n"><rect width="60" height="60" fill="#fff" rx="30"/></clipPath></defs></svg>`,HELP_LOCK_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#C653C6" rx="3"/><path fill="#fff" d="M20.034 15.216C20 15.607 20 16.07 20 17v2.808c0 1.13 0 1.696-.2 2.11a1.78 1.78 0 0 1-.584.714c-.366.28-1.051.42-2.423.7a7.076 7.076 0 0 0-1.597.511 9.001 9.001 0 0 0-4.353 4.353C10 30.005 10 32.336 10 37c0 4.663 0 6.995.843 8.804a9.001 9.001 0 0 0 4.353 4.353C17.005 51 19.336 51 24 51h12c4.663 0 6.995 0 8.804-.843a9.001 9.001 0 0 0 4.353-4.353C50 43.995 50 41.664 50 37c0-4.663 0-6.995-.843-8.804a9.001 9.001 0 0 0-4.353-4.353 7.076 7.076 0 0 0-1.597-.511c-1.372-.28-2.057-.42-2.423-.7a1.78 1.78 0 0 1-.583-.715C40 21.505 40 20.94 40 19.809V17c0-.929 0-1.393-.034-1.784a9 9 0 0 0-8.182-8.182C31.393 7 30.93 7 30 7s-1.393 0-1.784.034a9 9 0 0 0-8.182 8.182Z"/><path fill="#E87DE8" d="M22 17c0-.929 0-1.393.044-1.784a7 7 0 0 1 6.172-6.172C28.606 9 29.071 9 30 9s1.393 0 1.784.044a7 7 0 0 1 6.172 6.172c.044.39.044.855.044 1.784v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.394-.077-1.78a4 4 0 0 0-3.143-3.143C31.394 12 30.93 12 30 12s-1.394 0-1.78.077a4 4 0 0 0-3.143 3.143C25 15.606 25 16.07 25 17v4.5a1.5 1.5 0 0 1-3 0V17Z"/><path fill="#E87DE8" fill-rule="evenodd" d="M12 36.62c0-4.317 0-6.476.92-8.088a7 7 0 0 1 2.612-2.612c1.612-.92 3.77-.92 8.088-.92h6.855c.469 0 .703 0 .906.017 2.73.222 4.364 2.438 4.619 4.983.27-2.698 2.111-5 5.015-5A6.985 6.985 0 0 1 48 31.985v5.395c0 4.317 0 6.476-.92 8.088a7 7 0 0 1-2.612 2.612c-1.612.92-3.77.92-8.088.92h-5.855c-.469 0-.703 0-.906-.017-2.73-.222-4.364-2.438-4.619-4.983-.258 2.583-1.943 4.818-4.714 4.99-.155.01-.335.01-.694.01-.55 0-.825 0-1.057-.015a7 7 0 0 1-6.52-6.52C12 42.233 12 41.958 12 41.408V36.62Zm21.24-.273a4 4 0 1 0-6.478 0c.985 1.36 1.479 2.039 1.564 2.229.178.398.176.818.174 1.247V42.5a1.5 1.5 0 0 0 3 0v-2.677c-.002-.429-.004-.85.174-1.247.085-.19.579-.87 1.565-2.229Z" clip-rule="evenodd"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="2.5"/></svg>`,HELP_COMPAS_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#1DC956" rx="30"/><circle cx="30" cy="29.999" r="3" fill="#fff"/><path fill="#2BEE6C" stroke="#fff" stroke-width="2" d="m45.316 17.9-.88-.425.88.424a7.9 7.9 0 0 1 .026-.053c.093-.192.21-.432.26-.687l-.819-.162.819.162a2 2 0 0 0-.239-1.405c-.132-.224-.32-.412-.472-.562a8.415 8.415 0 0 1-.042-.042l-.042-.042c-.15-.151-.338-.34-.562-.472l-.508.862.508-.862a2 2 0 0 0-1.405-.239c-.255.05-.495.167-.687.26l-.053.026-15.05 7.246-.108.052c-1.131.545-1.843.887-2.456 1.374a6.994 6.994 0 0 0-1.13 1.13c-.487.613-.83 1.325-1.375 2.457l-.051.108-7.247 15.05-.025.053c-.094.192-.21.431-.26.686a2 2 0 0 0 .239 1.406l.855-.505-.856.505c.133.224.321.411.473.562l.042.042.041.042c.15.151.338.34.563.472a2 2 0 0 0 1.405.239l-.195-.981.195.98c.255-.05.494-.166.686-.26l.054-.025-.419-.87.419.87 15.05-7.247.107-.051c1.132-.545 1.844-.888 2.457-1.374a7.002 7.002 0 0 0 1.13-1.13c.487-.614.83-1.325 1.374-2.457l.052-.108 7.246-15.05Z"/><path fill="#1DC956" d="m33.376 32.723-2.669-3.43-14.85 14.849.206.205a1 1 0 0 0 1.141.194l15.105-7.273a3 3 0 0 0 1.067-4.545Z"/><path fill="#86F999" d="m26.624 27.276 2.669 3.43 14.85-14.849-.206-.205a1 1 0 0 0-1.141-.194L27.69 22.731a3 3 0 0 0-1.067 4.545Z"/><circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="29.5"/></svg>`,HELP_NOUN_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#794CFF" rx="3"/><path fill="#987DE8" stroke="#fff" stroke-width="2" d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"/><path fill="#fff" d="M37.5 25h10v10h-10z"/><path fill="#4019B2" d="M42.5 25h5v10h-5z"/><path fill="#fff" d="M19.5 25h10v10h-10z"/><path fill="#4019B2" d="M24.5 25h5v10h-5z"/><path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="2.5"/></svg>`,HELP_DAO_IMG:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#o)"><path fill="#EB8B47" d="M0 24.9c0-9.252 0-13.878 1.97-17.332A15 15 0 0 1 7.569 1.97C11.023 0 15.648 0 24.9 0h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.022 60 15.648 60 24.899v10.2c0 9.252 0 13.878-1.97 17.332a15.001 15.001 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.351 0 35.1V24.9Z"/><path class="help-img-highlight" d="M.5 24.9c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.29a14.5 14.5 0 0 1 5.412-5.41C9.455 1.468 11.395.986 14.105.743 16.822.5 20.265.5 24.9.5h10.2c4.635 0 8.078 0 10.795.244 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.58 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.796-.244 2.71-.726 4.65-1.66 6.289a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.411c-.935-1.64-1.417-3.58-1.66-6.29C.5 43.178.5 39.734.5 35.1V24.9Z"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M19 52c5.523 0 10-4.477 10-10s-4.477-10-10-10S9 36.477 9 42s4.477 10 10 10Z"/><path fill="#fff" fill-rule="evenodd" d="M42.844 8.326a1 1 0 0 0-1.687 0L28.978 27.463A1 1 0 0 0 29.822 29h24.357a1 1 0 0 0 .843-1.537L42.844 8.326Z" clip-rule="evenodd"/><path fill="#FF974C" fill-rule="evenodd" d="M42.335 11.646c.324.115.571.504 1.066 1.28l7.332 11.523c.562.883.843 1.325.792 1.69a1 1 0 0 1-.342.623c-.28.238-.803.238-1.85.238H34.667c-1.047 0-1.57 0-1.85-.238a1 1 0 0 1-.342-.623c-.051-.365.23-.806.792-1.69l7.332-11.523c.495-.776.742-1.165 1.066-1.28a1 1 0 0 1 .67 0ZM35 27a7 7 0 0 0 7-7 7 7 0 0 0 7 7H35Z" clip-rule="evenodd"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M10.106 9.357c-.109.32-.107.682-.106.975V25.668c-.001.293-.003.654.106.975a2 2 0 0 0 1.251 1.25c.32.11.682.108.975.107H19c5.523 0 10-4.477 10-10S24.523 8 19 8h-6.668c-.293-.001-.654-.003-.975.106a2 2 0 0 0-1.25 1.251Z"/><circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/><circle cx="19" cy="41.999" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/></g><defs><clipPath id="o"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,SEARCH_ICON:o`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,HELP_ICON:o`<svg width="11" height="17" viewBox="0 0 11 17"><path fill="#fff" d="M5.22 2.97c-1.07 0-2.25.843-2.25 2.25a.75.75 0 0 1-1.5 0c0-2.393 2.019-3.75 3.75-3.75 1.73 0 3.75 1.357 3.75 3.75 0 1.64-1.038 2.466-1.785 3.057-.802.635-1.215.984-1.215 1.693a.75.75 0 1 1-1.5 0c0-1.466.985-2.24 1.681-2.788l.103-.081C7.007 6.504 7.47 6.08 7.47 5.22c0-1.407-1.181-2.25-2.25-2.25ZM5.22 14.97a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"/></svg>`,WALLET_ICON:o`<svg width="15" height="14" fill="none" viewBox="0 0 15 14"><path fill="#fff" fill-rule="evenodd" d="M.64 9.2v-3h.001c.009-1.857.07-2.886.525-3.682a4 4 0 0 1 1.492-1.493C3.58.5 4.813.5 7.28.5h3.735c.58 0 .871 0 1.114.04A3 3 0 0 1 14.6 3.011c.04.243.04.533.04 1.114 0 .58 0 .871-.04 1.114a3 3 0 0 1-2.471 2.47c-.243.041-.533.041-1.114.041h-.777c.178.307.302.648.362 1.011.04.243.04.533.04 1.114 0 .58 0 .871-.04 1.114a3 3 0 0 1-2.471 2.47c-.243.041-.533.041-1.114.041H4.507A3.867 3.867 0 0 1 .64 9.633V9.2ZM7.28 2h3.735c.64 0 .779.005.87.02a1.5 1.5 0 0 1 1.235 1.236c.015.09.02.229.02.869s-.005.779-.02.87a1.5 1.5 0 0 1-1.236 1.235c-.09.015-.229.02-.869.02H4.023c-.697 0-1.345.21-1.883.572V6.25h.001c.004-.791.015-1.383.059-1.867.056-.629.157-.926.269-1.122a2.5 2.5 0 0 1 .932-.933c.197-.111.494-.212 1.123-.268C5.173 2 6.019 2 7.28 2Zm-.265 5.75H4.023c-1.04 0-1.883.843-1.883 1.883A2.367 2.367 0 0 0 4.507 12h2.508c.64 0 .779-.005.87-.02a1.5 1.5 0 0 0 1.235-1.236c.015-.09.02-.229.02-.869s-.005-.779-.02-.87A1.5 1.5 0 0 0 7.884 7.77c-.09-.015-.228-.02-.869-.02Z" clip-rule="evenodd"/></svg>`,NETWORK_PLACEHOLDER:o`<svg width="28" height="28" fill="none" viewBox="0 0 28 28"><mask id="p" width="26" height="28" x="1" y="0" maskUnits="userSpaceOnUse" style="mask-type:alpha"><path fill="#D9D9D9" d="M12 1.172a4 4 0 0 1 4 0l8.124 4.69a4 4 0 0 1 2 3.465v9.381a4 4 0 0 1-2 3.464L16 26.862a4 4 0 0 1-4 0l-8.124-4.69a4 4 0 0 1-2-3.464V9.327a4 4 0 0 1 2-3.464L12 1.173Z"/></mask><g mask="url(#p)"><path id="network-placeholder-fill" fill="#fff" d="M0 0h28v28H0z"/><path id="network-placeholder-dash" stroke="#000" stroke-dasharray="2 2" d="m8.953 2.931 2.032-1.173.25.433 1.015-.586c.269-.155.553-.271.844-.35l-.13-.483a4.003 4.003 0 0 1 2.071 0l-.13.483c.293.079.576.195.845.35l1.016.586.25-.433 2.03 1.173-.25.433 2.032 1.173.25-.433 2.03 1.172-.25.433 1.016.587c.269.155.512.342.725.556l.354-.354a4.003 4.003 0 0 1 1.035 1.794l-.483.129c.078.292.12.596.12.906v1.172h.5v2.346h-.5v2.345h.5v2.345h-.5v1.173c0 .31-.042.614-.12.906l.483.13a4.003 4.003 0 0 1-1.035 1.793l-.354-.354a3.498 3.498 0 0 1-.725.556l-1.015.586.25.434-2.031 1.172-.25-.433-2.031 1.173.25.433-2.031 1.172-.25-.433-1.016.587a3.494 3.494 0 0 1-.844.35l.13.482a4.003 4.003 0 0 1-2.071 0l.13-.483a3.496 3.496 0 0 1-.845-.35l-1.015-.586-.25.433-2.032-1.172.25-.433-2.03-1.173-.25.433L4.89 22.76l.25-.434-1.015-.586a3.498 3.498 0 0 1-.725-.556l-.354.354a4.003 4.003 0 0 1-1.035-1.794l.483-.13a3.497 3.497 0 0 1-.12-.905v-1.173h-.5V15.19h.5v-2.345h-.5v-2.346h.5V9.327c0-.31.042-.614.12-.906l-.483-.13a4.003 4.003 0 0 1 1.035-1.793l.354.354c.213-.214.456-.401.725-.556l1.015-.587-.25-.433 2.031-1.172.25.433 2.031-1.173-.25-.433Z"/><path fill="#798686" stroke="#fff" d="M14.243 13.563 14 13.428l-.243.135-6.388 3.549-.024.013c-.432.24-.79.44-1.053.622-.266.184-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.317.37.538.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722l-.468-.177.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.317-.37-.538-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-6.388-3.55Z"/><path fill="#9EA9A9" stroke="#fff" d="M14.243 8.563 14 8.428l-.243.135-6.388 3.549-.024.013c-.432.24-.79.44-1.053.622-.266.184-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.316.37.537.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722l-.468-.177.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.316-.37-.537-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-6.388-3.55Z"/><path fill="#C9CFCF" stroke="#fff" d="m22.344 9.53-.468-.176.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.317-.37-.537-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-3.163-1.758-.09-.05c-1.163-.645-1.856-1.03-2.606-1.161a4.5 4.5 0 0 0-1.544 0c-.75.13-1.443.516-2.607 1.162l-.088.05-3.164 1.757-.024.013c-.432.24-.79.44-1.053.622-.266.185-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.317.37.537.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722Z"/></g></svg>`,WALLET_PLACEHOLDER:o`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,TOKEN_PLACEHOLDER:o`<svg width="60" height="60" viewBox="0 0 60 60" fill="none"><rect id="token-placeholder-fill" width="58" height="58" x="1" y="1" fill="#fff" rx="29"/><path fill="#3B4040" stroke="#fff" stroke-width="2" d="M32 10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v5.566c0 .357.192.685.495.875a16.001 16.001 0 0 1 4.256 3.894c.667.88.33 2.113-.627 2.665l-2.494 1.44c-.956.552-2.166.204-2.913-.609a9.12 9.12 0 1 0 .064 12.267c.739-.82 1.945-1.181 2.907-.64l2.509 1.415c.962.542 1.312 1.77.654 2.658a16 16 0 0 1-4.356 4.028c-.303.19-.495.518-.495.875V50a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-2.992c0-.602-.528-1.065-1.13-1.032-.579.032-1.16.032-1.74 0-.602-.032-1.13.43-1.13 1.032V50a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-5.566c0-.357-.192-.685-.495-.875a16 16 0 0 1 0-27.118c.303-.19.495-.517.495-.875V10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2.992c0 .601.528 1.064 1.13 1.032.58-.032 1.161-.032 1.74 0 .602.033 1.13-.43 1.13-1.032V10Z"/><rect id="token-placeholder-dash" width="58" height="58" x="1" y="1" stroke="#000" stroke-dasharray="6 6" stroke-width="2" rx="29"/></svg>`,ACCOUNT_COPY:o`<svg width="14" height="14" fill="none" viewBox="0 0 14 14"><path fill="#fff" fill-rule="evenodd" d="M4.003 4.005c.012-1.225.074-1.936.391-2.491a3 3 0 0 1 1.12-1.12C6.204 0 7.136 0 9 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C14 2.204 14 3.136 14 5s0 2.795-.394 3.486a3 3 0 0 1-1.12 1.12c-.555.317-1.266.379-2.491.391l.002.003c-.012 1.222-.075 1.932-.391 2.486a3 3 0 0 1-1.12 1.12C7.796 14 6.864 14 5 14s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C0 11.796 0 10.864 0 9s0-2.795.394-3.486a3 3 0 0 1 1.12-1.12c.554-.316 1.264-.379 2.486-.391l.003.002ZM9 8.5c-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.045-.08-.113-.243-.154-.693C5.501 6.58 5.5 5.959 5.5 5c0-.959.001-1.58.043-2.05.04-.45.109-.613.154-.693a1.5 1.5 0 0 1 .56-.56c.08-.045.243-.113.693-.154C7.42 1.501 8.041 1.5 9 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.045.08.113.243.154.693.042.47.043 1.091.043 2.05 0 .959-.001 1.58-.043 2.05-.04.45-.109.613-.154.693a1.5 1.5 0 0 1-.56.56c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043ZM4 5.503a13.77 13.77 0 0 0-1.05.04c-.45.04-.613.109-.693.154a1.5 1.5 0 0 0-.56.56c-.045.08-.113.243-.154.693C1.501 7.42 1.5 8.041 1.5 9c0 .959.001 1.58.043 2.05.04.45.109.613.154.693a1.5 1.5 0 0 0 .56.56c.08.045.243.113.693.154.47.042 1.091.043 2.05.043.959 0 1.58-.001 2.05-.043.45-.04.613-.109.693-.154a1.5 1.5 0 0 0 .56-.56c.045-.08.113-.242.154-.693.025-.283.035-.619.04-1.05-1.534-.003-2.358-.037-2.983-.394a3 3 0 0 1-1.12-1.12c-.357-.625-.39-1.449-.394-2.983Z" clip-rule="evenodd"/></svg>`,ACCOUNT_DISCONNECT:o`<svg width="16" height="14" fill="none" viewBox="0 0 16 14"><path fill="#fff" d="M9.677 1.5h-2.61c-1.261 0-2.107.001-2.757.06-.629.056-.926.157-1.122.268a2.5 2.5 0 0 0-.933.933c-.112.196-.212.493-.269 1.122-.058.65-.06 1.496-.06 2.757v.72c0 1.26.002 2.107.06 2.756.057.63.157.927.27 1.123a2.5 2.5 0 0 0 .932.933c.196.111.493.212 1.122.268.65.059 1.496.06 2.757.06h2.61a.75.75 0 1 1 0 1.5h-2.61c-2.467 0-3.7 0-4.622-.525a4 4 0 0 1-1.493-1.493C.427 11.06.427 9.827.427 7.36v-.72c0-2.467 0-3.7.525-4.622A4 4 0 0 1 2.445.525C3.366 0 4.6 0 7.067 0h2.61a.75.75 0 1 1 0 1.5Z"/><path fill="#fff" d="M10.896 11.03a.75.75 0 0 1 0-1.06l1.793-1.793a.25.25 0 0 0-.176-.427H8.177a.75.75 0 0 1 0-1.5h4.336a.25.25 0 0 0 .176-.427L10.896 4.03a.75.75 0 0 1 1.061-1.06l3.323 3.323a1 1 0 0 1 0 1.414l-3.323 3.323a.75.75 0 0 1-1.06 0Z"/></svg>`,GLOBE_ICON:o`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},xJ=l`.w3m-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--w3m-background-border-radius) * .9);background-color:var(--w3m-background-color);background-image:var(--w3m-background-image-url);background-position:center;background-size:cover}.w3m-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.w3m-toolbar img,.w3m-toolbar svg{height:28px;object-position:left center;object-fit:contain}#w3m-wc-logo path{fill:var(--w3m-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--w3m-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--w3m-color-bg-1);box-shadow:0 0 0 1px var(--w3m-color-overlay)}button:active{background-color:var(--w3m-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--w3m-color-fg-1)}.w3m-toolbar div{display:flex}.w3m-toolbar div button:first-child{margin-right:16px}.w3m-help-active button:first-child{background-color:var(--w3m-color-fg-1)}.w3m-help-active button:first-child path{fill:var(--w3m-color-bg-1)}@media(hover:hover){button:hover{background-color:var(--w3m-color-bg-2)}}`;xK=Object.defineProperty,xL=Object.getOwnPropertyDescriptor,hs=(g,b,e,c)=>{for(var a=c>1?void 0:c?xL(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&xK(b,e,a),a};let cY=class extends g{constructor(){super(),this.isHelp=!1,this.unsubscribeRouter=void 0,this.unsubscribeRouter=n.subscribe(a=>{this.isHelp=a.view==="Help"})}disconnectedCallback(){var a;(a=this.unsubscribeRouter)==null||a.call(this)}onHelp(){n.push("Help")}logoTemplate(){var b;const c=(b=al.state.themeVariables)==null?void 0:b["--w3m-logo-image-url"];return c?a`<img src="${c}">`:i.WALLET_CONNECT_LOGO}render(){const b={"w3m-help-active":this.isHelp};return a`<div class="w3m-toolbar-placeholder"></div><div class="w3m-toolbar">${this.logoTemplate()}<div class="${T(b)}"><button @click="${this.onHelp}">${i.HELP_ICON}</button> <button @click="${N.close}">${i.CROSS_ICON}</button></div></div>`}};cY.styles=[j.globalCss,xJ],hs([p()],cY.prototype,"isHelp",2),cY=hs([h("w3m-modal-backcard")],cY);const xO=l`main{padding:20px;padding-top:0;width:100%}`;xP=Object.defineProperty,xQ=Object.getOwnPropertyDescriptor,xR=(g,b,e,c)=>{for(var a=c>1?void 0:c?xQ(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&xP(b,e,a),a};let ge=class extends g{render(){return a`<main><slot></slot></main>`}};ge.styles=[j.globalCss,xO],ge=xR([h("w3m-modal-content")],ge);const xT=l`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--w3m-color-bg-2)}`;xU=Object.defineProperty,xV=Object.getOwnPropertyDescriptor,xW=(g,b,e,c)=>{for(var a=c>1?void 0:c?xV(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&xU(b,e,a),a};let ga=class extends g{render(){return a`<footer><slot></slot></footer>`}};ga.styles=[j.globalCss,xT],ga=xW([h("w3m-modal-footer")],ga);const xY=l`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.w3m-border{border-bottom:1px solid var(--w3m-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.w3m-back-btn{position:absolute;left:0}.w3m-action-btn{position:absolute;right:0}path{fill:var(--w3m-accent-color)}`;xZ=Object.defineProperty,x_=Object.getOwnPropertyDescriptor,bW=(g,b,e,c)=>{for(var a=c>1?void 0:c?x_(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&xZ(b,e,a),a};let aV=class extends g{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return a`<button class="w3m-back-btn" @click="${n.goBack}">${i.BACK_ICON}</button>`}actionBtnTemplate(){return a`<button class="w3m-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const b={"w3m-border":this.border},c=n.state.history.length>1,d=this.title?a`<w3m-text variant="big-bold">${this.title}</w3m-text>`:a`<slot></slot>`;return a`<header class="${T(b)}">${c?this.backBtnTemplate():null} ${d} ${this.onAction?this.actionBtnTemplate():null}</header>`}};aV.styles=[j.globalCss,xY],bW([e()],aV.prototype,"title",2),bW([e()],aV.prototype,"onAction",2),bW([e()],aV.prototype,"actionIcon",2),bW([e()],aV.prototype,"border",2),aV=bW([h("w3m-modal-header")],aV);const yb={1:"692ed6ba-e569-459a-556a-776476829e00",42161:"600a9a04-c1b9-42ca-6785-9b4b6ff85200",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00"},yc={ETH:{icon:"692ed6ba-e569-459a-556a-776476829e00"},WETH:{icon:"692ed6ba-e569-459a-556a-776476829e00"},AVAX:{icon:"30c46e53-e989-45fb-4549-be3bd4eb3b00"},FTM:{icon:"06b26297-fe0c-4733-5d6b-ffa5498aac00"},BNB:{icon:"93564157-2e8e-4ce7-81df-b264dbee9b00"},MATIC:{icon:"41d04d42-da3b-4453-8506-668cc0727900"},OP:{icon:"ab9c186a-c52f-464b-2906-ca59d760a400"},xDAI:{icon:"02b53f6a-e3d4-479e-1cb4-21178987d100"},EVMOS:{icon:"f926ff41-260d-4028-635e-91913fc28e00"},METIS:{icon:"3897a66d-40b9-4833-162f-a2c90531c900"},IOTX:{icon:"34e68754-e536-40da-c153-6ef2e7188a00"}},Z={externalWallets(){const{isStandalone:b}=f.state;if(b)return[];let a=u.client().getConnectors();return a=a.filter(a=>a.id!=="injected"),a},manualWallets(){var a,b;const{mobileWallets:e,desktopWallets:f}=v.state,g=(a=Z.recentWallet())==null?void 0:a.id,h=d.isMobile()?e:f,c=h?.filter(a=>g!==a.id);return(b=d.isMobile()?c?.map(({id:b,name:c,links:a})=>({id:b,name:c,mobile:a,links:a})):c?.map(({id:b,name:c,links:a})=>({id:b,name:c,desktop:a,links:a})))!=null?b:[]},installedInjectedWallets(){const{isStandalone:b}=f.state;if(b)return[];if(!u.client().isInjectedProviderInstalled())return[];const{namespace:c}=u.client(),{injectedWallets:d}=B.state;let a=d.filter(({injected:a})=>!!a.some(a=>u.client().safeCheckInjectedProvider(a.injected_id)&&a.namespace===c));return a.length>1&&(a=a.filter(({injected:a})=>!!a.map(({injected_id:a})=>a).every(a=>a!=="isMetaMask"))),a.length?a:[{name:"Browser",id:"browser",image_id:void 0}]},injectedWallets(){const{isStandalone:c}=f.state,{explorerExcludedWalletIds:a,explorerRecommendedWalletIds:b}=v.state,e=d.isMobile();if(c||a==="ALL"||e)return[];const{namespace:g}=u.client(),{injectedWallets:h}=B.state;return h.filter(({id:c,injected:e})=>{const f=d.isArray(a)?a:[],h=d.isArray(b)?b:[];return!!e.some(a=>a.namespace===g&&!f.includes(c)&&!h.includes(c))})},recentWallet(){return c.getRecentWallet()},recomendedWallets(b=!1){var a;const c=Z.installedInjectedWallets().map(({id:a})=>a),d=b||(a=Z.recentWallet())==null?void 0:a.id,e=[...c,d],{recomendedWallets:f}=B.state;return f.filter(a=>!e.includes(a.id))}},c={MOBILE_BREAKPOINT:600,W3M_RECENT_WALLET_DATA:"W3M_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",rejectStandaloneButtonComponent(){const{isStandalone:a}=f.state;if(a)throw new Error("Web3Modal button components are not available in standalone mode.")},getShadowRootElement(c,a){const b=c.renderRoot.querySelector(a);if(!b)throw new Error(`${a} not found`);return b},getWalletIcon({id:b,image_id:c}){const{walletImages:a}=v.state;return a!=null&&a[b]?a[b]:c?B.getWalletImageUrl(c):""},getWalletName(a,b=!1){return b?a.split(" ")[0]:a},getChainIcon(a){var b;const c=yb[a],{projectId:d,chainImages:e}=v.state;return(b=e?.[a])!=null?b:d&&c?B.getAssetImageUrl(c):""},getTokenIcon(a){var b,c;const d=(b=yc[a])==null?void 0:b.icon,{projectId:e,tokenImages:f}=v.state;return(c=f?.[a])!=null?c:e&&d?B.getAssetImageUrl(d):""},isMobileAnimation(){return window.innerWidth<=c.MOBILE_BREAKPOINT},async preloadImage(a){const b=new Promise((c,d)=>{const b=new Image;b.onload=c,b.onerror=d,b.src=a});return Promise.race([b,d.wait(3e3)])},getErrorMessage(a){return a instanceof Error?a.message:"Unknown Error"},debounce(b,c=500){let a;return(...d)=>{function e(){b(...d)}a&&clearTimeout(a),a=setTimeout(e,c)}},handleMobileLinking(a){const{standaloneUri:i}=f.state,{pairingUri:j}=C.state,{mobile:b,name:e}=a,g=b?.native,h=b?.universal;c.setRecentWallet(a);function k(b){let a="";g?a=d.formatUniversalUrl(g,b,e):h&&(a=d.formatNativeUrl(h,b,e)),d.openHref(a,"_self")}k(i||j)},handleAndroidLinking(){const{standaloneUri:a}=f.state,{pairingUri:b}=C.state;a?(d.setWalletConnectAndroidDeepLink(a),d.openHref(a,"_self")):(d.setWalletConnectAndroidDeepLink(b),d.openHref(b,"_self"))},async handleUriCopy(){const{standaloneUri:a}=f.state,{pairingUri:b}=C.state;a?await navigator.clipboard.writeText(a):await navigator.clipboard.writeText(b),W.openToast("Link copied","success")},async handleConnectorConnection(b,a){try{const{selectedChain:a}=f.state;await u.client().connectConnector(b,a?.id),N.close()}catch(b){console.error(b),a?a():W.openToast(c.getErrorMessage(b),"error")}},getCustomImageUrls(){const{chainImages:a,walletImages:b}=v.state,c=Object.values(a??{}),d=Object.values(b??{});return Object.values([...c,...d])},truncate(a,b=8){return a.length<=b?a:`${a.substring(0,4)}...${a.substring(a.length-4)}`},generateAvatarColors(d){var b;const e=(b=d.match(/.{1,7}/g))==null?void 0:b.splice(0,5),a=[];e?.forEach(d=>{let b=0;for(let a=0;a<d.length;a+=1)b=d.charCodeAt(a)+((b<<5)-b),b=b&b;const c=[0,0,0];for(let a=0;a<3;a+=1){const d=b>>a*8&255;c[a]=d}a.push(`rgb(${c[0]}, ${c[1]}, ${c[2]})`)});const c=document.querySelector(":root");if(c){const b={"--w3m-color-av-1":a[0],"--w3m-color-av-2":a[1],"--w3m-color-av-3":a[2],"--w3m-color-av-4":a[3],"--w3m-color-av-5":a[4]};Object.entries(b).forEach(([a,b])=>c.style.setProperty(a,b))}},setRecentWallet(a){const{walletConnectVersion:b}=f.state;localStorage.setItem(c.W3M_RECENT_WALLET_DATA,JSON.stringify({[b]:a}))},getRecentWallet(){const a=localStorage.getItem(c.W3M_RECENT_WALLET_DATA);if(a){const{walletConnectVersion:b}=f.state,c=JSON.parse(a);if(c[b])return c[b]}},caseSafeIncludes(a,b){return a.toUpperCase().includes(b.toUpperCase())},openWalletExplorerUrl(){d.openHref(c.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{id:e,desktop:a,mobile:b,injected:c}=d.getWalletRouterData(),f=Z.installedInjectedWallets(),g=!!(c!=null&&c.length),h=f.some(a=>a.id===e),i=!!(a!=null&&a.native),j=!!(a!=null&&a.universal),k=!!(b!=null&&b.native)||!!(b!=null&&b.universal);return{isInjectedInstalled:h,isInjected:g,isDesktop:i,isMobile:k,isWeb:j}},goToConnectingView(f){n.setData({Wallet:f});const g=d.isMobile(),{isDesktop:h,isWeb:a,isMobile:b,isInjectedInstalled:e}=c.getCachedRouterWalletPlatforms();g?e?n.push("InjectedConnecting"):b?n.push("MobileConnecting"):a?n.push("WebConnecting"):n.push("InstallWallet"):e?n.push("InjectedConnecting"):h?n.push("DesktopConnecting"):a?n.push("WebConnecting"):b?n.push("MobileQrcodeConnecting"):n.push("InstallWallet")}},yf=l`.w3m-router{overflow:hidden;will-change:transform}.w3m-content{display:flex;flex-direction:column}`;yg=Object.defineProperty,yh=Object.getOwnPropertyDescriptor,f$=(g,b,e,c)=>{for(var a=c>1?void 0:c?yh(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&yg(b,e,a),a};let bT=class extends g{constructor(){super(),this.view=n.state.view,this.prevView=n.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=n.subscribe(a=>{this.view!==a.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([b])=>{const a=`${b.contentRect.height}px`;this.oldHeight!=="0px"&&bl(this.routerEl,{height:[this.oldHeight,a]},{duration:.2}),this.oldHeight=a}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var a,b;(a=this.unsubscribe)==null||a.call(this),(b=this.resizeObserver)==null||b.disconnect()}get routerEl(){return c.getShadowRootElement(this,".w3m-router")}get contentEl(){return c.getShadowRootElement(this,".w3m-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return a`<w3m-connect-wallet-view></w3m-connect-wallet-view>`;case"SelectNetwork":return a`<w3m-select-network-view></w3m-select-network-view>`;case"InjectedConnecting":return a`<w3m-injected-connecting-view></w3m-injected-connecting-view>`;case"DesktopConnecting":return a`<w3m-desktop-connecting-view></w3m-desktop-connecting-view>`;case"MobileConnecting":return a`<w3m-mobile-connecting-view></w3m-mobile-connecting-view>`;case"WebConnecting":return a`<w3m-web-connecting-view></w3m-web-connecting-view>`;case"MobileQrcodeConnecting":return a`<w3m-mobile-qr-connecting-view></w3m-mobile-qr-connecting-view>`;case"GetWallet":return a`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"WalletExplorer":return a`<w3m-wallet-explorer-view></w3m-wallet-explorer-view>`;case"Qrcode":return a`<w3m-qrcode-view></w3m-qrcode-view>`;case"Help":return a`<w3m-help-view></w3m-help-view>`;case"Account":return a`<w3m-account-view></w3m-account-view>`;case"SwitchNetwork":return a`<w3m-switch-network-view></w3m-switch-network-view>`;case"InstallWallet":return a`<w3m-install-wallet-view></w3m-install-wallet-view>`;default:return a`<div>Not Found</div>`}}async onChangeRoute(){await bl(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=n.state.view,bl(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return a`<div class="w3m-router"><div class="w3m-content">${this.viewTemplate()}</div></div>`}};bT.styles=[j.globalCss,yf],f$([p()],bT.prototype,"view",2),f$([p()],bT.prototype,"prevView",2),bT=f$([h("w3m-modal-router")],bT);const yk=l`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--w3m-notification-border-radius);border:1px solid var(--w3m-color-overlay);background-color:var(--w3m-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--w3m-color-bg-3)}}.w3m-success path{fill:var(--w3m-accent-color)}.w3m-error path{fill:var(--w3m-error-color)}`;yl=Object.defineProperty,ym=Object.getOwnPropertyDescriptor,hA=(g,b,e,c)=>{for(var a=c>1?void 0:c?ym(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&yl(b,e,a),a};let cZ=class extends g{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=W.subscribe(a=>{a.open?(this.open=!0,this.timeout=setTimeout(()=>W.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var a;(a=this.unsubscribe)==null||a.call(this),clearTimeout(this.timeout),W.closeToast()}render(){const{message:c,variant:b}=W.state,d={"w3m-success":b==="success","w3m-error":b==="error"};return this.open?a`<div class="${T(d)}">${b==="success"?i.CHECKMARK_ICON:null} ${b==="error"?i.CROSS_ICON:null}<w3m-text variant="small-regular">${c}</w3m-text></div>`:null}};cZ.styles=[j.globalCss,yk],hA([p()],cZ.prototype,"open",2),cZ=hA([h("w3m-modal-toast")],cZ);const yp=l`button{padding:5px;border-radius:var(--w3m-button-hover-highlight-border-radius);display:flex;flex-direction:column;align-items:center;justify-content:center;width:80px;height:90px;position:relative}w3m-network-image{width:54px;height:59px}w3m-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;margin-top:5px}button:active{background-color:var(--w3m-color-overlay)}.w3m-unsupported{opacity:.3}@media(hover:hover){button:hover{background-color:var(--w3m-color-overlay)}}`;yq=Object.defineProperty,yr=Object.getOwnPropertyDescriptor,bV=(g,b,e,c)=>{for(var a=c>1?void 0:c?yr(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&yq(b,e,a),a};let aR=class extends g{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.chainId="",this.unsupported=!1}render(){const b={"w3m-unsupported":this.unsupported};return a`<button @click="${this.onClick}" class="${T(b)}"><w3m-network-image chainId="${this.chainId}"></w3m-network-image><w3m-text variant="xsmall-regular">${this.name}</w3m-text></button>`}};aR.styles=[j.globalCss,yp],bV([e()],aR.prototype,"onClick",2),bV([e()],aR.prototype,"name",2),bV([e()],aR.prototype,"chainId",2),bV([e()],aR.prototype,"unsupported",2),aR=bV([h("w3m-network-button")],aR);const yu=l`@keyframes loading{to{stroke-dashoffset:0}}:host{width:inherit;height:inherit;position:relative}path{stroke:var(--w3m-color-overlay)}svg{width:100%;height:100%;margin:0}#network-placeholder-fill{fill:var(--w3m-color-bg-3)}#network-placeholder-dash{stroke:var(--w3m-color-overlay)}image{clip-path:path('M17.033 4.964c3.852-2.262 5.778-3.393 7.84-3.77a11.807 11.807 0 0 1 4.254 0c2.062.377 3.988 1.508 7.84 3.77l6.066 3.562c3.852 2.263 5.777 3.394 7.13 5.022a12.268 12.268 0 0 1 2.127 3.747c.71 2.006.71 4.268.71 8.793v7.124c0 4.525 0 6.787-.71 8.793a12.268 12.268 0 0 1-2.126 3.747c-1.354 1.628-3.28 2.76-7.131 5.022l-6.066 3.562c-3.852 2.262-5.778 3.393-7.84 3.771a11.814 11.814 0 0 1-4.254 0c-2.062-.378-3.988-1.509-7.84-3.77l-6.066-3.563c-3.852-2.263-5.778-3.394-7.13-5.022a12.268 12.268 0 0 1-2.127-3.747C1 40 1 37.737 1 33.212v-7.124c0-4.525 0-6.787.71-8.793a12.268 12.268 0 0 1 2.127-3.747c1.352-1.628 3.278-2.76 7.13-5.022l6.066-3.562Z')}`;yv=Object.defineProperty,yw=Object.getOwnPropertyDescriptor,hD=(g,b,e,c)=>{for(var a=c>1?void 0:c?yw(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&yv(b,e,a),a};let da=class extends g{constructor(){super(...arguments),this.chainId=""}render(){const b=c.getChainIcon(this.chainId);return b?a`<svg width="54" height="59" viewBox="0 0 54 59" fill="none"><image href="${b}"/><image href="${b}" width="54" height="59"/><path d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z"/></svg>`:a`${i.NETWORK_PLACEHOLDER}`}};da.styles=[j.globalCss,yu],hD([e()],da.prototype,"chainId",2),da=hD([h("w3m-network-image")],da);const yz=.1,hF=2.5,aq=7;function f_(a,b,c){return a!==b&&(a-b<0?b-a:a-b)<=c+yz}function yD(b,c){const a=Array.prototype.slice.call(cG.create(b,{errorCorrectionLevel:c}).modules.data,0),d=Math.sqrt(a.length);return a.reduce((a,b,c)=>(c%d===0?a.push([b]):a[a.length-1].push(b))&&a,[])}const yE={generate(p,l,n,f){const e=f==="light"?"#141414":"#fff",m=f==="light"?"#fff":"#141414",d=[],b=yD(p,"Q"),a=l/b.length,i=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];i.forEach(({x:f,y:g})=>{const h=(b.length-aq)*a*f,j=(b.length-aq)*a*g,c=.32;for(let b=0;b<i.length;b+=1){const f=a*(aq-b*2);d.push(o`<rect fill="${b%2===0?e:m}" height="${f}" rx="${f*c}" ry="${f*c}" width="${f}" x="${h+a*b}" y="${j+a*b}">`)}});const j=Math.floor((n+25)/a),g=b.length/2-j/2,k=b.length/2+j/2-1,h=[];b.forEach((d,c)=>{d.forEach((e,d)=>{if(b[c][d]&&!(c<aq&&d<aq||c>b.length-(aq+1)&&d<aq||c<aq&&d>b.length-(aq+1))&&!(c>g&&c<k&&d>g&&d<k)){const b=c*a+a/2,e=d*a+a/2;h.push([b,e])}})});const c={};return h.forEach(([a,b])=>{c[a]?c[a].push(b):c[a]=[b]}),Object.entries(c).map(([c,b])=>{const d=b.filter(c=>b.every(b=>!f_(c,b,a)));return[Number(c),d]}).forEach(([b,c])=>{c.forEach(c=>{d.push(o`<circle cx="${b}" cy="${c}" fill="${e}" r="${a/hF}">`)})}),Object.entries(c).filter(([b,a])=>a.length>1).map(([c,b])=>{const d=b.filter(c=>b.some(b=>f_(c,b,a)));return[Number(c),d]}).map(([d,c])=>{c.sort((a,b)=>a<b?-1:1);const b=[];for(const d of c){const e=b.find(b=>b.some(b=>f_(d,b,a)));e?e.push(d):b.push([d])}return[d,b.map(a=>[a[0],a[a.length-1]])]}).forEach(([b,c])=>{c.forEach(([c,f])=>{d.push(o`<line x1="${b}" x2="${b}" y1="${c}" y2="${f}" stroke="${e}" stroke-width="${a/(hF/2)}" stroke-linecap="round">`)})}),d}},yF=l`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;width:100%;aspect-ratio:1/1;animation:fadeIn ease .2s}svg:first-child,w3m-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}w3m-wallet-image{transform:translateY(-50%) translateX(-50%)}w3m-wallet-image{width:25%;height:25%;border-radius:var(--w3m-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--w3m-accent-color)}svg:first-child path:last-child{stroke:var(--w3m-color-overlay)}`;yG=Object.defineProperty,yH=Object.getOwnPropertyDescriptor,bH=(g,b,e,c)=>{for(var a=c>1?void 0:c?yH(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&yG(b,e,a),a};let au=class extends g{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){var a;const b=(a=al.state.themeMode)!=null?a:"light";return o`<svg height="${this.size}" width="${this.size}">${yE.generate(this.uri,this.size,this.size/4,b)}</svg>`}render(){return a`<div>${this.walletId||this.imageUrl?a`<w3m-wallet-image walletId="${this.walletId}" imageId="${this.imageId}" imageUrl="${this.imageUrl}"></w3m-wallet-image>`:i.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}<w3m-theme-context></w3m-theme-context></div>`}};au.styles=[j.globalCss,yF],bH([e()],au.prototype,"uri",2),bH([e({type:Number})],au.prototype,"size",2),bH([e()],au.prototype,"imageId",2),bH([e()],au.prototype,"walletId",2),bH([e()],au.prototype,"imageUrl",2),au=bH([h("w3m-qrcode")],au);const yK=l`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--w3m-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:transparent;position:absolute;background-color:var(--w3m-color-bg-3);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay)}input::placeholder{color:transparent}svg{margin:2px 4px 0 0}div{top:0;left:calc(50% - 12px);transform:translateX(-50%);transition:.2s all ease;pointer-events:none;display:flex;align-items:center;justify-content:center;height:calc(100% - 2px);width:fit-content;position:relative}input:focus-within+div,input:not(:placeholder-shown)+div{transform:translateX(10px);left:0}w3m-text{opacity:1;transition:.2s opacity ease}input:focus-within+div w3m-text,input:not(:placeholder-shown)+div w3m-text{opacity:0}input:focus-within,input:not(:placeholder-shown){color:var(--w3m-color-fg-1)}input:focus-within{box-shadow:inset 0 0 0 1px var(--w3m-accent-color)}path{fill:var(--w3m-color-fg-2)}`;yL=Object.defineProperty,yM=Object.getOwnPropertyDescriptor,hJ=(g,b,e,c)=>{for(var a=c>1?void 0:c?yM(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&yL(b,e,a),a};let db=class extends g{constructor(){super(...arguments),this.onChange=()=>null}render(){const b="Search wallets";return a`<input type="text" @input="${this.onChange}" placeholder="${b}"><div>${i.SEARCH_ICON}<w3m-text color="secondary" variant="small-thin">${b}</w3m-text></div>`}};db.styles=[j.globalCss,yK],hJ([e()],db.prototype,"onChange",2),db=hJ([h("w3m-search-input")],db);const yP=l`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--w3m-accent-color)}`;yQ=Object.defineProperty,yR=Object.getOwnPropertyDescriptor,yS=(g,b,e,c)=>{for(var a=c>1?void 0:c?yR(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&yQ(b,e,a),a};let fY=class extends g{render(){return a`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};fY.styles=[j.globalCss,yP],fY=yS([h("w3m-spinner")],fY);const yU=l`span{font-style:normal;font-family:var(--w3m-font-family);font-feature-settings:'tnum' on,'lnum' on,'case' on}.w3m-xsmall-bold{font-family:var(--w3m-text-xsmall-bold-font-family);font-weight:var(--w3m-text-xsmall-bold-weight);font-size:var(--w3m-text-xsmall-bold-size);line-height:var(--w3m-text-xsmall-bold-line-height);letter-spacing:var(--w3m-text-xsmall-bold-letter-spacing);text-transform:var(--w3m-text-xsmall-bold-text-transform)}.w3m-xsmall-regular{font-family:var(--w3m-text-xsmall-regular-font-family);font-weight:var(--w3m-text-xsmall-regular-weight);font-size:var(--w3m-text-xsmall-regular-size);line-height:var(--w3m-text-xsmall-regular-line-height);letter-spacing:var(--w3m-text-xsmall-regular-letter-spacing);text-transform:var(--w3m-text-xsmall-regular-text-transform)}.w3m-small-thin{font-family:var(--w3m-text-small-thin-font-family);font-weight:var(--w3m-text-small-thin-weight);font-size:var(--w3m-text-small-thin-size);line-height:var(--w3m-text-small-thin-line-height);letter-spacing:var(--w3m-text-small-thin-letter-spacing);text-transform:var(--w3m-text-small-thin-text-transform)}.w3m-small-regular{font-family:var(--w3m-text-small-regular-font-family);font-weight:var(--w3m-text-small-regular-weight);font-size:var(--w3m-text-small-regular-size);line-height:var(--w3m-text-small-regular-line-height);letter-spacing:var(--w3m-text-small-regular-letter-spacing);text-transform:var(--w3m-text-small-regular-text-transform)}.w3m-medium-regular{font-family:var(--w3m-text-medium-regular-font-family);font-weight:var(--w3m-text-medium-regular-weight);font-size:var(--w3m-text-medium-regular-size);line-height:var(--w3m-text-medium-regular-line-height);letter-spacing:var(--w3m-text-medium-regular-letter-spacing);text-transform:var(--w3m-text-medium-regular-text-transform)}.w3m-big-bold{font-family:var(--w3m-text-big-bold-font-family);font-weight:var(--w3m-text-big-bold-weight);font-size:var(--w3m-text-big-bold-size);line-height:var(--w3m-text-big-bold-line-height);letter-spacing:var(--w3m-text-big-bold-letter-spacing);text-transform:var(--w3m-text-big-bold-text-transform)}:host(*){color:var(--w3m-color-fg-1)}.w3m-color-primary{color:var(--w3m-color-fg-1)}.w3m-color-secondary{color:var(--w3m-color-fg-2)}.w3m-color-tertiary{color:var(--w3m-color-fg-3)}.w3m-color-inverse{color:var(--w3m-accent-fill-color)}.w3m-color-accnt{color:var(--w3m-accent-color)}.w3m-color-error{color:var(--w3m-error-color)}`;yV=Object.defineProperty,yW=Object.getOwnPropertyDescriptor,fX=(g,b,e,c)=>{for(var a=c>1?void 0:c?yW(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&yV(b,e,a),a};let bZ=class extends g{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const b={"w3m-big-bold":this.variant==="big-bold","w3m-medium-regular":this.variant==="medium-regular","w3m-small-regular":this.variant==="small-regular","w3m-small-thin":this.variant==="small-thin","w3m-xsmall-regular":this.variant==="xsmall-regular","w3m-xsmall-bold":this.variant==="xsmall-bold","w3m-color-primary":this.color==="primary","w3m-color-secondary":this.color==="secondary","w3m-color-tertiary":this.color==="tertiary","w3m-color-inverse":this.color==="inverse","w3m-color-accnt":this.color==="accent","w3m-color-error":this.color==="error"};return a`<span><slot class="${T(b)}"></slot></span>`}};bZ.styles=[j.globalCss,yU],fX([e()],bZ.prototype,"variant",2),fX([e()],bZ.prototype,"color",2),bZ=fX([h("w3m-text")],bZ);const yZ=l`div{overflow:hidden;position:relative;border-radius:50%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:50%;border:1px solid var(--w3m-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}svg{width:100%;height:100%}#token-placeholder-fill{fill:var(--w3m-color-bg-3)}#token-placeholder-dash{stroke:var(--w3m-color-overlay)}`;y_=Object.defineProperty,y$=Object.getOwnPropertyDescriptor,hO=(g,b,e,c)=>{for(var a=c>1?void 0:c?y$(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&y_(b,e,a),a};let dc=class extends g{constructor(){super(...arguments),this.symbol=void 0}render(){var b;const d=c.getTokenIcon((b=this.symbol)!=null?b:"");return d?a`<div><img src="${d}" alt="${this.id}"></div>`:i.TOKEN_PLACEHOLDER}};dc.styles=[j.globalCss,yZ],hO([e()],dc.prototype,"symbol",2),dc=hO([h("w3m-token-image")],dc);const zc=l`button{width:100%;height:100%;border-radius:var(--w3m-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--w3m-color-overlay)}@media(hover:hover){button:hover{background-color:var(--w3m-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}w3m-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}w3m-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--w3m-wallet-icon-border-radius);margin-bottom:5px}.w3m-sublabel{margin-top:2px}`;zd=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,aL=(g,b,e,c)=>{for(var a=c>1?void 0:c?ze(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zd(b,e,a),a};let an=class extends g{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?a`<w3m-text class="w3m-sublabel" variant="xsmall-bold" color="tertiary">RECENT</w3m-text>`:this.installed?a`<w3m-text class="w3m-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</w3m-text>`:null}handleClick(){aN.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var b;return a`<button @click="${this.handleClick.bind(this)}"><div><w3m-wallet-image walletId="${this.walletId}" imageId="${this.imageId}"></w3m-wallet-image><w3m-text variant="xsmall-regular">${(b=this.label)!=null?b:c.getWalletName(this.name,!0)}</w3m-text>${this.sublabelTemplate()}</div></button>`}};an.styles=[j.globalCss,zc],aL([e()],an.prototype,"onClick",2),aL([e()],an.prototype,"name",2),aL([e()],an.prototype,"walletId",2),aL([e()],an.prototype,"label",2),aL([e()],an.prototype,"imageId",2),aL([e()],an.prototype,"installed",2),aL([e()],an.prototype,"recent",2),an=aL([h("w3m-wallet-button")],an);const zh=l`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--w3m-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--w3m-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--w3m-color-bg-3)}#wallet-placeholder-dash{stroke:var(--w3m-color-overlay)}`;zi=Object.defineProperty,zj=Object.getOwnPropertyDescriptor,dd=(g,b,e,c)=>{for(var a=c>1?void 0:c?zj(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zi(b,e,a),a};let bv=class extends g{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var b;const d=(b=this.imageUrl)!=null&&b.length?this.imageUrl:c.getWalletIcon({id:this.walletId,image_id:this.imageId});return a`${d.length?a`<div><img src="${d}" alt="${this.id}"></div>`:i.WALLET_PLACEHOLDER}`}};bv.styles=[j.globalCss,zh],dd([e()],bv.prototype,"walletId",2),dd([e()],bv.prototype,"imageId",2),dd([e()],bv.prototype,"imageUrl",2),bv=dd([h("w3m-wallet-image")],bv),zm=Object.defineProperty,zn=Object.getOwnPropertyDescriptor,zo=(g,b,e,c)=>{for(var a=c>1?void 0:c?zn(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zm(b,e,a),a};let hP=class extends g{constructor(){super(),this.unwatchAccount=void 0,r.getAccount(),this.fetchProfile(),this.fetchBalance(),this.unwatchAccount=u.client().watchAccount(a=>{const{address:c,isConnected:b}=r.state;a.isConnected&&a.address!==c&&(this.fetchProfile(a.address),this.fetchBalance(a.address),r.setAddress(a.address)),a.isConnected||r.resetAccount(),b!==a.isConnected&&N.close(),!b&&a.isConnected?aN.track({name:"ACCOUNT_CONNECTED"}):b&&!a.isConnected&&aN.track({name:"ACCOUNT_DISCONNECTED"}),r.setIsConnected(a.isConnected)})}disconnectedCallback(){var a;(a=this.unwatchAccount)==null||a.call(this)}async fetchProfile(b){var a;const d=(a=f.state.chains)==null?void 0:a.find(a=>a.id===1);if(v.state.enableAccountView&&d)try{await r.fetchProfile(c.preloadImage,b)}catch(a){console.error(a),W.openToast(c.getErrorMessage(a),"error")}}async fetchBalance(a){if(v.state.enableAccountView)try{await r.fetchBalance(a)}catch(a){console.error(a),W.openToast(c.getErrorMessage(a),"error")}}};hP=zo([h("w3m-account-context")],hP),zq=Object.defineProperty,zr=Object.getOwnPropertyDescriptor,hR=(g,b,e,c)=>{for(var a=c>1?void 0:c?zr(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zq(b,e,a),a};let fW=class extends g{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(a){try{a!=null&&a.length&&await Promise.all(a.map(async a=>c.preloadImage(a)))}catch{console.info("Unsuccessful attempt at preloading some images",a)}}async preloadListings(){var a;if(v.state.enableExplorer){const{chains:b}=f.state;await Promise.all([B.getRecomendedWallets(),B.getInjectedWallets()]),f.setIsDataLoaded(!0);const{recomendedWallets:d}=B.state,e=Z.installedInjectedWallets(),g=(a=b?.map(a=>c.getChainIcon(a.id)))!=null?a:[],h=d.map(a=>c.getWalletIcon(a)),i=e.map(a=>c.getWalletIcon(a));await this.loadImages([...g,...h,...i])}else f.setIsDataLoaded(!0)}async preloadCustomImages(){const a=c.getCustomImageUrls();await this.loadImages(a)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(a){console.error(a),W.openToast("Failed preloading","error")}}};hR([p()],fW.prototype,"preload",2),fW=hR([h("w3m-explorer-context")],fW),zu=Object.defineProperty,zv=Object.getOwnPropertyDescriptor,hV=(g,b,e,c)=>{for(var a=c>1?void 0:c?zv(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zu(b,e,a),a};let fP=class extends g{constructor(){super(),this.activeChainId=void 0,this.unwatchNetwork=void 0;const a=f.getSelectedChain();this.activeChainId=a?.id,this.unwatchNetwork=u.client().watchNetwork(b=>{const a=b.chain;a&&this.activeChainId!==a.id&&(f.setSelectedChain(a),this.activeChainId=a.id,r.resetBalance(),this.fetchBalance())})}disconnectedCallback(){var a;(a=this.unwatchNetwork)==null||a.call(this)}async fetchBalance(){if(v.state.enableAccountView)try{await r.fetchBalance()}catch(a){console.error(a),W.openToast(c.getErrorMessage(a),"error")}}};hV([p()],fP.prototype,"activeChainId",2),fP=hV([h("w3m-network-context")],fP),zy=Object.defineProperty,zz=Object.getOwnPropertyDescriptor,zA=(g,b,e,c)=>{for(var a=c>1?void 0:c?zz(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zy(b,e,a),a};let h$=class extends g{constructor(){super(),this.unsubscribeTheme=void 0,j.setTheme(),this.unsubscribeTheme=al.subscribe(j.setTheme),this.preloadThemeImages()}disconnectedCallback(){var a;(a=this.unsubscribeTheme)==null||a.call(this)}async preloadThemeImages(){try{const{themeVariables:a}=al.state,b=[a?.["--w3m-background-image-url"],a?.["--w3m-logo-image-url"]].filter(Boolean);b.length&&await Promise.all(b.map(async a=>c.preloadImage(a)))}catch{console.info("Unsuccessful attempt at preloading some images")}}};h$=zA([h("w3m-theme-context")],h$),zC=Object.defineProperty,zD=Object.getOwnPropertyDescriptor,zE=(g,b,e,c)=>{for(var a=c>1?void 0:c?zD(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zC(b,e,a),a};const zF=18e4,ib=1e3;let ie=class extends g{constructor(){super(),this.unwatchOptions=void 0,this.unwatchAccount=void 0,this.timeout=void 0,this.isGenerated=!1,this.selectedChainId=(id=f.state.selectedChain)==null?void 0:id.id,this.isAccountConnected=r.state.isConnected,this.lastRetry=Date.now(),this.unwatchOptions=f.subscribe(a=>{var b,c;((b=a.selectedChain)==null?void 0:b.id)!==this.selectedChainId&&(this.selectedChainId=(c=a.selectedChain)==null?void 0:c.id,this.connectAndWait())}),this.unwatchAccount=r.subscribe(a=>{(this.isAccountConnected!==a.isConnected||!this.isGenerated)&&(this.isAccountConnected=a.isConnected,setTimeout(this.connectAndWait.bind(this),0))}),document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))}disconnectedCallback(){var a,b;(a=this.unwatchOptions)==null||a.call(this),(b=this.unwatchAccount)==null||b.call(this),document.removeEventListener("visibilitychange",this.onVisibilityChange)}async connectAndWait(){if(clearTimeout(this.timeout),!this.isAccountConnected){this.isGenerated=!0,this.timeout=setTimeout(this.connectAndWait.bind(this),zF);try{const{standaloneUri:a,selectedChain:b}=f.state;a?C.setPairingUri(a):await u.client().connectWalletConnect(a=>C.setPairingUri(a),b?.id)}catch(a){console.error(a),C.setPairingError(!0),W.openToast("Connection request declined","error"),Date.now()-this.lastRetry>=ib&&(this.lastRetry=Date.now(),this.connectAndWait())}}}onVisibilityChange(){!document.hidden&&d.isMobile()&&setTimeout(this.connectAndWait.bind(this),ib)}};ie=zE([h("w3m-wc-connection-context")],ie);const zJ=l`:host{all:initial}div{display:flex;align-items:center;background-color:var(--w3m-color-overlay);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);border-radius:var(--w3m-button-border-radius);padding:4px 4px 4px 8px}div button{border-radius:var(--w3m-secondary-button-border-radius);padding:4px 8px;padding-left:4px;height:auto;margin-left:10px;color:var(--w3m-accent-fill-color);background-color:var(--w3m-accent-color)}.w3m-no-avatar{padding-left:8px}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--w3m-color-overlay)}button:hover::after{background-color:var(--w3m-color-overlay)}w3m-avatar{margin-right:6px}w3m-button-big w3m-avatar{margin-left:-5px}`;zK=Object.defineProperty,zL=Object.getOwnPropertyDescriptor,fM=(g,b,e,c)=>{for(var a=c>1?void 0:c?zL(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zK(b,e,a),a};let bq=class extends g{constructor(){super(),this.balance="hide",this.avatar="show",c.rejectStandaloneButtonComponent()}onOpen(){const{isStandalone:a}=f.state;a||(aN.click({name:"ACCOUNT_BUTTON"}),N.open({route:"Account"}))}accountTemplate(){const b=this.avatar==="show";return a`${b?a`<w3m-avatar></w3m-avatar>`:null}<w3m-address-text></w3m-address-text>`}render(){const b=this.balance==="show",c={"w3m-no-avatar":this.avatar==="hide"};return b?a`<div><w3m-balance></w3m-balance><button @click="${this.onOpen}" class="${T(c)}">${this.accountTemplate()}</button></div>`:a`<w3m-button-big @click="${this.onOpen}">${this.accountTemplate()}</w3m-button-big>`}};bq.styles=[j.globalCss,zJ],fM([e()],bq.prototype,"balance",2),fM([e()],bq.prototype,"avatar",2),bq=fM([h("w3m-account-button")],bq);const zO=l`button{display:flex;border-radius:var(--w3m-button-hover-highlight-border-radius);flex-direction:column;justify-content:center;padding:5px;width:100px}button:active{background-color:var(--w3m-color-overlay)}@media(hover:hover){button:hover{background-color:var(--w3m-color-overlay)}}button:disabled{pointer-events:none}w3m-network-image{width:32px;height:32px}w3m-text{margin-top:4px}`;zP=Object.defineProperty,zQ=Object.getOwnPropertyDescriptor,fL=(g,b,e,c)=>{for(var a=c>1?void 0:c?zQ(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zP(b,e,a),a};let cd=class extends g{constructor(){super(),this.chainId=0,this.label="",this.unsubscribeNetwork=void 0;const{selectedChain:a}=f.state;this.chainId=a?.id,this.label=a?.name,this.unsubscribeNetwork=f.subscribe(({selectedChain:a})=>{this.chainId=a?.id,this.label=a?.name})}disconnectedCallback(){var a;(a=this.unsubscribeNetwork)==null||a.call(this)}onClick(){n.push("SelectNetwork")}render(){const{chains:b,selectedChain:c}=f.state,d=b?.map(a=>a.id),e=c&&d?.includes(c.id),g=b&&b.length<=1&&e;return a`<button @click="${this.onClick}" ?disabled="${g}"><w3m-network-image chainId="${this.chainId}"></w3m-network-image><w3m-text variant="xsmall-regular" color="accent">${this.label}</w3m-text></button>`}};cd.styles=[j.globalCss,zO],fL([p()],cd.prototype,"chainId",2),fL([p()],cd.prototype,"label",2),cd=fL([h("w3m-account-network-button")],cd);const zT=l`@keyframes slide{0%{background-position:0 0}100%{background-position:200px 0}}w3m-text{padding:1px 0}.w3m-loading{background:linear-gradient(270deg,var(--w3m-color-fg-1) 36.33%,var(--w3m-color-fg-3) 42.07%,var(--w3m-color-fg-1) 83.3%);background-size:200px 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation-name:slide;animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear}`;zU=Object.defineProperty,zV=Object.getOwnPropertyDescriptor,ce=(g,b,e,c)=>{for(var a=c>1?void 0:c?zV(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&zU(b,e,a),a};let bb=class extends g{constructor(){super(),this.address=void 0,this.name=void 0,this.loading=!0,this.variant="button",this.unsubscribeAccount=void 0,this.address=r.state.address,this.name=r.state.profileName,this.loading=!!r.state.profileLoading,this.unsubscribeAccount=r.subscribe(({address:a,profileName:b,profileLoading:c})=>{this.address=a,this.name=b,this.loading=!!c})}disconnectedCallback(){var a;(a=this.unsubscribeAccount)==null||a.call(this)}render(){var b;const d=this.variant==="button",e={"w3m-loading":this.loading};return a`<w3m-text class="${T(e)}" variant="${d?"medium-regular":"big-bold"}" color="${d?"inverse":"primary"}">${this.name?this.name:c.truncate((b=this.address)!=null?b:"")}</w3m-text>`}};bb.styles=[j.globalCss,zT],ce([p()],bb.prototype,"address",2),ce([p()],bb.prototype,"name",2),ce([p()],bb.prototype,"loading",2),ce([e()],bb.prototype,"variant",2),bb=ce([h("w3m-address-text")],bb);const O={onConnecting(a){c.goToConnectingView(a)},onExternal(a){c.handleConnectorConnection(a)},manualWalletsTemplate(){return Z.manualWallets().map(b=>a`<w3m-wallet-button walletId="${b.id}" name="${b.name}" .onClick="${()=>this.onConnecting(b)}"></w3m-wallet-button>`)},recomendedWalletsTemplate(b=!1){return Z.recomendedWallets(b).map(b=>a`<w3m-wallet-button walletId="${b.id}" imageId="${b.image_id}" name="${b.name}" .onClick="${()=>this.onConnecting(b)}"></w3m-wallet-button>`)},externalWalletsTemplate(){return Z.externalWallets().map(b=>a`<w3m-wallet-button name="${b.name}" walletId="${b.id}" .onClick="${()=>this.onExternal(b.id)}"></w3m-wallet-button>`)},recentWalletTemplate(){const b=Z.recentWallet();if(b)return a`<w3m-wallet-button name="${b.name}" walletId="${b.id}" imageId="${b.image_id}" .recent="${!0}" .onClick="${()=>this.onConnecting(b)}"></w3m-wallet-button>`},installedInjectedWalletsTemplate(){return Z.installedInjectedWallets().map(b=>a`<w3m-wallet-button .installed="${!0}" name="${b.name}" walletId="${b.id}" imageId="${b.image_id}" .onClick="${()=>this.onConnecting(b)}"></w3m-wallet-button>`)},injectedWalletsTemplate(){return Z.injectedWallets().map(b=>a`<w3m-wallet-button name="${b.name}" walletId="${b.id}" imageId="${b.image_id}" .onClick="${()=>this.onConnecting(b)}"></w3m-wallet-button>`)}},zZ=l`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.w3m-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.w3m-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.w3m-track svg{margin:0 5px}w3m-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--w3m-wallet-icon-border-radius)}.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.w3m-title{display:flex;align-items:center;margin-bottom:10px}.w3m-title svg{margin-right:6px}.w3m-title path{fill:var(--w3m-accent-color)}w3m-modal-footer .w3m-title{padding:0 10px}w3m-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--w3m-color-bg-1))}w3m-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}w3m-info-footer w3m-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--w3m-color-bg-3)}#wallet-placeholder-dash{stroke:var(--w3m-color-overlay)}`;z_=Object.defineProperty,z$=Object.getOwnPropertyDescriptor,aaa=(g,b,e,c)=>{for(var a=c>1?void 0:c?z$(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&z_(b,e,a),a};let fG=class extends g{onGoToQrcode(){n.push("Qrcode")}onGetWallet(){n.push("GetWallet")}render(){const{recomendedWallets:b}=B.state,e=[...b,...b],f=O.externalWalletsTemplate(),g=O.installedInjectedWalletsTemplate(),h=[...g,...f].length>0,j=d.RECOMMENDED_WALLET_AMOUNT*2;return a`<w3m-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${i.QRCODE_ICON}"></w3m-modal-header><w3m-modal-content><div class="w3m-title">${i.MOBILE_ICON}<w3m-text variant="small-regular" color="accent">WalletConnect</w3m-text></div><div class="w3m-slider"><div class="w3m-track">${[...Array(j)].map((d,c)=>{const b=e[c%e.length];return b?a`<w3m-wallet-image walletId="${b.id}" imageId="${b.image_id}"></w3m-wallet-image>`:i.WALLET_PLACEHOLDER})}</div><w3m-button-big @click="${c.handleAndroidLinking}"><w3m-text variant="medium-regular" color="inverse">Select Wallet</w3m-text></w3m-button-big></div></w3m-modal-content>${h?a`<w3m-modal-footer><div class="w3m-title">${i.WALLET_ICON}<w3m-text variant="small-regular" color="accent">Other</w3m-text></div><div class="w3m-grid">${g} ${f}</div></w3m-modal-footer>`:null}<w3m-info-footer><w3m-text color="secondary" variant="small-thin">${`Choose WalletConnect to see supported apps on your device${h?", or select from other options":""}`}</w3m-text><w3m-button variant="outline" .iconRight="${i.ARROW_UP_RIGHT_ICON}" .onClick="${()=>this.onGetWallet()}">I don't have a wallet</w3m-button></w3m-info-footer>`}};fG.styles=[j.globalCss,zZ],fG=aaa([h("w3m-android-wallet-selection")],fG);const aac=l`@keyframes slide{0%{transform:translateX(-50px)}100%{transform:translateX(200px)}}.w3m-placeholder,img{border-radius:50%;box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);display:block;position:relative;overflow:hidden!important;background-color:var(--w3m-color-av-1);background-image:radial-gradient(at 66% 77%,var(--w3m-color-av-2) 0,transparent 50%),radial-gradient(at 29% 97%,var(--w3m-color-av-3) 0,transparent 50%),radial-gradient(at 99% 86%,var(--w3m-color-av-4) 0,transparent 50%),radial-gradient(at 29% 88%,var(--w3m-color-av-5) 0,transparent 50%);transform:translateZ(0)}.w3m-loader{width:50px;height:100%;background:linear-gradient(270deg,transparent 0,rgba(255,255,255,.4) 30%,transparent 100%);animation-name:slide;animation-duration:1.5s;transform:translateX(-50px);animation-iteration-count:infinite;animation-timing-function:linear;animation-delay:.55s}.w3m-small{width:24px;height:24px}.w3m-medium{width:60px;height:60px}`;aad=Object.defineProperty,aae=Object.getOwnPropertyDescriptor,cK=(g,b,e,c)=>{for(var a=c>1?void 0:c?aae(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aad(b,e,a),a};let aU=class extends g{constructor(){super(),this.address=void 0,this.avatar=void 0,this.loading=!0,this.size="small",this.unsubscribeAccount=void 0,this.address=r.state.address,this.avatar=r.state.profileAvatar,this.loading=!!r.state.profileLoading,this.unsubscribeAccount=r.subscribe(({address:a,profileAvatar:b,profileLoading:c})=>{this.address=a,this.avatar=b,this.loading=!!c})}disconnectedCallback(){var a;(a=this.unsubscribeAccount)==null||a.call(this)}render(){const b={"w3m-placeholder":!0,"w3m-small":this.size==="small","w3m-medium":this.size==="medium"};return this.avatar?a`<img class="${T(b)}" src="${this.avatar}">`:this.address?(c.generateAvatarColors(this.address),a`<div class="${T(b)}">${this.loading?a`<div class="w3m-loader"></div>`:null}</div>`):null}};aU.styles=[j.globalCss,aac],cK([p()],aU.prototype,"address",2),cK([p()],aU.prototype,"avatar",2),cK([p()],aU.prototype,"loading",2),cK([e()],aU.prototype,"size",2),aU=cK([h("w3m-avatar")],aU);const aah=l`div{display:flex;align-items:center}w3m-token-image{width:28px;height:28px;margin-right:6px}`;aai=Object.defineProperty,aaj=Object.getOwnPropertyDescriptor,fA=(g,b,e,c)=>{for(var a=c>1?void 0:c?aaj(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aai(b,e,a),a};let cg=class extends g{constructor(){var a,b;super(),this.symbol=void 0,this.amount=void 0,this.unsubscribeAccount=void 0,this.symbol=(a=r.state.balance)==null?void 0:a.symbol,this.amount=(b=r.state.balance)==null?void 0:b.amount,this.unsubscribeAccount=r.subscribe(({balance:a})=>{this.symbol=a?.symbol,this.amount=a?.amount})}disconnectedCallback(){var a;(a=this.unsubscribeAccount)==null||a.call(this)}render(){let b="_._";return this.amount==="0.0"?b=0:typeof this.amount=="string"&&this.amount.length>6?b=parseFloat(this.amount).toFixed(3):typeof this.amount=="string"&&(b=parseFloat(this.amount)),a`<div><w3m-token-image symbol="${this.symbol}"></w3m-token-image><w3m-text variant="medium-regular" color="primary">${b} ${this.symbol}</w3m-text></div>`}};cg.styles=[j.globalCss,aah],fA([p()],cg.prototype,"symbol",2),fA([p()],cg.prototype,"amount",2),cg=fA([h("w3m-balance")],cg);const aam=l`:host{all:initial}svg{width:28px;height:20px;margin:-1px 3px 0 -5px}svg path{fill:var(--w3m-accent-fill-color)}button:disabled svg path{fill:var(--w3m-color-fg-3)}w3m-spinner{margin:0 10px 0 0}`;aan=Object.defineProperty,aao=Object.getOwnPropertyDescriptor,dk=(g,b,e,c)=>{for(var a=c>1?void 0:c?aao(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aan(b,e,a),a};let aQ=class extends g{constructor(){super(),this.loading=!1,this.label="Connect Wallet",this.icon="show",this.modalUnsub=void 0,c.rejectStandaloneButtonComponent(),this.modalUnsub=N.subscribe(a=>{a.open&&(this.loading=!0),a.open||(this.loading=!1)})}disconnectedCallback(){var a;(a=this.modalUnsub)==null||a.call(this)}iconTemplate(){return this.icon==="show"?i.WALLET_CONNECT_ICON:null}onClick(){r.state.isConnected?this.onDisconnect():this.onConnect()}async onConnect(){this.loading=!0,aN.click({name:"CONNECT_BUTTON"}),await N.open(),N.state.open||(this.loading=!1)}async onDisconnect(){aN.click({name:"DISCONNECT_BUTTON"}),await u.client().disconnect()}render(){return a`<w3m-button-big .disabled="${this.loading}" @click="${this.onClick}">${this.loading?a`<w3m-spinner></w3m-spinner><w3m-text variant="medium-regular" color="accent">Connecting...</w3m-text>`:a`${this.iconTemplate()}<w3m-text variant="medium-regular" color="inverse">${this.label}</w3m-text>`}</w3m-button-big>`}};aQ.styles=[j.globalCss,aam],dk([p()],aQ.prototype,"loading",2),dk([e()],aQ.prototype,"label",2),dk([e()],aQ.prototype,"icon",2),aQ=dk([h("w3m-connect-button")],aQ);const aar=l`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--w3m-accent-color);animation:loading 1s linear infinite}w3m-wallet-image{border-radius:var(--w3m-wallet-icon-large-border-radius);width:90px;height:90px}w3m-text{margin-bottom:40px}.w3m-error svg{stroke:var(--w3m-error-color)}.w3m-error use{display:none}.w3m-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.w3m-stale svg,.w3m-stale use{display:none}`;aas=Object.defineProperty,aat=Object.getOwnPropertyDescriptor,bO=(g,b,e,c)=>{for(var a=c>1?void 0:c?aat(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aas(b,e,a),a};let aM=class extends g{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var d,e;const c=(e=(d=al.state.themeVariables)==null?void 0:d["--w3m-wallet-icon-large-border-radius"])!=null?e:j.getPreset("--w3m-wallet-icon-large-border-radius");let b=0;c.includes("%")?b=88/100*parseInt(c,10):b=parseInt(c,10),b*=1.17;const f=317-b*1.57,g=425-b*1.8;return a`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="w3m-loader" x="2" y="2" width="106" height="106" rx="${b}"/><use xlink:href="#w3m-loader" stroke-dasharray="106 ${f}" stroke-dashoffset="${g}"></use></svg>`}render(){const b={"w3m-error":this.isError,"w3m-stale":this.isStale};return a`<div class="${T(b)}">${this.svgLoaderTemplate()}<w3m-wallet-image walletId="${this.walletId}" imageId="${this.imageId}"></w3m-wallet-image></div><w3m-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</w3m-text>`}};aM.styles=[j.globalCss,aar],bO([e()],aM.prototype,"walletId",2),bO([e()],aM.prototype,"imageId",2),bO([e()],aM.prototype,"isError",2),bO([e()],aM.prototype,"isStale",2),bO([e()],aM.prototype,"label",2),aM=bO([h("w3m-connector-waiting")],aM),aaw=Object.defineProperty,aax=Object.getOwnPropertyDescriptor,bK=(g,b,e,c)=>{for(var a=c>1?void 0:c?aax(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aaw(b,e,a),a};let aH=class extends g{constructor(){super(),this.isConnected=!1,this.label="Connect Wallet",this.icon="show",this.avatar="show",this.balance="hide",this.unsubscribeAccount=void 0,c.rejectStandaloneButtonComponent(),this.isConnected=r.state.isConnected,this.unsubscribeAccount=r.subscribe(({isConnected:a})=>{this.isConnected=a})}disconnectedCallback(){var a;(a=this.unsubscribeAccount)==null||a.call(this)}render(){const{enableAccountView:b}=v.state,c=this.balance,d=this.label,e=this.icon,f=this.avatar;return this.isConnected&&b?a`<w3m-account-button balance="${c}" avatar="${f}"></w3m-account-button>`:a`<w3m-connect-button label="${this.isConnected?"Disconnect":d}" icon="${e}"></w3m-connect-button>`}};bK([p()],aH.prototype,"isConnected",2),bK([e()],aH.prototype,"label",2),bK([e()],aH.prototype,"icon",2),bK([e()],aH.prototype,"avatar",2),bK([e()],aH.prototype,"balance",2),aH=bK([h("w3m-core-button")],aH);const aaA=l`.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.w3m-desktop-title,.w3m-mobile-title{display:flex;align-items:center}.w3m-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.w3m-desktop-title{margin-bottom:10px;padding:0 10px}.w3m-subtitle{display:flex;align-items:center}.w3m-subtitle:last-child path{fill:var(--w3m-color-fg-3)}.w3m-desktop-title svg,.w3m-mobile-title svg{margin-right:6px}.w3m-desktop-title path,.w3m-mobile-title path{fill:var(--w3m-accent-color)}`;aaB=Object.defineProperty,aaC=Object.getOwnPropertyDescriptor,aaD=(g,b,e,c)=>{for(var a=c>1?void 0:c?aaC(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aaB(b,e,a),a};let fz=class extends g{render(){const{isStandalone:k}=f.state,{explorerExcludedWalletIds:p,enableExplorer:o}=v.state,n=p!=="ALL"&&o,h=O.manualWalletsTemplate(),j=O.recomendedWalletsTemplate(),l=O.externalWalletsTemplate(),e=O.recentWalletTemplate(),m=O.installedInjectedWalletsTemplate();let b=[e,...h,...j];k||(b=[...m,e,...l,...h,...j]),b=b.filter(Boolean);const g=b.length>4||n;let d=[];g?d=b.slice(0,3):d=b;const q=!!d.length;return a`<w3m-modal-header .border="${!0}" title="Connect your wallet" .onAction="${c.handleUriCopy}" .actionIcon="${i.COPY_ICON}"></w3m-modal-header><w3m-modal-content><div class="w3m-mobile-title"><div class="w3m-subtitle">${i.MOBILE_ICON}<w3m-text variant="small-regular" color="accent">Mobile</w3m-text></div><div class="w3m-subtitle">${i.SCAN_ICON}<w3m-text variant="small-regular" color="secondary">Scan with your wallet</w3m-text></div></div><w3m-walletconnect-qr></w3m-walletconnect-qr></w3m-modal-content>${q?a`<w3m-modal-footer><div class="w3m-desktop-title">${i.DESKTOP_ICON}<w3m-text variant="small-regular" color="accent">Desktop</w3m-text></div><div class="w3m-grid">${d} ${g?a`<w3m-view-all-wallets-button></w3m-view-all-wallets-button>`:null}</div></w3m-modal-footer>`:null}`}};fz.styles=[j.globalCss,aaA],fz=aaD([h("w3m-desktop-wallet-selection")],fz);const aaF=l`div{background-color:var(--w3m-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--w3m-color-bg-3);text-align:center}a{color:var(--w3m-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;aaG=Object.defineProperty,aaH=Object.getOwnPropertyDescriptor,aaI=(g,b,e,c)=>{for(var a=c>1?void 0:c?aaH(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aaG(b,e,a),a};let fv=class extends g{render(){const{termsOfServiceUrl:b,privacyPolicyUrl:c}=v.state;return b??c?a`<div><w3m-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${b?a`<a href="${b}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${b&&c?"and":null} ${c?a`<a href="${c}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</w3m-text></div>`:null}};fv.styles=[j.globalCss,aaF],fv=aaI([h("w3m-legal-notice")],fv);const aaK=l`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;aaL=Object.defineProperty,aaM=Object.getOwnPropertyDescriptor,aaN=(g,b,e,c)=>{for(var a=c>1?void 0:c?aaM(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aaL(b,e,a),a};let fs=class extends g{onQrcode(){n.push("Qrcode")}render(){const{isStandalone:j}=f.state,{explorerExcludedWalletIds:o,enableExplorer:n}=v.state,m=o!=="ALL"&&n,g=O.manualWalletsTemplate(),h=O.recomendedWalletsTemplate(),k=O.externalWalletsTemplate(),d=O.recentWalletTemplate(),l=O.installedInjectedWalletsTemplate();let b=[d,...g,...h];j||(b=[...l,d,...k,...g,...h]),b=b.filter(Boolean);const e=b.length>8||m;let c=[];e?c=b.slice(0,7):c=b;const p=!!c.length;return a`<w3m-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${i.QRCODE_ICON}"></w3m-modal-header>${p?a`<w3m-modal-content><div>${c} ${e?a`<w3m-view-all-wallets-button></w3m-view-all-wallets-button>`:null}</div></w3m-modal-content>`:null}`}};fs.styles=[j.globalCss,aaK],fs=aaN([h("w3m-mobile-wallet-selection")],fs);const aaP=l`:host{all:initial}.w3m-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--w3m-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.3);opacity:0;pointer-events:none}@media(max-height:720px) and (orientation:landscape){.w3m-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.w3m-active{pointer-events:auto}.w3m-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--w3m-background-border-radius) var(--w3m-background-border-radius) var(--w3m-container-border-radius) var(--w3m-container-border-radius);border:1px solid var(--w3m-color-overlay);overflow:hidden}.w3m-card{width:100%;position:relative;border-radius:var(--w3m-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--w3m-color-overlay);background-color:var(--w3m-color-bg-1);color:var(--w3m-color-fg-1)}@media(max-width:600px){.w3m-container{max-width:440px;border-radius:var(--w3m-background-border-radius) var(--w3m-background-border-radius) 0 0}.w3m-card{border-radius:var(--w3m-container-border-radius) var(--w3m-container-border-radius) 0 0}.w3m-overlay{align-items:flex-end}}@media(max-width:440px){.w3m-container{border:0}}`;aaQ=Object.defineProperty,aaR=Object.getOwnPropertyDescriptor,fq=(g,b,e,c)=>{for(var a=c>1?void 0:c?aaR(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aaQ(b,e,a),a};let bR=class extends g{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=N.subscribe(a=>{a.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var a;(a=this.unsubscribeModal)==null||a.call(this)}get overlayEl(){return c.getShadowRootElement(this,".w3m-overlay")}get containerEl(){return c.getShadowRootElement(this,".w3m-container")}toggleBodyScroll(a){document.querySelector("body")&&(a?document.getElementById("w3m-styles")?.remove():document.head.insertAdjacentHTML("beforeend",'<style id="w3m-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>'))}onCloseModal(a){a.target===a.currentTarget&&N.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const d=c.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},a=.1,b=.2;await Promise.all([bl(this.overlayEl,{opacity:[0,1]},{delay:a,duration:b}).finished,bl(this.containerEl,d,{delay:a,duration:b}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const b=c.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},a=.2;await Promise.all([bl(this.overlayEl,{opacity:[1,0]},{duration:a}).finished,bl(this.containerEl,b,{duration:a}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",a=>{var b;a.key==="Escape"?N.close():a.key==="Tab"&&((b=a.target)!=null&&b.tagName.includes("W3M-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var a;(a=this.abortController)==null||a.abort(),this.abortController=void 0}managedModalContextTemplate(){const{isStandalone:b}=f.state;return b?null:a`<w3m-wc-connection-context></w3m-wc-connection-context><w3m-account-context></w3m-account-context><w3m-network-context></w3m-network-context>`}render(){const b={"w3m-overlay":!0,"w3m-active":this.active};return a`<w3m-explorer-context></w3m-explorer-context><w3m-theme-context></w3m-theme-context>${this.managedModalContextTemplate()}<div id="w3m-modal" class="${T(b)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="w3m-container" tabindex="0">${this.open?a`<w3m-modal-backcard></w3m-modal-backcard><div class="w3m-card"><w3m-modal-router></w3m-modal-router><w3m-modal-toast></w3m-modal-toast></div>`:null}</div></div>`}};bR.styles=[j.globalCss,aaP],fq([p()],bR.prototype,"open",2),fq([p()],bR.prototype,"active",2),bR=fq([h("w3m-modal")],bR);const aaU=l`:host{all:initial}w3m-network-image{margin-left:-6px;margin-right:6px;width:28px;height:28px}`;aaV=Object.defineProperty,aaW=Object.getOwnPropertyDescriptor,ds=(g,b,e,c)=>{for(var a=c>1?void 0:c?aaW(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aaV(b,e,a),a};let bh=class extends g{constructor(){super(),this.chainId="",this.label="",this.wrongNetwork=!1,this.unsubscribeNetwork=void 0,c.rejectStandaloneButtonComponent();const{selectedChain:a}=f.state;this.onSetChainData(a),this.unsubscribeNetwork=f.subscribe(({selectedChain:a})=>{this.onSetChainData(a)})}disconnectedCallback(){var a;(a=this.unsubscribeNetwork)==null||a.call(this)}onSetChainData(a){if(a){const{chains:c}=f.state,b=c?.map(a=>a.id);this.chainId=a.id.toString(),this.wrongNetwork=!(b!=null&&b.includes(a.id)),this.label=this.wrongNetwork?"Wrong Network":a.name}}onClick(){aN.click({name:"NETWORK_BUTTON"}),N.open({route:"SelectNetwork"})}render(){var b;const{chains:c}=f.state,d=c&&c.length>1;return a`<w3m-button-big @click="${this.onClick}" ?disabled="${!d}"><w3m-network-image chainId="${this.chainId}"></w3m-network-image><w3m-text variant="medium-regular" color="inverse">${(b=this.label)!=null&&b.length?this.label:"Select Network"}</w3m-text></w3m-button-big>`}};bh.styles=[j.globalCss,aaU],ds([p()],bh.prototype,"chainId",2),ds([p()],bh.prototype,"label",2),ds([p()],bh.prototype,"wrongNetwork",2),bh=ds([h("w3m-network-switch")],bh);const aaZ=l`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:1px;top:0;left:0}use{stroke:var(--w3m-accent-color);animation:loading 1s linear infinite}w3m-network-image{width:92px;height:92px}w3m-text{margin-bottom:40px}.w3m-error svg{stroke:var(--w3m-error-color)}.w3m-error use{display:none}.w3m-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}`;aa_=Object.defineProperty,aa$=Object.getOwnPropertyDescriptor,dt=(g,b,e,c)=>{for(var a=c>1?void 0:c?aa$(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&aa_(b,e,a),a};let bt=class extends g{constructor(){super(...arguments),this.chainId=void 0,this.isError=!1,this.label=""}svgLoaderTemplate(){return a`<svg width="54" height="59" viewBox="0 0 54 59" fill="none" class="w3m-loader"><path id="w3m-loader-path" d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z"/><use xlink:href="#w3m-loader-path" stroke-dasharray="54 118" stroke-dashoffset="172"></use></svg>`}render(){const b={"w3m-error":this.isError};return a`<div class="${T(b)}">${this.svgLoaderTemplate()}<w3m-network-image chainId="${this.chainId}"></w3m-network-image></div><w3m-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Switch declined":this.label}</w3m-text>`}};bt.styles=[j.globalCss,aaZ],dt([e()],bt.prototype,"chainId",2),dt([e()],bt.prototype,"isError",2),dt([e()],bt.prototype,"label",2),bt=dt([h("w3m-network-waiting")],bt);const abc=l`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}w3m-button{margin:0 5px}`;abd=Object.defineProperty,abe=Object.getOwnPropertyDescriptor,bd=(g,b,e,c)=>{for(var a=c>1?void 0:c?abe(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abd(b,e,a),a};let at=class extends g{constructor(){super(...arguments),this.isMobile=!1,this.isInjected=!1,this.isInjectedInstalled=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){d.isMobile()?n.replace("MobileConnecting"):n.replace("MobileQrcodeConnecting")}onInjected(){this.isInjectedInstalled?n.replace("InjectedConnecting"):n.replace("InstallWallet")}onDesktop(){n.replace("DesktopConnecting")}onWeb(){n.replace("WebConnecting")}render(){const{isStandalone:b}=f.state;return a`<div>${this.isRetry?a`<slot></slot>`:null} ${this.isMobile?a`<w3m-button .onClick="${this.onMobile}" .iconLeft="${i.MOBILE_ICON}" variant="outline">Mobile</w3m-button>`:null} ${this.isInjected&&!b?a`<w3m-button .onClick="${this.onInjected}" .iconLeft="${i.WALLET_ICON}" variant="outline">Browser</w3m-button>`:null} ${this.isDesktop?a`<w3m-button .onClick="${this.onDesktop}" .iconLeft="${i.DESKTOP_ICON}" variant="outline">Desktop</w3m-button>`:null} ${this.isWeb?a`<w3m-button .onClick="${this.onWeb}" .iconLeft="${i.GLOBE_ICON}" variant="outline">Web</w3m-button>`:null}</div>`}};at.styles=[j.globalCss,abc],bd([e()],at.prototype,"isMobile",2),bd([e()],at.prototype,"isInjected",2),bd([e()],at.prototype,"isInjectedInstalled",2),bd([e()],at.prototype,"isDesktop",2),bd([e()],at.prototype,"isWeb",2),bd([e()],at.prototype,"isRetry",2),at=bd([h("w3m-platform-selection")],at);const abh=l`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--w3m-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.w3m-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--w3m-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--w3m-color-bg-2);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay)}button:active{background-color:var(--w3m-color-overlay)}@media(hover:hover){button:hover{background-color:var(--w3m-color-overlay)}}.w3m-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--w3m-wallet-icon-border-radius)/ 2);border:1px solid var(--w3m-color-overlay)}.w3m-icons svg{width:21px;height:21px}.w3m-icons img:nth-child(1),.w3m-icons img:nth-child(2),.w3m-icons svg:nth-child(1),.w3m-icons svg:nth-child(2){margin-bottom:4px}w3m-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--w3m-color-bg-3)}#wallet-placeholder-dash{stroke:var(--w3m-color-overlay)}`;abi=Object.defineProperty,abj=Object.getOwnPropertyDescriptor,abk=(g,b,e,c)=>{for(var a=c>1?void 0:c?abj(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abi(b,e,a),a};let fb=class extends g{onClick(){n.push("WalletExplorer")}render(){const{recomendedWallets:d}=B.state,e=Z.manualWallets(),b=[...d,...e].reverse().slice(0,4);return a`<button @click="${this.onClick}"><div class="w3m-icons">${b.map(b=>{const d=c.getWalletIcon(b);if(d)return a`<img src="${d}">`;const e=c.getWalletIcon({id:b.id});return e?a`<img src="${e}">`:i.WALLET_PLACEHOLDER})} ${[...Array(4-b.length)].map(()=>i.WALLET_PLACEHOLDER)}</div><w3m-text variant="xsmall-regular">View All</w3m-text></button>`}};fb.styles=[j.globalCss,abh],fb=abk([h("w3m-view-all-wallets-button")],fb);const abm=l`.w3m-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;abn=Object.defineProperty,abo=Object.getOwnPropertyDescriptor,dz=(g,b,e,c)=>{for(var a=c>1?void 0:c?abo(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abn(b,e,a),a};let bn=class extends g{constructor(){super(),this.walletId="",this.imageId="",this.uri="",this.unwatchWcConnection=void 0,setTimeout(()=>{const{pairingUri:a}=C.state,{standaloneUri:b}=f.state;this.uri=b??a},0),this.unwatchWcConnection=C.subscribe(a=>{a.pairingUri&&(this.uri=a.pairingUri)})}disconnectedCallback(){var a;(a=this.unwatchWcConnection)==null||a.call(this)}get overlayEl(){return c.getShadowRootElement(this,".w3m-qr-container")}render(){return a`<div class="w3m-qr-container">${this.uri?a`<w3m-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${this.walletId}" imageId="${this.imageId}"></w3m-qrcode>`:a`<w3m-spinner></w3m-spinner>`}</div>`}};bn.styles=[j.globalCss,abm],dz([e()],bn.prototype,"walletId",2),dz([e()],bn.prototype,"imageId",2),dz([p()],bn.prototype,"uri",2),bn=dz([h("w3m-walletconnect-qr")],bn);const abr=l`.w3m-profile{display:flex;justify-content:space-between;align-items:flex-start;padding-top:20px}.w3m-connection-badge{background-color:var(--w3m-color-bg-2);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);padding:6px 10px 6px 26px;position:relative;border-radius:28px}.w3m-connection-badge::before{content:'';position:absolute;width:10px;height:10px;left:10px;background-color:var(--w3m-success-color);border-radius:50%;top:50%;margin-top:-5px;box-shadow:0 1px 4px 1px var(--w3m-success-color),inset 0 0 0 1px var(--w3m-color-overlay)}.w3m-footer{display:flex;justify-content:space-between}w3m-address-text{margin-top:10px;display:block}.w3m-balance{border-top:1px solid var(--w3m-color-bg-2);padding:11px 20px}`;abs=Object.defineProperty,abt=Object.getOwnPropertyDescriptor,abu=(g,b,e,c)=>{for(var a=c>1?void 0:c?abt(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abs(b,e,a),a};let eY=class extends g{async onDisconnect(){await u.client().disconnect()}async onCopyAddress(){var a;await navigator.clipboard.writeText((a=r.state.address)!=null?a:""),W.openToast("Address copied","success")}render(){return a`<w3m-modal-content><div class="w3m-profile"><div class="w3m-info"><w3m-avatar size="medium"></w3m-avatar><w3m-address-text variant="modal"></w3m-address-text></div><div class="w3m-connection-badge"><w3m-text variant="small-regular" color="secondary">Connected</w3m-text></div></div></w3m-modal-content><div class="w3m-balance"><w3m-balance></w3m-balance></div><w3m-modal-footer><div class="w3m-footer"><w3m-account-network-button></w3m-account-network-button><w3m-box-button label="Copy Address" .onClick="${this.onCopyAddress}" .icon="${i.ACCOUNT_COPY}"></w3m-box-button><w3m-box-button label="Disconnect" .onClick="${this.onDisconnect}" .icon="${i.ACCOUNT_DISCONNECT}"></w3m-box-button></div></w3m-modal-footer>`}};eY.styles=[j.globalCss,abr],eY=abu([h("w3m-account-view")],eY),abw=Object.defineProperty,abx=Object.getOwnPropertyDescriptor,aby=(g,b,e,c)=>{for(var a=c>1?void 0:c?abx(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abw(b,e,a),a};let eS=class extends g{viewTemplate(){return d.isAndroid()?a`<w3m-android-wallet-selection></w3m-android-wallet-selection>`:d.isMobile()?a`<w3m-mobile-wallet-selection></w3m-mobile-wallet-selection>`:a`<w3m-desktop-wallet-selection></w3m-desktop-wallet-selection>`}render(){return a`${this.viewTemplate()}<w3m-legal-notice></w3m-legal-notice>`}};eS.styles=[j.globalCss],eS=aby([h("w3m-connect-wallet-view")],eS);const abA=l`w3m-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}w3m-text{text-align:center}`;abB=Object.defineProperty,abC=Object.getOwnPropertyDescriptor,jw=(g,b,e,c)=>{for(var a=c>1?void 0:c?abC(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abB(b,e,a),a};let dD=class extends g{constructor(){super(),this.isError=!1,this.unwatchConnection=void 0,this.openDesktopApp(),this.unwatchConnection=C.subscribe(a=>{this.isError=a.pairingError})}disconnectedCallback(){var a;(a=this.unwatchConnection)==null||a.call(this)}onFormatAndRedirect(b){const{desktop:c,name:e}=d.getWalletRouterData(),a=c?.native;if(a){const c=d.formatNativeUrl(a,b,e);d.openHref(c,"_self")}}openDesktopApp(){C.setPairingError(!1);const{standaloneUri:a}=f.state,{pairingUri:b}=C.state,e=d.getWalletRouterData();c.setRecentWallet(e),a?this.onFormatAndRedirect(a):this.onFormatAndRedirect(b)}render(){const{name:b,id:e,image_id:f}=d.getWalletRouterData(),{isMobile:g,isInjected:h,isWeb:j}=c.getCachedRouterWalletPlatforms();return a`<w3m-modal-header title="${b}" .onAction="${c.handleUriCopy}" .actionIcon="${i.COPY_ICON}"></w3m-modal-header><w3m-modal-content><w3m-connector-waiting walletId="${e}" imageId="${f}" label="${`Continue in ${b}...`}" .isError="${this.isError}"></w3m-connector-waiting></w3m-modal-content><w3m-info-footer><w3m-text color="secondary" variant="small-thin">${`Connection can continue loading if ${b} is not installed on your device`}</w3m-text><w3m-platform-selection .isMobile="${g}" .isInjected="${h}" .isWeb="${j}" .isRetry="${!0}"><w3m-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${i.RETRY_ICON}">Retry</w3m-button></w3m-platform-selection></w3m-info-footer>`}};dD.styles=[j.globalCss,abA],jw([p()],dD.prototype,"isError",2),dD=jw([h("w3m-desktop-connecting-view")],dD);const abF=l`.w3m-info-text{margin:5px 0 15px;max-width:320px;text-align:center}.w3m-wallet-item{margin:0 -20px 0 0;padding-right:20px;display:flex;align-items:center;border-bottom:1px solid var(--w3m-color-bg-2)}.w3m-wallet-item:last-child{margin-bottom:-20px;border-bottom:0}.w3m-wallet-content{margin-left:20px;height:60px;display:flex;flex:1;align-items:center;justify-content:space-between}.w3m-footer-actions{display:flex;flex-direction:column;align-items:center;padding:20px 0;border-top:1px solid var(--w3m-color-bg-2)}w3m-wallet-image{display:block;width:40px;height:40px;border-radius:10px}`;abG=Object.defineProperty,abH=Object.getOwnPropertyDescriptor,abI=(g,b,e,c)=>{for(var a=c>1?void 0:c?abH(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abG(b,e,a),a};let eR=class extends g{onGet(a){d.openHref(a,"_blank")}render(){const b=B.state.recomendedWallets.slice(0,5),d=Z.manualWallets().slice(0,5),e=b.length,f=d.length;return a`<w3m-modal-header title="Get a wallet"></w3m-modal-header><w3m-modal-content>${e?b.map(b=>a`<div class="w3m-wallet-item"><w3m-wallet-image walletId="${b.id}" imageId="${b.image_id}"></w3m-wallet-image><div class="w3m-wallet-content"><w3m-text variant="medium-regular">${b.name}</w3m-text><w3m-button .iconRight="${i.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGet(b.homepage)}">Get</w3m-button></div></div>`):null} ${f?d.map(b=>a`<div class="w3m-wallet-item"><w3m-wallet-image walletId="${b.id}"></w3m-wallet-image><div class="w3m-wallet-content"><w3m-text variant="medium-regular">${b.name}</w3m-text><w3m-button .iconRight="${i.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGet(b.links.universal)}">Get</w3m-button></div></div>`):null}</w3m-modal-content><div class="w3m-footer-actions"><w3m-text variant="medium-regular">Not what you're looking for?</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">With hundreds of wallets out there, there's something for everyone</w3m-text><w3m-button .onClick="${c.openWalletExplorerUrl}" .iconRight="${i.ARROW_UP_RIGHT_ICON}">Explore Wallets</w3m-button></div>`}};eR.styles=[j.globalCss,abF],eR=abI([h("w3m-get-wallet-view")],eR);const abK=l`.w3m-footer-actions{display:flex;justify-content:center}.w3m-footer-actions w3m-button{margin:0 5px}.w3m-info-container{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:20px}.w3m-info-container:last-child{margin-bottom:0}.w3m-info-text{margin-top:5px;text-align:center}.w3m-images svg{margin:0 2px 5px;width:55px;height:55px}.help-img-highlight{stroke:var(--w3m-color-overlay)}`;abL=Object.defineProperty,abM=Object.getOwnPropertyDescriptor,abN=(g,b,e,c)=>{for(var a=c>1?void 0:c?abM(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abL(b,e,a),a};let eQ=class extends g{constructor(){super(...arguments),this.learnUrl="https://ethereum.org/en/wallets/"}onGet(){v.state.enableExplorer?n.push("GetWallet"):c.openWalletExplorerUrl()}onLearnMore(){d.openHref(this.learnUrl,"_blank")}render(){return a`<w3m-modal-header title="What is a wallet?"></w3m-modal-header><w3m-modal-content><div class="w3m-info-container"><div class="w3m-images">${i.HELP_CHART_IMG} ${i.HELP_PAINTING_IMG} ${i.HELP_ETH_IMG}</div><w3m-text variant="medium-regular">A home for your digital assets</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs.</w3m-text></div><div class="w3m-info-container"><div class="w3m-images">${i.HELP_KEY_IMG} ${i.HELP_USER_IMG} ${i.HELP_LOCK_IMG}</div><w3m-text variant="medium-regular">One login for all of web3</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">Log in to any app by connecting your wallet. Say goodbye to countless passwords!</w3m-text></div><div class="w3m-info-container"><div class="w3m-images">${i.HELP_COMPAS_IMG} ${i.HELP_NOUN_IMG} ${i.HELP_DAO_IMG}</div><w3m-text variant="medium-regular">Your gateway to a new web</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more.</w3m-text></div><div class="w3m-footer-actions"><w3m-button .onClick="${this.onGet.bind(this)}" .iconLeft="${i.WALLET_ICON}">Get a Wallet</w3m-button><w3m-button .onClick="${this.onLearnMore.bind(this)}" .iconRight="${i.ARROW_UP_RIGHT_ICON}">Learn More</w3m-button></div></w3m-modal-content>`}};eQ.styles=[j.globalCss,abK],eQ=abN([h("w3m-help-view")],eQ);const abP=l`w3m-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}w3m-text{text-align:center}`;abQ=Object.defineProperty,abR=Object.getOwnPropertyDescriptor,jD=(g,b,e,c)=>{for(var a=c>1?void 0:c?abR(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abQ(b,e,a),a};let dG=class extends g{constructor(){super(),this.isError=!1,this.connector=u.client().getConnectorById("injected"),this.openInjectedApp()}async openInjectedApp(){const{ready:a}=this.connector;a&&(this.isError=!1,await c.handleConnectorConnection("injected",()=>{this.isError=!0}))}render(){const{name:b,id:e,image_id:f}=d.getWalletRouterData(),{isMobile:g,isDesktop:h,isWeb:j}=c.getCachedRouterWalletPlatforms();return a`<w3m-modal-header title="${b}"></w3m-modal-header><w3m-modal-content><w3m-connector-waiting walletId="${e}" imageId="${f}" label="${`Continue in ${b}...`}" .isError="${this.isError}"></w3m-connector-waiting></w3m-modal-content><w3m-info-footer><w3m-text color="secondary" variant="small-thin">Connection can be declined if multiple wallets are installed or previous request is still active</w3m-text><w3m-platform-selection .isMobile="${g}" .isDesktop="${h}" .isWeb="${j}" .isRetry="${!0}"><w3m-button .onClick="${this.openInjectedApp.bind(this)}" .disabled="${!this.isError}" .iconRight="${i.RETRY_ICON}">Retry</w3m-button></w3m-platform-selection></w3m-info-footer>`}};dG.styles=[j.globalCss,abP],jD([p()],dG.prototype,"isError",2),dG=jD([h("w3m-injected-connecting-view")],dG);const abU=l`w3m-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}w3m-text{text-align:center}w3m-button{margin-top:15px}`;abV=Object.defineProperty,abW=Object.getOwnPropertyDescriptor,abX=(g,b,e,c)=>{for(var a=c>1?void 0:c?abW(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&abV(b,e,a),a};let eN=class extends g{onInstall(a){a&&d.openHref(a,"_blank")}render(){const{name:b,id:c,image_id:e,homepage:f}=d.getWalletRouterData();return a`<w3m-modal-header title="${b}"></w3m-modal-header><w3m-modal-content><w3m-connector-waiting walletId="${c}" imageId="${e}" label="Not Detected" .isStale="${!0}"></w3m-connector-waiting></w3m-modal-content><w3m-info-footer><w3m-text color="secondary" variant="small-thin">${`Download ${b} to continue. If multiple browser extensions are installed, disable non ${b} ones and try again`}</w3m-text><w3m-button .onClick="${()=>this.onInstall(f)}" .iconLeft="${i.ARROW_DOWN_ICON}">Download</w3m-button></w3m-info-footer>`}};eN.styles=[j.globalCss,abU],eN=abX([h("w3m-install-wallet-view")],eN);const abZ=l`w3m-wallet-image{border-radius:var(--w3m-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}w3m-info-footer{display:flex;width:100%}.w3m-app-store{justify-content:space-between}.w3m-app-store w3m-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--w3m-wallet-icon-small-border-radius)}.w3m-app-store div{display:flex;align-items:center}.w3m-app-store w3m-button{margin-right:-10px}.w3m-note{flex-direction:column;align-items:center;padding:5px 0}.w3m-note w3m-text{text-align:center}w3m-platform-selection div{display:flex}w3m-platform-selection w3m-button:nth-child(2){margin-left:10px}`;ab_=Object.defineProperty,ab$=Object.getOwnPropertyDescriptor,jI=(g,b,e,c)=>{for(var a=c>1?void 0:c?ab$(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&ab_(b,e,a),a};let dI=class extends g{constructor(){super(),this.isError=!1,this.unwatchConnection=void 0,this.openMobileApp(),this.unwatchConnection=C.subscribe(a=>{this.isError=a.pairingError})}disconnectedCallback(){var a;(a=this.unwatchConnection)==null||a.call(this)}onFormatAndRedirect(a,g=!1){const{mobile:b,name:c}=d.getWalletRouterData(),e=b?.native,f=b?.universal;if(e&&!g){const b=d.formatNativeUrl(e,a,c);d.openHref(b,"_self")}else if(f){const b=d.formatUniversalUrl(f,a,c);d.openHref(b,"_self")}}openMobileApp(a=!1){C.setPairingError(!1);const{standaloneUri:b}=f.state,{pairingUri:e}=C.state,g=d.getWalletRouterData();c.setRecentWallet(g),b?this.onFormatAndRedirect(b,a):this.onFormatAndRedirect(e,a)}onGoToAppStore(a){a&&d.openHref(a,"_blank")}render(){const{name:b,id:e,image_id:f,app:h,mobile:j}=d.getWalletRouterData(),{isWeb:k}=c.getCachedRouterWalletPlatforms(),l=h?.ios,g=j?.universal;return a`<w3m-modal-header title="${b}"></w3m-modal-header><w3m-modal-content><w3m-connector-waiting walletId="${e}" imageId="${f}" label="Tap 'Open' to continue…" .isError="${this.isError}"></w3m-connector-waiting></w3m-modal-content><w3m-info-footer class="w3m-note"><w3m-text color="secondary" variant="small-thin">You can reload the website to try again ${g?` or open ${b} using a "Backup" instead`:""}</w3m-text><w3m-platform-selection .isWeb="${k}" .isRetry="${!0}"><div><w3m-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${i.RETRY_ICON}">Retry</w3m-button>${g?a`<w3m-button variant="outline" .onClick="${()=>this.openMobileApp(!0)}" .iconRight="${i.ARROW_UP_RIGHT_ICON}">Backup</w3m-button>`:null}</div></w3m-platform-selection></w3m-info-footer><w3m-info-footer class="w3m-app-store"><div><w3m-wallet-image walletId="${e}" imageId="${f}"></w3m-wallet-image><w3m-text>${`Get ${b}`}</w3m-text></div><w3m-button .iconRight="${i.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(l)}" variant="ghost">App Store</w3m-button></w3m-info-footer>`}};dI.styles=[j.globalCss,abZ],jI([p()],dI.prototype,"isError",2),dI=jI([h("w3m-mobile-connecting-view")],dI);const acc=l`w3m-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}w3m-text{text-align:center}`;acd=Object.defineProperty,ace=Object.getOwnPropertyDescriptor,acf=(g,b,e,c)=>{for(var a=c>1?void 0:c?ace(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&acd(b,e,a),a};let eG=class extends g{render(){const{name:b,id:e,image_id:f}=d.getWalletRouterData(),{isInjected:g,isDesktop:h,isWeb:j}=c.getCachedRouterWalletPlatforms();return a`<w3m-modal-header title="${b}" .onAction="${c.handleUriCopy}" .actionIcon="${i.COPY_ICON}"></w3m-modal-header><w3m-modal-content><w3m-walletconnect-qr walletId="${e}" imageId="${f}"></w3m-walletconnect-qr></w3m-modal-content><w3m-info-footer><w3m-text color="secondary" variant="small-thin">${`Scan this qrcode with your phone's camera or inside ${b} app`}</w3m-text><w3m-platform-selection .isDesktop="${h}" .isInjected="${g}" .isWeb="${j}"></w3m-platform-selection></w3m-info-footer>`}};eG.styles=[j.globalCss,acc],eG=acf([h("w3m-mobile-qr-connecting-view")],eG),ach=Object.defineProperty,aci=Object.getOwnPropertyDescriptor,acj=(g,b,e,c)=>{for(var a=c>1?void 0:c?aci(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&ach(b,e,a),a};let eD=class extends g{render(){return a`<w3m-modal-header title="Scan the code" .onAction="${c.handleUriCopy}" .actionIcon="${i.COPY_ICON}"></w3m-modal-header><w3m-modal-content><w3m-walletconnect-qr></w3m-walletconnect-qr></w3m-modal-content>`}};eD.styles=[j.globalCss],eD=acj([h("w3m-qrcode-view")],eD);const acl=l`div{display:grid;grid-template-columns:repeat(4,80px);margin:-5px -10px;justify-content:space-between}w3m-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}w3m-info-footer w3m-text{text-align:center}`;kb=Object.defineProperty,acn=Object.defineProperties,aco=Object.getOwnPropertyDescriptor,acp=Object.getOwnPropertyDescriptors,kK=Object.getOwnPropertySymbols,acr=Object.prototype.hasOwnProperty,acs=Object.prototype.propertyIsEnumerable,kL=(a,b,c)=>b in a?kb(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,acu=(c,b)=>{var a;for(a in b||(b={}))acr.call(b,a)&&kL(c,a,b[a]);if(kK)for(a of kK(b))acs.call(b,a)&&kL(c,a,b[a]);return c},acv=(a,b)=>acn(a,acp(b)),el=(g,b,e,c)=>{for(var a=c>1?void 0:c?aco(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&kb(b,e,a),a};let cD=class extends g{constructor(){super(),this.connectedChains="ALL",this.isUnsupportedChains=!1,this.getConnectedChainIds()}async getConnectedChainIds(){this.connectedChains=await u.client().getConnectedChainIds()}async onSelectChain(a){try{const{selectedChain:b,walletConnectVersion:c,isPreferInjected:d}=f.state,{isConnected:e}=r.state;e?b?.id===a.id?n.reset("Account"):c===2?(await u.client().switchNetwork({chainId:a.id}),n.reset("Account")):n.push("SwitchNetwork",{SwitchNetwork:a}):d?(f.setSelectedChain(a),N.close()):(f.setSelectedChain(a),n.push("ConnectWallet"))}catch(a){console.error(a),W.openToast(c.getErrorMessage(a),"error")}}isUnsuportedChainId(a){return typeof this.connectedChains=="string"&&this.connectedChains!=="ALL"?(this.isUnsupportedChains=!0,!0):!!(Array.isArray(this.connectedChains)&&!this.connectedChains.includes(String(a)))&&(this.isUnsupportedChains=!0,!0)}render(){const{chains:b}=f.state,c=b?.map(a=>acv(acu({},a),{unsupported:this.isUnsuportedChainId(a.id)})),d=c?.sort((a,b)=>Number(a.unsupported)-Number(b.unsupported));return a`<w3m-modal-header title="Select network"></w3m-modal-header><w3m-modal-content><div>${d?.map(b=>a`<w3m-network-button name="${b.name}" chainId="${b.id}" .unsupported="${b.unsupported}" .onClick="${async()=>this.onSelectChain(b)}">${b.name}</w3m-network-button>`)}</div></w3m-modal-content>${this.isUnsupportedChains?a`<w3m-info-footer><w3m-text color="secondary" variant="small-thin">Your connected wallet may not support some of the networks available for this dapp</w3m-text></w3m-info-footer>`:null}`}};cD.styles=[j.globalCss,acl],el([p()],cD.prototype,"connectedChains",2),el([p()],cD.prototype,"isUnsupportedChains",2),cD=el([h("w3m-select-network-view")],cD);const acy=l`w3m-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}w3m-text{text-align:center}w3m-button{margin-top:15px}`;acz=Object.defineProperty,acA=Object.getOwnPropertyDescriptor,kW=(g,b,e,c)=>{for(var a=c>1?void 0:c?acA(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&acz(b,e,a),a};let d_=class extends g{constructor(){super(),this.isError=!1,this.onSwitchNetwork()}async onSwitchNetwork(){try{this.isError=!1;const a=d.getSwitchNetworkRouterData();await u.client().switchNetwork({chainId:a.id}),f.setSelectedChain(a),n.reset("Account")}catch{this.isError=!0}}render(){const{id:b,name:c}=d.getSwitchNetworkRouterData();return a`<w3m-modal-header title="${`Connect to ${c}`}"></w3m-modal-header><w3m-modal-content><w3m-network-waiting chainId="${b}" label="Approve in your wallet" .isError="${this.isError}"></w3m-network-waiting></w3m-modal-content><w3m-info-footer><w3m-text color="secondary" variant="small-thin">Switch can be declined if chain is not supported by a wallet or previous request is still active</w3m-text><w3m-button .onClick="${this.onSwitchNetwork.bind(this)}" .disabled="${!this.isError}" .iconRight="${i.RETRY_ICON}">Try Again</w3m-button></w3m-info-footer>`}};d_.styles=[j.globalCss,acy],kW([p()],d_.prototype,"isError",2),d_=kW([h("w3m-switch-network-view")],d_);const acD=l`w3m-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}w3m-modal-content::after,w3m-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}w3m-modal-content::before{box-shadow:0 -1px 0 0 var(--w3m-color-bg-1);background:linear-gradient(var(--w3m-color-bg-1),rgba(255,255,255,0))}w3m-modal-content::after{box-shadow:0 1px 0 0 var(--w3m-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--w3m-color-bg-1));top:calc(100% - 20px)}w3m-modal-content::-webkit-scrollbar{display:none}.w3m-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.w3m-empty,.w3m-loading{display:flex}.w3m-loading .w3m-placeholder-block{height:100%}.w3m-end-reached .w3m-placeholder-block{height:0;opacity:0}.w3m-empty .w3m-placeholder-block{opacity:1;height:100%}w3m-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;acE=Object.defineProperty,acF=Object.getOwnPropertyDescriptor,cF=(g,b,e,c)=>{for(var a=c>1?void 0:c?acF(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&acE(b,e,a),a};const ej=40;let aY=class extends g{constructor(){super(...arguments),this.loading=!B.state.wallets.listings.length,this.firstFetch=!B.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=c.debounce(a=>{a.length>=3?(this.firstFetch=!0,this.endReached=!1,this.search=a,B.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),B.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var a;(a=this.intersectionObserver)==null||a.disconnect()}get placeholderEl(){return c.getShadowRootElement(this,".w3m-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([a])=>{a.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:b,search:c}=B.state,{listings:d,total:a}=this.search?c:b;return a<=ej||d.length>=a}async fetchWallets(){var a;const{wallets:e,search:g,injectedWallets:h}=B.state,{listings:i,total:b,page:j}=this.search?g:e;if(!this.endReached&&(this.firstFetch||b>ej&&i.length<b))try{this.loading=!0;const b=(a=f.state.standaloneChains)==null?void 0:a.join(","),{listings:e}=await B.getWallets({page:this.firstFetch?1:j+1,entries:ej,search:this.search,version:f.state.walletConnectVersion,chains:b}),g=e.map(a=>c.getWalletIcon(a)),i=h.map(a=>c.getWalletIcon(a));await Promise.all([...g.map(async a=>c.preloadImage(a)),...i.map(async a=>c.preloadImage(a)),d.wait(300)]),this.endReached=this.isLastPage()}catch(a){console.error(a),W.openToast(c.getErrorMessage(a),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(a){d.isAndroid()?c.handleMobileLinking(a):c.goToConnectingView(a)}onSearchChange(a){const{value:b}=a.target;this.searchDebounce(b)}render(){const{wallets:j,search:k}=B.state,{listings:b}=this.search?k:j,g=this.loading&&!b.length,i=this.search.length>=3;let d=O.injectedWalletsTemplate(),f=O.manualWalletsTemplate(),e=O.recomendedWalletsTemplate(!0);i&&(d=d.filter(({values:a})=>c.caseSafeIncludes(a[0],this.search)),f=f.filter(({values:a})=>c.caseSafeIncludes(a[0],this.search)),e=e.filter(({values:a})=>c.caseSafeIncludes(a[0],this.search)));const h=!this.loading&&!b.length&&!d.length&&!e.length,l=Math.max(d.length,b.length),m={"w3m-loading":g,"w3m-end-reached":this.endReached||!this.loading,"w3m-empty":h};return a`<w3m-modal-header><w3m-search-input .onChange="${this.onSearchChange.bind(this)}"></w3m-search-input></w3m-modal-header><w3m-modal-content class="${T(m)}"><div class="w3m-grid">${g?null:e} ${g?null:[...Array(l)].map((e,c)=>a`${f[c]} ${d[c]} ${b[c]?a`<w3m-wallet-button imageId="${b[c].image_id}" name="${b[c].name}" walletId="${b[c].id}" .onClick="${()=>this.onConnect(b[c])}"></w3m-wallet-button>`:null}`)}</div><div class="w3m-placeholder-block">${h?a`<w3m-text variant="big-bold" color="secondary">No results found</w3m-text>`:null} ${!h&&this.loading?a`<w3m-spinner></w3m-spinner>`:null}</div></w3m-modal-content>`}};aY.styles=[j.globalCss,acD],cF([p()],aY.prototype,"loading",2),cF([p()],aY.prototype,"firstFetch",2),cF([p()],aY.prototype,"search",2),cF([p()],aY.prototype,"endReached",2),aY=cF([h("w3m-wallet-explorer-view")],aY);const acJ=l`w3m-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}w3m-text{text-align:center}`;acK=Object.defineProperty,acL=Object.getOwnPropertyDescriptor,lI=(g,b,e,c)=>{for(var a=c>1?void 0:c?acL(b,e):b,f=g.length-1,d;f>=0;f--)(d=g[f])&&(a=(c?d(b,e,a):d(a))||a);return c&&a&&acK(b,e,a),a};let dZ=class extends g{constructor(){super(),this.isError=!1,this.unwatchConnection=void 0,this.openWebWallet(),this.unwatchConnection=C.subscribe(a=>{this.isError=a.pairingError})}disconnectedCallback(){var a;(a=this.unwatchConnection)==null||a.call(this)}onFormatAndRedirect(b){const{desktop:c,name:e}=d.getWalletRouterData(),a=c?.universal;if(a){const c=d.formatUniversalUrl(a,b,e);d.openHref(c,"_blank")}}openWebWallet(){C.setPairingError(!1);const{standaloneUri:a}=f.state,{pairingUri:b}=C.state,e=d.getWalletRouterData();c.setRecentWallet(e),a?this.onFormatAndRedirect(a):this.onFormatAndRedirect(b)}render(){const{name:b,id:f,image_id:g}=d.getWalletRouterData(),{isMobile:h,isInjected:j,isDesktop:k}=c.getCachedRouterWalletPlatforms(),e=d.isMobile();return a`<w3m-modal-header title="${b}" .onAction="${c.handleUriCopy}" .actionIcon="${i.COPY_ICON}"></w3m-modal-header><w3m-modal-content><w3m-connector-waiting walletId="${f}" imageId="${g}" label="${`Continue in ${b}...`}" .isError="${this.isError}"></w3m-connector-waiting></w3m-modal-content><w3m-info-footer><w3m-text color="secondary" variant="small-thin">${`${b} web app has opened in a new tab. Go there, accept the connection, and come back`}</w3m-text><w3m-platform-selection .isMobile="${h}" .isInjected="${!e&&j}" .isDesktop="${!e&&k}" .isRetry="${!0}"><w3m-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${i.RETRY_ICON}">Retry</w3m-button></w3m-platform-selection></w3m-info-footer>`}};dZ.styles=[j.globalCss,acJ],lI([p()],dZ.prototype,"isError",2),dZ=lI([h("w3m-web-connecting-view")],dZ),acO=Object.freeze({__proto__:null,get W3mAccountButton(){return bq},get W3mConnectButton(){return aQ},get W3mCoreButton(){return aH},get W3mModal(){return bR},get W3mNetworkSwitch(){return bh},get W3mQrCode(){return au}}),ba.EthereumProvider=qX,ba.OPTIONAL_EVENTS=qJ,ba.OPTIONAL_METHODS=qH,ba.REQUIRED_EVENTS=dw,ba.REQUIRED_METHODS=dx,ba.default=fk,Object.defineProperty(ba,"__esModule",{value:!0})})